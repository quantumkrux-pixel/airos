/*! For license information please see main.258c18d5.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function z(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return z(e(t))}catch(il){}}return null}var A=Array.isArray,I=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},D=[],M=-1;function U(e){return{current:e}}function F(e){0>M||(e.current=D[M],D[M]=null,M--)}function B(e,t){M++,D[M]=e.current,e.current=t}var W,q,H=U(null),V=U(null),K=U(null),$=U(null);function G(e,t){switch(B(K,t),B(V,e),B(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(H),B(H,e)}function J(){F(H),F(V),F(K)}function Y(e){null!==e.memoizedState&&B($,e);var t=H.current,n=bd(t,e.type);t!==n&&(B(V,e),B(H,n))}function Q(e){V.current===e&&(F(H),F(V)),$.current===e&&(F($),dh._currentValue=L)}function X(e){if(void 0===W)try{throw Error()}catch(il){var t=il.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",q=-1<il.stack.indexOf("\n    at")?" (<anonymous>)":-1<il.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+W+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(il){var r=il}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(il){return"\nError generating stack: "+il.message+"\n"+il.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,oe=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,fe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof ge&&me(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var Se=256,_e=262144,je=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=Ce(r):0!==(o&=s)?i=Ce(o):n||0!==(n=s&~e)&&(i=Ce(n)):0!==(s=r&~a)?i=Ce(s):0!==o?i=Ce(o):n||0!==(n=r&~e)&&(i=Ce(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Re(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Oe(){var e=je;return 0===(62914560&(je<<=1))&&(je=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ze(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ne(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=N.p;return 0!==e?e:void 0===(e=window.event)?32:Eh(e.type)}function Ue(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var Fe=Math.random().toString(36).slice(2),Be="__reactFiber$"+Fe,We="__reactProps$"+Fe,qe="__reactContainer$"+Fe,He="__reactEvents$"+Fe,Ve="__reactListeners$"+Fe,Ke="__reactHandles$"+Fe,$e="__reactResources$"+Fe,Ge="__reactMarker$"+Fe;function Je(e){delete e[Be],delete e[We],delete e[He],delete e[Ve],delete e[Ke]}function Ye(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Dd(e);null!==e;){if(n=e[Be])return n;e=Dd(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Be]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},st={};function lt(e,t,n){if(i=t,re.call(st,i)||!re.call(ot,i)&&(at.test(i)?st[i]=!0:(ot[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function yt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?xt(e,o,dt(t)):null!=n?xt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function bt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),pt(e)}function xt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(A(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),pt(e)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||jt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Ct(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ot=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ot.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function zt(){}var At=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Lt=null;function Dt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[We]||null;if(!i)throw Error(o(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Ut(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Nt||null!==Lt)&&(eu(),Nt&&(t=Nt,e=Lt,Lt=Nt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[We]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wt=!1;if(Bt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Xh){Wt=!1}var Ht=null,Vt=null,Kt=null;function $t(){if(Kt)return Kt;var e,t,n=Vt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Yt(){return!1}function Qt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Jt:Yt,this.isPropagationStopped=Yt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Qt(tn),rn=p({},tn,{view:0,detail:0}),an=Qt(rn),on=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Qt(on),ln=Qt(p({},on,{dataTransfer:0})),cn=Qt(p({},rn,{relatedTarget:0})),un=Qt(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Qt(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Qt(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return mn}var vn=Qt(p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Qt(p({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Qt(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),wn=Qt(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Qt(p({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Qt(p({},tn,{newState:0,oldState:0})),_n=[9,13,27,32],jn=Bt&&"CompositionEvent"in window,Cn=null;Bt&&"documentMode"in document&&(Cn=document.documentMode);var En=Bt&&"TextEvent"in window&&!Cn,Tn=Bt&&(!jn||Cn&&8<Cn&&11>=Cn),Rn=String.fromCharCode(32),On=!1;function Pn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function Ln(e,t,n,r){Nt?Lt?Lt.push(r):Lt=[r]:Nt=r,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Mn=null;function Un(e){Yu(e,0)}function Fn(e){if(ft(Xe(e)))return e}function Bn(e,t){if("change"===e)return t}var Wn=!1;if(Bt){var qn;if(Bt){var Hn="oninput"in document;if(!Hn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Hn="function"===typeof Vn.oninput}qn=Hn}else qn=!1;Wn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){Dn&&(Dn.detachEvent("onpropertychange",$n),Mn=Dn=null)}function $n(e){if("value"===e.propertyName&&Fn(Mn)){var t=[];Ln(t,Mn,e,It(e)),Ut(Un,t)}}function Gn(e,t,n){"focusin"===e?(Kn(),Mn=n,(Dn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Kn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Mn)}function Yn(e,t){if("click"===e)return Fn(t)}function Qn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Bt&&"documentMode"in document&&11>=document.documentMode,or=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==or||or!==gt(r)||("selectionStart"in(r=or)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=id(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},pr={},fr={};function gr(e){if(pr[e])return pr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return pr[e]=n[t];return e}Bt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var mr=gr("animationend"),yr=gr("animationiteration"),vr=gr("animationstart"),br=gr("transitionrun"),xr=gr("transitionstart"),wr=gr("transitioncancel"),kr=gr("transitionend"),Sr=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Sr.set(e,t),rt(t,[e])}_r.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Er=[],Tr=0,Rr=0;function Or(){for(var e=Tr,t=Rr=Tr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var a=Er[t];if(Er[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Ir(n,i,a)}}function Pr(e,t,n,r){Er[Tr++]=e,Er[Tr++]=t,Er[Tr++]=n,Er[Tr++]=r,Rr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function zr(e,t,n,r){return Pr(e,t,n,r),Nr(e)}function Ar(e,t){return Pr(e,null,null,t),Nr(e)}function Ir(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-xe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Nr(e){if(50<Vc)throw Vc=0,Kc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Dr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wr(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)Ur(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Mr(31,n,t,i)).elementType=E,e.lanes=a,e;case y:return qr(n.children,i,a,t);case v:s=8,i|=24;break;case b:return(e=Mr(12,n,t,2|i)).elementType=b,e.lanes=a,e;case S:return(e=Mr(13,n,t,i)).elementType=S,e.lanes=a,e;case _:return(e=Mr(19,n,t,i)).elementType=_,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:s=10;break e;case x:s=9;break e;case k:s=11;break e;case j:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function qr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Vr(e){var t=Mr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $r=new WeakMap;function Gr(e,t){if("object"===typeof e&&null!==e){var n=$r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},$r.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Jr=[],Yr=0,Qr=null,Xr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){Jr[Yr++]=Xr,Jr[Yr++]=Qr,Qr=e,Xr=t}function ai(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-xe(r)-1;r&=~(1<<i),n+=1;var a=32-xe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ni=1<<32-xe(t)+i|n<<i|r,ri=a+e}else ni=1<<a|n<<i|r,ri=e}function oi(e){null!==e.return&&(ii(e,1),ai(e,1,0))}function si(e){for(;e===Qr;)Qr=Jr[--Yr],Jr[Yr]=null,Xr=Jr[--Yr],Jr[Yr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,pi=!1,fi=Error(o(519));function gi(e){throw wi(Gr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fi}function mi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[We]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Qu(Gu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=zt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ci=ci.return}}function vi(e){if(e!==ci)return!1;if(!di)return yi(e),di=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xd(e.type,e.memoizedProps)),t=!t),t&&ui&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ui=Ld(e)}else 27===n?(n=ui,Ed(e.type)?(e=Nd,Nd=null,ui=e):ui=n):ui=ci?Id(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,di=!1}function xi(){var e=hi;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),hi=null),e}function wi(e){null===hi?hi=[e]:hi.push(e)}var ki=U(null),Si=null,_i=null;function ji(e,t,n){B(ki,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=ki.current,F(ki)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ei(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ei(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Ri(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===$.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ti(t,e,n,r),t.flags|=262144}function Oi(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){Si=e,_i=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function zi(e){return Ii(Si,e)}function Ai(e,t){return null===Si&&Pi(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===_i){if(null===e)throw Error(o(308));_i=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _i=_i.next=t;return n}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Li=r.unstable_scheduleCallback,Di=r.unstable_NormalPriority,Mi={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Ni,data:new Map,refCount:0}}function Fi(e){e.refCount--,0===e.refCount&&Li(Di,function(){e.controller.abort()})}var Bi=null,Wi=0,qi=0,Hi=null;function Vi(){if(0===--Wi&&null!==Bi){null!==Hi&&(Hi.status="fulfilled");var e=Bi;Bi=null,qi=0,Hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=I.S;I.S=function(e,t){Ic=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];Wi=0,qi=qu(),Hi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Wi++,t.then(Vi,Vi)}(0,t),null!==Ki&&Ki(e,t)};var $i=U(null);function Gi(){var e=$i.current;return null!==e?e:gc.pooledCache}function Ji(e,t){B($i,null===t?$i.current:t.pool)}function Yi(){var e=Gi();return null===e?null:{parent:Mi._currentValue,pool:e}}var Qi=Error(o(460)),Xi=Error(o(474)),Zi=Error(o(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function na(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(zt,zt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"===typeof t.status)t.then(zt,zt);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw ia=t,Qi}}function ra(e){try{return(0,e._init)(e._payload)}catch(il){if(null!==il&&"object"===typeof il&&"function"===typeof il.then)throw ia=il,Qi;throw il}}var ia=null;function aa(){if(null===ia)throw Error(o(459));var e=ia;return ia=null,e}function oa(e){if(e===Qi||e===Zi)throw Error(o(483))}var sa=null,la=0;function ca(e){var t=la;return la+=1,null===sa&&(sa=[]),na(sa,e,t)}function ua(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function da(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===C&&ra(a)===t.type)?(ua(t=i(t,n.props),n),t.return=e,t):(ua(t=Wr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=qr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return ua(n=Wr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Kr(t,e.mode,n)).return=e,t;case C:return h(e,t=ra(t),n)}if(A(t)||O(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ca(t),n);if(t.$$typeof===w)return h(e,Ai(e,t),n);da(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case C:return p(e,t,n=ra(n),r)}if(A(n)||O(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,ca(n),r);if(n.$$typeof===w)return p(e,t,Ai(e,n),r);da(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return f(e,t,n,r=ra(r),i)}if(A(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return f(e,t,n,ca(r),i);if(r.$$typeof===w)return f(e,t,n,Ai(t,r),i);da(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&ra(b)===c.type){n(l,c.sibling),ua(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=qr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ua(d=Wr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return s(l);case C:return v(l,c,u=ra(u),d)}if(A(u))return function(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=p(i,d,s[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===s.length)return n(i,d),di&&ii(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,g),c}for(d=r(d);g<s.length;g++)null!==(m=f(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,g),c}(l,c,u,d);if(O(u)){if("function"!==typeof(b=O(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=p(i,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(i,g),di&&ii(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=h(i,v.value,c))&&(s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return di&&ii(i,m),u}for(g=r(g);!v.done;m++,v=l.next())null!==(v=f(g,i,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=a(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(i,e)}),di&&ii(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,ca(u),d);if(u.$$typeof===w)return v(l,c,Ai(l,u),d);da(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Hr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{la=0;var i=v(e,t,n,r);return sa=null,i}catch(il){if(il===Qi||il===Zi)throw il;var a=Mr(29,il,null,e.mode);return a.lanes=r,a.return=e,a}}}var pa=ha(!0),fa=ha(!1),ga=!1;function ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function va(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Nr(e),Ir(e,null,n),t}return Pr(e,r,t,n),Nr(e)}function xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function wa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ka=!1;function Sa(){if(ka){if(null!==Hi)throw Hi}}function _a(e,t,n,r){ka=!1;var i=e.updateQueue;ga=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(yc&h)===h:(r&h)===h){0!==h&&h===qi&&(ka=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;h=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(y,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=m.payload)?g.call(y,d,h):g)||void 0===h)break e;d=p({},d,h);break e;case 2:ga=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),jc|=o,e.lanes=o,e.memoizedState=d}}function ja(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function Ca(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ja(n[e],t)}var Ea=U(null),Ta=U(0);function Ra(e,t){B(Ta,e=Sc),B(Ea,t),Sc=e|t.baseLanes}function Oa(){B(Ta,Sc),B(Ea,Ea.current)}function Pa(){Sc=Ta.current,F(Ea),F(Ta)}var za=U(null),Aa=null;function Ia(e){var t=e.alternate;B(Ua,1&Ua.current),B(za,e),null===Aa&&(null===t||null!==Ea.current||null!==t.memoizedState)&&(Aa=e)}function Na(e){B(Ua,Ua.current),B(za,e),null===Aa&&(Aa=e)}function La(e){22===e.tag?(B(Ua,Ua.current),B(za,e),null===Aa&&(Aa=e)):Da()}function Da(){B(Ua,Ua.current),B(za,za.current)}function Ma(e){F(za),Aa===e&&(Aa=null),F(Ua)}var Ua=U(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||zd(n)||Ad(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=0,Wa=null,qa=null,Ha=null,Va=!1,Ka=!1,$a=!1,Ga=0,Ja=0,Ya=null,Qa=0;function Xa(){throw Error(o(321))}function Za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,i,a){return Ba=a,Wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?ms:ys,$a=!1,a=n(r,i),$a=!1,Ka&&(a=no(t,n,r,i)),to(e),a}function to(e){I.H=gs;var t=null!==qa&&null!==qa.next;if(Ba=0,Ha=qa=Wa=null,Va=!1,Ja=0,Ya=null,t)throw Error(o(300));null===e||As||null!==(e=e.dependencies)&&Oi(e)&&(As=!0)}function no(e,t,n,r){Wa=e;var i=0;do{if(Ka&&(Ya=null),Ja=0,Ka=!1,25<=i)throw Error(o(301));if(i+=1,Ha=qa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}I.H=vs,a=t(n,r)}while(Ka);return a}function ro(){var e=I.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==qa?qa.memoizedState:null)!==e&&(Wa.flags|=1024),t}function io(){var e=0!==Ga;return Ga=0,e}function ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Va){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Va=!1}Ba=0,Ha=qa=Wa=null,Ka=!1,Ja=Ga=0,Ya=null}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ha?Wa.memoizedState=Ha=e:Ha=Ha.next=e,Ha}function lo(){if(null===qa){var e=Wa.alternate;e=null!==e?e.memoizedState:null}else e=qa.next;var t=null===Ha?Wa.memoizedState:Ha.next;if(null!==t)Ha=t,qa=e;else{if(null===e){if(null===Wa.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(qa=e).memoizedState,baseState:qa.baseState,baseQueue:qa.baseQueue,queue:qa.queue,next:null},null===Ha?Wa.memoizedState=Ha=e:Ha=Ha.next=e}return Ha}function co(e){var t=Ja;return Ja+=1,null===Ya&&(Ya=[]),e=na(Ya,e,t),t=Wa,null===(null===Ha?t.memoizedState:Ha.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?ms:ys),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===w)return zi(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Wa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function po(e,t){return"function"===typeof t?t(e):t}function fo(e){return go(lo(),qa,e)}function go(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(yc&h)===h:(Ba&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===qi&&(d=!0);else{if((Ba&p)===p){u=u.next,p===qi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,Wa.lanes|=p,jc|=p}h=u.action,$a&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=a):c=c.next=p,Wa.lanes|=h,jc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Xn(a,e.memoizedState)&&(As=!0,d&&null!==(n=Hi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mo(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Xn(a,t.memoizedState)||(As=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yo(e,t,n){var r=Wa,i=lo(),a=di;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Xn((qa||i).memoizedState,n);if(s&&(i.memoizedState=n,As=!0),i=i.queue,Wo(xo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==Ha&&1&Ha.memoizedState.tag){if(r.flags|=2048,Do(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),null===gc)throw Error(o(349));a||0!==(127&Ba)||vo(r,t,n)}return n}function vo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,wo(t)&&ko(e)}function xo(e,t,n){return n(function(){wo(t)&&ko(e)})}function wo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function ko(e){var t=Ar(e,2);null!==t&&Jc(t,e,2)}function So(e){var t=so();if("function"===typeof e){var n=e;if(e=n(),$a){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t}function _o(e,t,n,r){return e.baseState=n,go(e,qa,"function"===typeof r?r:po)}function jo(e,t,n,r,i){if(hs(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==I.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,Co(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Co(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=I.T,o={};I.T=o;try{var s=n(i,r),l=I.S;null!==l&&l(o,s),Eo(e,t,s)}catch(c){Ro(e,t,c)}finally{null!==a&&null!==o.types&&(a.types=o.types),I.T=a}}else try{Eo(e,t,a=n(i,r))}catch(u){Ro(e,t,u)}}function Eo(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){To(e,t,n)},function(n){return Ro(e,t,n)}):To(e,t,n)}function To(e,t,n){t.status="fulfilled",t.value=n,Oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Co(e,n)))}function Ro(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Oo(t),t=t.next}while(t!==r)}e.action=null}function Oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function zo(e,t){if(di){var n=gc.formState;if(null!==n){e:{var r=Wa;if(di){if(ui){t:{for(var i=ui,a=pi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Id(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ui=Id(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=so()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},n.queue=r,n=cs.bind(null,Wa,r),r.dispatch=n,r=So(!1),a=ds.bind(null,Wa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=so()).queue=i,n=jo.bind(null,Wa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ao(e){return Io(lo(),qa,e)}function Io(e,t,n){if(t=go(e,t,Po)[0],e=fo(po)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=co(t)}catch(il){if(il===Qi)throw Zi;throw il}else r=t;var i=(t=lo()).queue,a=i.dispatch;return n!==t.memoizedState&&(Wa.flags|=2048,Do(9,{destroy:void 0},No.bind(null,i,n),null)),[r,a,e]}function No(e,t){e.action=t}function Lo(e){var t=lo(),n=qa;if(null!==n)return Io(t,n,e);lo(),t=t.memoizedState;var r=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Do(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mo(){return lo().memoizedState}function Uo(e,t,n,r){var i=so();Wa.flags|=e,i.memoizedState=Do(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fo(e,t,n,r){var i=lo();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==qa&&null!==r&&Za(r,qa.memoizedState.deps)?i.memoizedState=Do(t,a,n,r):(Wa.flags|=e,i.memoizedState=Do(1|t,a,n,r))}function Bo(e,t){Uo(8390656,8,e,t)}function Wo(e,t){Fo(2048,8,e,t)}function qo(e){var t=lo().memoizedState;return function(e){Wa.flags|=4;var t=Wa.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Wa.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Ho(e,t){return Fo(4,2,e,t)}function Vo(e,t){return Fo(4,4,e,t)}function Ko(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function $o(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Ko.bind(null,t,e),n)}function Go(){}function Jo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Za(t,r[1]))return r[0];if(r=e(),$a){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Qo(e,t,n){return void 0===n||0!==(1073741824&Ba)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Wa.lanes|=e,jc|=e,n)}function Xo(e,t,n,r){return Xn(n,t)?n:null!==Ea.current?(e=Qo(e,n,r),Xn(e,t)||(As=!0),e):0===(42&Ba)||0!==(1073741824&Ba)&&0===(261930&yc)?(As=!0,e.memoizedState=n):(e=Gc(),Wa.lanes|=e,jc|=e,t)}function Zo(e,t,n,r,i){var a=N.p;N.p=0!==a&&8>a?a:8;var o=I.T,s={};I.T=s,ds(e,!1,t,n);try{var l=i(),c=I.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),$c());else us(e,t,r,$c())}catch(u){us(e,t,{then:function(){},status:"rejected",reason:u},$c())}finally{N.p=a,null!==o&&null!==s.types&&(o.types=s.types),I.T=o}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=ns(e).queue;Zo(e,i,t,L,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},$c())}function is(){return zi(dh)}function as(){return lo().memoizedState}function os(){return lo().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$c(),r=ba(t,e=va(n),n);return null!==r&&(Jc(r,t,n),xa(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=$c();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?ps(t,n):null!==(n=zr(e,t,n,r))&&(Jc(n,e,r),fs(n,t,r))}function cs(e,t,n){us(e,t,n,$c())}function us(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))ps(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xn(s,o))return Pr(e,t,i,0),null===gc&&Or(),!1}catch(l){}if(null!==(n=zr(e,t,i,r)))return Jc(n,e,r),fs(n,t,r),!0}return!1}function ds(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(o(479))}else null!==(t=zr(e,n,r,2))&&Jc(t,e,2)}function hs(e){var t=e.alternate;return e===Wa||null!==t&&t===Wa}function ps(e,t){Ka=Va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var gs={readContext:zi,use:uo,useCallback:Xa,useContext:Xa,useEffect:Xa,useImperativeHandle:Xa,useLayoutEffect:Xa,useInsertionEffect:Xa,useMemo:Xa,useReducer:Xa,useRef:Xa,useState:Xa,useDebugValue:Xa,useDeferredValue:Xa,useTransition:Xa,useSyncExternalStore:Xa,useId:Xa,useHostTransitionStatus:Xa,useFormState:Xa,useActionState:Xa,useOptimistic:Xa,useMemoCache:Xa,useCacheRefresh:Xa};gs.useEffectEvent=Xa;var ms={readContext:zi,use:uo,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:zi,useEffect:Bo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=so();t=void 0===t?null:t;var r=e();if($a){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=so();if(void 0!==n){var i=n(t);if($a){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ls.bind(null,Wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},so().memoizedState=e},useState:function(e){var t=(e=So(e)).queue,n=cs.bind(null,Wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Go,useDeferredValue:function(e,t){return Qo(so(),e,t)},useTransition:function(){var e=So(!1);return e=Zo.bind(null,Wa,e.queue,!0,!1),so().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Wa,i=so();if(di){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===gc)throw Error(o(349));0!==(127&yc)||vo(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Bo(xo.bind(null,r,a,e),[e]),r.flags|=2048,Do(9,{destroy:void 0},bo.bind(null,r,a,n,t),null),n},useId:function(){var e=so(),t=gc.identifierPrefix;if(di){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-xe(ni)-1)).toString(32)+n),0<(n=Ga++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Qa++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:is,useFormState:zo,useActionState:zo,useOptimistic:function(e){var t=so();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return so().memoizedState=ss.bind(null,Wa)},useEffectEvent:function(e){var t=so(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ys={readContext:zi,use:uo,useCallback:Jo,useContext:zi,useEffect:Wo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:Yo,useReducer:fo,useRef:Mo,useState:function(){return fo(po)},useDebugValue:Go,useDeferredValue:function(e,t){return Xo(lo(),qa.memoizedState,e,t)},useTransition:function(){var e=fo(po)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:as,useHostTransitionStatus:is,useFormState:Ao,useActionState:Ao,useOptimistic:function(e,t){return _o(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:os};ys.useEffectEvent=qo;var vs={readContext:zi,use:uo,useCallback:Jo,useContext:zi,useEffect:Wo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:Yo,useReducer:mo,useRef:Mo,useState:function(){return mo(po)},useDebugValue:Go,useDeferredValue:function(e,t){var n=lo();return null===qa?Qo(n,e,t):Xo(n,qa.memoizedState,e,t)},useTransition:function(){var e=mo(po)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:as,useHostTransitionStatus:is,useFormState:Lo,useActionState:Lo,useOptimistic:function(e,t){var n=lo();return null!==qa?_o(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:os};function bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vs.useEffectEvent=qo;var xs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$c(),i=va(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ba(e,i,r))&&(Jc(t,e,r),xa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$c(),i=va(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ba(e,i,r))&&(Jc(t,e,r),xa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$c(),r=va(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ba(e,r,n))&&(Jc(t,e,n),xa(t,e,n))}};function ws(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,a))}function ks(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xs.enqueueReplaceState(t,t.state,null)}function Ss(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=p({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function _s(e){Cr(e)}function js(e){console.error(e)}function Cs(e){Cr(e)}function Es(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ts(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Rs(e,t,n){return(n=va(n)).tag=3,n.payload={element:null},n.callback=function(){Es(e,t)},n}function Os(e){return(e=va(e)).tag=3,e}function Ps(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ts(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Ts(t,n,r),"function"!==typeof i&&(null===Dc?Dc=new Set([this]):Dc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var zs=Error(o(461)),As=!1;function Is(e,t,n,r){t.child=null===e?fa(t,null,n,r):pa(t,e.child,n,r)}function Ns(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Pi(t),r=eo(e,t,n,o,a,i),s=io(),null===e||As?(di&&s&&oi(t),t.flags|=1,Is(e,t,r,i),t.child):(ao(e,t,i),al(e,t,i))}function Ls(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ur(a)||void 0!==a.defaultProps||null!==n.compare?((e=Wr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ds(e,t,a,r,i))}if(a=e.child,!ol(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return al(e,t,i)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function Ds(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(As=!1,t.pendingProps=r=a,!ol(e,i))return t.lanes=e.lanes,al(e,t,i);0!==(131072&e.flags)&&(As=!0)}}return Hs(e,t,n,r,i)}function Ms(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Fs(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Fs(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==a?a.cachePool:null),null!==a?Ra(t,a):Oa(),La(t)}else null!==a?(Ji(0,a.cachePool),Ra(t,a),Da(),t.memoizedState=null):(null!==e&&Ji(0,null),Oa(),Da());return Is(e,t,i,n),t.child}function Us(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fs(e,t,n,r,i){var a=Gi();return a=null===a?null:{parent:Mi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ji(0,null),Oa(),La(t),null!==e&&Ri(e,t,r,!0),t.childLanes=i,null}function Bs(e,t){return(t=Zs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ws(e,t,n){return pa(t,e.child,null,n),(e=Bs(t,t.pendingProps)).flags|=2,Ma(t),t.memoizedState=null,e}function qs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Hs(e,t,n,r,i){return Pi(t),n=eo(e,t,n,r,void 0,i),r=io(),null===e||As?(di&&r&&oi(t),t.flags|=1,Is(e,t,n,i),t.child):(ao(e,t,i),al(e,t,i))}function Vs(e,t,n,r,i,a){return Pi(t),t.updateQueue=null,n=no(t,r,n,i),to(e),r=io(),null===e||As?(di&&r&&oi(t),t.flags|=1,Is(e,t,n,a),t.child):(ao(e,t,a),al(e,t,a))}function Ks(e,t,n,r,i){if(Pi(t),null===t.stateNode){var a=Lr,o=n.contextType;"object"===typeof o&&null!==o&&(a=zi(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=xs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ma(t),o=n.contextType,a.context="object"===typeof o&&null!==o?zi(o):Lr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(bs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&xs.enqueueReplaceState(a,a.state,null),_a(t,r,a,i),Sa(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=Ss(n,s);a.props=l;var c=a.context,u=n.contextType;o=Lr,"object"===typeof u&&null!==u&&(o=zi(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&ks(t,a,r,o),ga=!1;var h=t.memoizedState;a.state=h,_a(t,r,a,i),Sa(),c=t.memoizedState,s||h!==c||ga?("function"===typeof d&&(bs(t,n,d,r),c=t.memoizedState),(l=ga||ws(t,n,l,r,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ya(e,t),u=Ss(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Lr,"object"===typeof c&&null!==c&&(l=zi(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ks(t,a,r,l),ga=!1,h=t.memoizedState,a.state=h,_a(t,r,a,i),Sa();var p=t.memoizedState;o!==d||h!==p||ga||null!==e&&null!==e.dependencies&&Oi(e.dependencies)?("function"===typeof s&&(bs(t,n,s,r),p=t.memoizedState),(u=ga||ws(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Oi(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,qs(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=pa(t,e.child,null,i),t.child=pa(t,null,n,i)):Is(e,t,n,i),t.memoizedState=a.state,e=t.child):e=al(e,t,i),e}function $s(e,t,n,r){return bi(),t.flags|=256,Is(e,t,n,r),t.child}var Gs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Js(e){return{baseLanes:e,cachePool:Yi()}}function Ys(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Qs(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ua.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(a?Ia(t):Da(),(e=ui)?null!==(e=null!==(e=Pd(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw gi(t);return Ad(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Da(),l=Zs({mode:"hidden",children:l},a=t.mode),i=qr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Js(n),i.childLanes=Ys(e,r,n),t.memoizedState=Gs,Us(null,i)):(Ia(t),Xs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Ia(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),l=i.fallback,a=t.mode,i=Zs({mode:"visible",children:i.children},a),(l=qr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,pa(t,e.child,null,n),(i=t.child).memoizedState=Js(n),i.childLanes=Ys(e,r,n),t.memoizedState=Gs,t=Us(null,i));else if(Ia(t),Ad(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,wi({value:i,source:null,stack:null}),t=el(e,t,n)}else if(As||Ri(e,t,n,!1),r=0!==(n&e.childLanes),As||r){if(null!==(r=gc)&&(0!==(i=Ne(r,n))&&i!==c.retryLane))throw c.retryLane=i,Ar(e,i),Jc(r,e,i),zs;zd(l)||su(),t=el(e,t,n)}else zd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Id(l.nextSibling),ci=t,di=!0,hi=null,pi=!1,null!==e&&li(t,e),(t=Xs(t,i.children)).flags|=4096);return t}return a?(Da(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Fr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Fr(u,l):(l=qr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Us(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Js(n):(null!==(a=l.cachePool)?(c=Mi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Yi(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=Ys(e,r,n),t.memoizedState=Gs,Us(e.child,i)):(Ia(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Xs(e,t){return(t=Zs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zs(e,t){return(e=Mr(22,e,null,t)).lanes=0,e}function el(e,t,n){return pa(t,e.child,null,n),(e=Xs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function nl(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function rl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Ua.current,s=0!==(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,B(Ua,o),Is(e,t,r,n),r=di?Xr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nl(t,!0,n,null,a,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ri(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Oi(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)As=!0;else{if(!ol(e,n)&&0===(128&t.flags))return As=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),ji(0,Mi,e.memoizedState.cache),bi();break;case 27:case 5:Y(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:ji(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Na(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ia(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qs(e,t,n):(Ia(t),null!==(e=al(e,t,n))?e.sibling:null);Ia(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ri(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return rl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(Ua,Ua.current),r)break;return null;case 22:return t.lanes=0,Ms(e,t,n,t.pendingProps);case 24:ji(0,Mi,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);As=0!==(131072&e.flags)}else As=!1,di&&0!==(1048576&t.flags)&&ai(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ra(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===k){t.tag=11,t=Ns(null,t,e,r,n);break e}if(i===j){t.tag=14,t=Ls(null,t,e,r,n);break e}}throw t=z(e)||e,Error(o(306,t,""))}Ur(e)?(r=Ss(e,r),t.tag=1,t=Ks(null,t,e,r,n)):(t.tag=0,t=Hs(null,t,e,r,n))}return t;case 0:return Hs(e,t,t.type,t.pendingProps,n);case 1:return Ks(e,t,r=t.type,i=Ss(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ya(e,t),_a(t,r,null,n);var s=t.memoizedState;if(r=s.cache,ji(0,Mi,r),r!==a.cache&&Ti(t,[Mi],n,!0),Sa(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=$s(e,t,r,n);break e}if(r!==i){wi(i=Gr(Error(o(424)),t)),t=$s(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Id(e.firstChild),ci=t,di=!0,hi=null,pi=!0,n=fa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=al(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 26:return qs(e,t),null===e?(n=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:di||(n=t.type,e=t.pendingProps,(r=yd(K.current).createElement(n))[Be]=t,r[We]=e,pd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&di&&(r=t.stateNode=Md(t.type,t.pendingProps,K.current),ci=t,pi=!0,i=ui,Ed(t.type)?(Nd=i,ui=Id(r.firstChild)):ui=i),Is(e,t,t.pendingProps.children,n),qs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Id(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ci=t,ui=Id(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),Y(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,xd(i,a)?r=null:null!==s&&xd(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=eo(e,t,ro,null,null,n),dh._currentValue=i),qs(e,t),Is(e,t,r,n),t.child;case 6:return null===e&&di&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Id(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||gi(t)),null;case 13:return Qs(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pa(t,null,r,n):Is(e,t,r,n),t.child;case 11:return Ns(e,t,t.type,t.pendingProps,n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ji(0,t.type,r.value),Is(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Pi(t),r=r(i=zi(i)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return Ls(e,t,t.type,t.pendingProps,n);case 15:return Ds(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===r.mode)return e=Bs(t,r),t.lanes=536870912,Us(null,e);if(Na(t),(e=ui)?null!==(e=null!==(e=Pd(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Bs(t,r)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(Na(t),i)if(256&t.flags)t.flags&=-257,t=Ws(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(As||Ri(e,t,n,!1),i=0!==(n&e.childLanes),As||i){if(null!==(r=gc)&&0!==(s=Ne(r,n))&&s!==a.retryLane)throw a.retryLane=s,Ar(e,s),Jc(r,e,s),zs;su(),t=Ws(e,t,n)}else e=a.treeContext,ui=Id(s.nextSibling),ci=t,di=!0,hi=null,pi=!1,null!==e&&li(t,e),(t=Bs(t,r)).flags|=4096;return t}return(e=Fr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ms(e,t,n,t.pendingProps);case 24:return Pi(t),r=zi(Mi),null===e?(null===(i=Gi())&&(i=gc,a=Ui(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ma(t),ji(0,Mi,i)):(0!==(e.lanes&n)&&(ya(e,t),_a(t,null,null,n),Sa()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ji(0,Mi,r)):(r=a.cache,ji(0,Mi,r),r!==i.cache&&Ti(t,[Mi],n,!0))),Is(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ia=ea,Xi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!iu())throw ia=ea,Xi;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Oe():536870912,e.lanes|=t,Rc|=t)}function hl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(si(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(Mi),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xi())),pl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(ll(t),null!==a?(pl(t),ul(t,a)):(pl(t),cl(t,i,0,0,n))):a?a!==e.memoizedState?(ll(t),pl(t),ul(t,a)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),pl(t),cl(t,i,0,0,n)),null;case 27:if(Q(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return pl(t),null}e=H.current,vi(t)?mi(t):(e=Md(i,r,n),t.stateNode=e,ll(t))}return pl(t),null;case 5:if(Q(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return pl(t),null}if(a=H.current,vi(t))mi(t);else{var s=yd(K.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?s.createElement(i,{is:r.is}):s.createElement(i)}}a[Be]=t,a[We]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(pd(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return pl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=K.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||gi(t,!0)}else(e=yd(e).createTextNode(r))[Be]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[Be]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ma(t),t):(Ma(t),null);if(0!==(128&t.flags))throw Error(o(558))}return pl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Be]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),i=!1}else i=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Ma(t),t):(Ma(t),null)}return Ma(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),pl(t),null);case 4:return J(),null===e&&ed(t.stateNode.containerInfo),pl(t),null;case 10:return Ci(t.type),pl(t),null;case 19:if(F(Ua),null===(r=t.memoizedState))return pl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)hl(r,!1);else{if(0!==_c||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Fa(e))){for(t.flags|=128,hl(r,!1),e=a.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return B(Ua,1&Ua.current|2),di&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Nc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Fa(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!di)return pl(t),null}else 2*le()-r.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Ua.current,B(Ua,i?1&n|2:1&n),di&&ii(t,r.treeForkCount),e):(pl(t),null);case 22:case 23:return Ma(t),Pa(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F($i),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(Mi),pl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function gl(e,t){switch(si(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(Mi),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(Ma(t),null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ma(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Ua),null;case 4:return J(),null;case 10:return Ci(t.type),null;case 22:case 23:return Ma(t),Pa(),null!==e&&F($i),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(Mi),null;default:return null}}function ml(e,t){switch(si(t),t.tag){case 3:Ci(Mi),J();break;case 26:case 27:case 5:Q(t);break;case 4:J();break;case 31:null!==t.memoizedState&&Ma(t);break;case 13:Ma(t);break;case 19:F(Ua);break;case 10:Ci(t.type);break;case 22:case 23:Ma(t),Pa(),null!==e&&F($i);break;case 24:Ci(Mi)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){_u(t,t.return,s)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){_u(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){_u(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ca(t,n)}catch(r){_u(e,e.return,r)}}}function xl(e,t,n){n.props=Ss(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){_u(e,t,r)}}function wl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){_u(e,t,i)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){_u(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){_u(e,t,a)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){_u(e,e.return,i)}}function _l(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||dd(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":a=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:f!==h&&dd(e,t,p,f,r,h)}}return void vt(e,s,l,c,u,d,a,i);case"select":for(a in f=s=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(a)||dd(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&dd(e,t,i,a,r,c)}return t=l,n=s,r=f,void(null!=p?wt(e,!!n,p,!1):!!r!==!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&dd(e,t,s,i,r,a)}return void kt(e,p,f);case"option":for(var g in n)if(p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else dd(e,t,g,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else dd(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m)&&dd(e,t,m,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:dd(e,t,u,p,r,f)}return;default:if(Tt(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&hd(e,t,y,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||hd(e,t,d,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&dd(e,t,v,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||dd(e,t,h,p,r,f)}(r,e.type,n,t),r[We]=t}catch(i){_u(e,e.return,i)}}function jl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Ed(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||jl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Ed(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=zt));else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Ed(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Rl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pd(t,r,n),t[Be]=e,t[We]=n}catch(a){_u(e,e.return,a)}}var Ol=!1,Pl=!1,zl=!1,Al="function"===typeof WeakSet?WeakSet:Set,Il=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Jl(e,n),4&r&&yl(5,n);break;case 1:if(Jl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){_u(n,n.return,o)}else{var i=Ss(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){_u(n,n.return,s)}}64&r&&bl(n),512&r&&wl(n,n.return);break;case 3:if(Jl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ca(e,t)}catch(o){_u(n,n.return,o)}}break;case 27:null===t&&4&r&&Rl(n);case 26:case 5:Jl(e,n),null===t&&4&r&&Sl(n),512&r&&wl(n,n.return);break;case 12:Jl(e,n);break;case 31:Jl(e,n),4&r&&Bl(e,n);break;case 13:Jl(e,n),4&r&&Wl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Ol)){t=null!==t&&null!==t.memoizedState||Pl,i=Ol;var a=Pl;Ol=r,(Pl=t)&&!a?Ql(e,n,0!==(8772&n.subtreeFlags)):Jl(e,n),Ol=i,Pl=a}break;case 30:break;default:Jl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dl=null,Ml=!1;function Ul(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:Pl||kl(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||kl(n,t);var r=Dl,i=Ml;Ed(n.type)&&(Dl=n.stateNode,Ml=!1),Ul(e,t,n),Ud(n.stateNode),Dl=r,Ml=i;break;case 5:Pl||kl(n,t);case 6:if(r=Dl,i=Ml,Dl=null,Ul(e,t,n),Ml=i,null!==(Dl=r))if(Ml)try{(9===Dl.nodeType?Dl.body:"HTML"===Dl.nodeName?Dl.ownerDocument.body:Dl).removeChild(n.stateNode)}catch(o){_u(n,t,o)}else try{Dl.removeChild(n.stateNode)}catch(o){_u(n,t,o)}break;case 18:null!==Dl&&(Ml?(Td(9===(e=Dl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Td(Dl,n.stateNode));break;case 4:r=Dl,i=Ml,Dl=n.stateNode.containerInfo,Ml=!0,Ul(e,t,n),Dl=r,Ml=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Pl||vl(4,n,t),Ul(e,t,n);break;case 1:Pl||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&xl(n,t,r)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Ul(e,t,n),Pl=r;break;default:Ul(e,t,n)}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(n){_u(t,t.return,n)}}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(n){_u(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Al),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Al),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ru.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Ed(l.type)){Dl=l.stateNode,Ml=!1;break e}break;case 5:Dl=l.stateNode,Ml=!1;break e;case 3:case 4:Dl=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===Dl)throw Error(o(160));Fl(a,s,i),Dl=null,Ml=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Vl=null;function Kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),$l(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),$l(e),512&r&&(Pl||null===n||kl(n,n.return)),64&r&&Ol&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Vl;if(Hl(t,e),$l(e),512&r&&(Pl||null===n||kl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ge]||a[Be]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),pd(a,r,n),a[Be]=e,et(a),r=a;break e;case"link":var s=rh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}pd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}pd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Be]=e,et(a),r=a}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=Xd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?ih(i,e.type,e.stateNode):Xd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&_l(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),$l(e),512&r&&(Pl||null===n||kl(n,n.return)),null!==n&&4&r&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),$l(e),512&r&&(Pl||null===n||kl(n,n.return)),32&e.flags){i=e.stateNode;try{_t(i,"")}catch(g){_u(e,e.return,g)}}4&r&&null!=e.stateNode&&_l(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(zl=!0);break;case 6:if(Hl(t,e),$l(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){_u(e,e.return,g)}}break;case 3:if(nh=null,i=Vl,Vl=Wd(t.containerInfo),Hl(t,e),Vl=i,$l(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(g){_u(e,e.return,g)}zl&&(zl=!1,Gl(e));break;case 4:r=Vl,Vl=Wd(e.stateNode.containerInfo),Hl(t,e),$l(e),Vl=r;break;case 12:default:Hl(t,e),$l(e);break;case 31:case 19:Hl(t,e),$l(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Hl(t,e),$l(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ac=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Ol,d=Pl;if(Ol=u||i,Pl=d||c,Hl(t,e),Pl=d,Ol=u,$l(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Ol||Pl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(g){_u(c,c.return,g)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(g){_u(c,c.return,g)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;i?Rd(f,!0):Rd(c.stateNode,!1)}catch(g){_u(c,c.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function $l(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(jl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;Tl(e,Cl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(_t(a,""),n.flags&=-33),Tl(e,Cl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;El(e,Cl(e),s);break;default:throw Error(o(161))}}catch(l){_u(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&xl(t,t.return,n),Yl(t);break;case 27:Ud(t.stateNode);case 26:case 5:kl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Ql(i,a,n),yl(4,a);break;case 1:if(Ql(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){_u(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ja(l[i],s)}catch(c){_u(r,r.return,c)}}n&&64&o&&bl(a),wl(a,a.return);break;case 27:Rl(a);case 26:case 5:Ql(i,a,n),n&&null===r&&4&o&&Sl(a),wl(a,a.return);break;case 12:Ql(i,a,n);break;case 31:Ql(i,a,n),n&&4&o&&Bl(i,a);break;case 13:Ql(i,a,n),n&&4&o&&Wl(i,a);break;case 22:null===a.memoizedState&&Ql(i,a,n),wl(a,a.return);break;case 30:break;default:Ql(i,a,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){_u(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?ec(e,t,n,r):rc(e,t):2&a._visibility?ec(e,t,n,r):(a._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Xl(o,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:nc(a,o,s,l,i),yl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?nc(a,o,s,l,i):rc(a,o):(u._visibility|=2,nc(a,o,s,l,i)),i&&2048&c&&Xl(o.alternate,o);break;case 24:nc(a,o,s,l,i),i&&2048&c&&Zl(o.alternate,o);break;default:nc(a,o,s,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Xl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function ac(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=$d(r.href),a=t.querySelector(Gd(i));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Jd(r),(i=Fd.get(i))&&eh(r,i),et(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Vl;Vl=Wd(e.stateNode.containerInfo),ac(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,ac(e,t,n),ic=r):ac(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Il=r,dc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Il=r,dc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Il;){var n=Il;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Il=r;else e:for(n=e;null!==Il;){var i=(r=Il).sibling,a=r.return;if(Ll(r),r===n){Il=null;break e}if(null!==i){i.return=a,Il=i;break e}Il=a}}}var hc={getCacheForType:function(e){var t=zi(Mi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return zi(Mi).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,fc=0,gc=null,mc=null,yc=0,vc=0,bc=null,xc=!1,wc=!1,kc=!1,Sc=0,_c=0,jc=0,Cc=0,Ec=0,Tc=0,Rc=0,Oc=null,Pc=null,zc=!1,Ac=0,Ic=0,Nc=1/0,Lc=null,Dc=null,Mc=0,Uc=null,Fc=null,Bc=0,Wc=0,qc=null,Hc=null,Vc=0,Kc=null;function $c(){return 0!==(2&fc)&&0!==yc?yc&-yc:null!==I.T?qu():Me()}function Gc(){if(0===Tc)if(0===(536870912&yc)||di){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),Tc=e}else Tc=536870912;return null!==(e=za.current)&&(e.flags|=32),Tc}function Jc(e,t,n){(e!==gc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Tc,!1)),ze(e,n),0!==(2&fc)&&e===gc||(e===gc&&(0===(2&fc)&&(Cc|=n),4===_c&&Zc(e,yc,Tc,!1)),Lu(e))}function Yc(e,t,n){if(0!==(6&fc))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Te(e,t),i=r?function(e,t){var n=fc;fc|=2;var r=au(),i=ou();gc!==e||yc!==t?(Lc=null,Nc=le()+500,nu(e,t)):wc=Te(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var a=bc;t:switch(vc){case 1:vc=0,bc=null,pu(e,t,a,1);break;case 2:case 9:if(ta(a)){vc=0,bc=null,hu(t);break}t=function(){2!==vc&&9!==vc||gc!==e||(vc=7),Lu(e)},a.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ta(a)?(vc=0,bc=null,hu(t)):(vc=0,bc=null,pu(e,t,a,7));break;case 5:var s=null;switch(mc.tag){case 26:s=mc.memoizedState;case 5:case 27:var l=mc;if(s?ah(s):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}vc=0,bc=null,pu(e,t,a,5);break;case 6:vc=0,bc=null,pu(e,t,a,6);break;case 8:tu(),_c=6;break e;default:throw Error(o(462))}}uu();break}catch(d){ru(e,d)}return _i=Si=null,I.H=r,I.A=i,fc=n,null!==mc?0:(gc=null,yc=0,Or(),_c)}(e,t):lu(e,t,!0),a=r;;){if(0===i){wc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!a||Xc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=Oc;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,s).flags|=256),2!==(s=lu(l,s,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=a,Cc|=a,i=4;break e}a=Pc,Pc=i,null!==a&&(null===Pc?Pc=a:Pc.push.apply(Pc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Tc,!xc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Ac+300-le())){if(Zc(r,t,Tc,!xc),0!==Ee(r,0,!0))break e;Bc=t,r.timeoutHandle=kd(Qc.bind(null,r,n,Pc,Lc,zc,t,Tc,Cc,Rc,xc,a,"Throttled",-0,0),i)}else Qc(r,n,Pc,Lc,zc,t,Tc,Cc,Rc,xc,a,null,-0,0)}break}i=lu(e,t,!1),a=!1}Lu(e)}function Qc(e,t,n,r,i,a,o,s,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){oc(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zt});var f=(62914560&a)===a?Ac-le():(4194048&a)===a?Ic-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&fd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(a+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,f)))return Bc=a,e.cancelPendingCommit=f(mu.bind(null,e,t,a,n,r,i,o,s,l,u,d,null,h,p)),void Zc(e,a,o,!c)}mu(e,t,a,n,r,i,o,s,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Ec,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-xe(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Ae(e,n,t)}function eu(){return 0!==(6&fc)||(Du(0,!1),!1)}function tu(){if(null!==mc){if(0===vc)var e=mc.return;else _i=Si=null,oo(e=mc),sa=null,la=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Bc=0,tu(),gc=e,mc=n=Fr(e.current,null),yc=t,vc=0,bc=null,xc=!1,wc=Te(e,t),kc=!1,Rc=Tc=Ec=Cc=jc=_c=0,Pc=Oc=null,zc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-xe(r),a=1<<i;t|=e[i],r&=~a}return Sc=t,Or(),n}function ru(e,t){Wa=null,I.H=gs,t===Qi||t===Zi?(t=aa(),vc=3):t===Xi?(t=aa(),vc=4):vc=t===zs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===mc&&(_c=1,Es(e,Gr(t,e.current)))}function iu(){var e=za.current;return null===e||((4194048&yc)===yc?null===Aa:((62914560&yc)===yc||0!==(536870912&yc))&&e===Aa)}function au(){var e=I.H;return I.H=gs,null===e?gs:e}function ou(){var e=I.A;return I.A=hc,e}function su(){_c=4,xc||(4194048&yc)!==yc&&null!==za.current||(wc=!0),0===(134217727&jc)&&0===(134217727&Cc)||null===gc||Zc(gc,yc,Tc,!1)}function lu(e,t,n){var r=fc;fc|=2;var i=au(),a=ou();gc===e&&yc===t||(Lc=null,nu(e,t)),t=!1;var o=_c;e:for(;;)try{if(0!==vc&&null!==mc){var s=mc,l=bc;switch(vc){case 8:tu(),o=6;break e;case 3:case 2:case 9:case 6:null===za.current&&(t=!0);var c=vc;if(vc=0,bc=null,pu(e,s,l,c),n&&wc){o=0;break e}break;default:c=vc,vc=0,bc=null,pu(e,s,l,c)}}cu(),o=_c;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,_i=Si=null,fc=r,I.H=i,I.A=a,null===mc&&(gc=null,yc=0,Or()),o}function cu(){for(;null!==mc;)du(mc)}function uu(){for(;null!==mc&&!oe();)du(mc)}function du(e){var t=sl(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vs(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Vs(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:oo(t);default:ml(n,t),t=sl(n,t=mc=Br(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function pu(e,t,n,r){_i=Si=null,oo(t),sa=null,la=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ri(t,n,i,!0),null!==(n=za.current)){switch(n.tag){case 31:case 13:return null===Aa?su():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ju(e,r,i)),!1;case 22:return n.flags|=65536,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ju(e,r,i)),!1}throw Error(o(435,n.tag))}return ju(e,r,i),su(),!1}if(di)return null!==(t=za.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==fi&&wi(Gr(e=Error(o(422),{cause:r}),n))):(r!==fi&&wi(Gr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Gr(r,n),wa(e,i=Rs(e.stateNode,r,i)),4!==_c&&(_c=2)),!1;var a=Error(o(520),{cause:r});if(a=Gr(a,n),null===Oc?Oc=[a]:Oc.push(a),4!==_c&&(_c=2),null===t)return!0;r=Gr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,wa(n,e=Rs(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Dc||!Dc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Ps(i=Os(i),e,n,r),wa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yc))return _c=1,Es(e,Gr(n,e.current)),void(mc=null)}catch(a){if(null!==i)throw mc=i,a;return _c=1,Es(e,Gr(n,e.current)),void(mc=null)}32768&t.flags?(di||1===r?e=!0:wc||0!==(536870912&yc)?e=!1:(xc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=za.current)&&13===r.tag&&(r.flags|=16384))),gu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void gu(t,xc);e=t.return;var n=fl(t.alternate,t,Sc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===_c&&(_c=5)}function gu(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);_c=6,mc=null}function mu(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{wu()}while(0!==Mc);if(0!==(6&fc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-xe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ae(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Rr,s,l,c),e===gc&&(mc=gc=null,yc=0),Fc=t,Uc=e,Bc=n,Wc=a,qc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=I.T,I.T=null,i=N.p,N.p=2,s=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,gd=xh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===a&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},xh=!1,Il=t;null!==Il;)if(e=(t=Il).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Il=e;else for(;null!==Il;){switch(a=(t=Il).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=Ss(n.type,i);e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){_u(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Od(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Od(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Il=e;break}Il=t.return}}(e,t)}finally{fc=s,N.p=i,I.T=r}}Mc=1,yu(),vu(),bu()}}function yu(){if(1===Mc){Mc=0;var e=Uc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=I.T,I.T=null;var r=N.p;N.p=2;var i=fc;fc|=4;try{Kl(t,e);var a=md,o=rr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&ir(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=s.textContent.length,g=Math.min(l.start,f),m=void 0===l.end?g:Math.min(l.end,f);!p.extend&&g>m&&(o=m,m=g,g=o);var y=tr(s,g),v=tr(s,m);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),g>m?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=s;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}xh=!!gd,md=gd=null}finally{fc=i,N.p=r,I.T=n}}e.current=t,Mc=2}}function vu(){if(2===Mc){Mc=0;var e=Uc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=I.T,I.T=null;var r=N.p;N.p=2;var i=fc;fc|=4;try{Nl(e,t.alternate,t)}finally{fc=i,N.p=r,I.T=n}}Mc=3}}function bu(){if(4===Mc||3===Mc){Mc=0,se();var e=Uc,t=Fc,n=Bc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,Fc=Uc=null,xu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Dc=null),De(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=I.T,i=N.p,N.p=2,I.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{I.T=t,N.p=i}}0!==(3&Bc)&&wu(),Lu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Kc?Vc++:(Vc=0,Kc=e):Vc=0,Du(0,!1)}}function xu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fi(t)))}function wu(){return yu(),vu(),bu(),ku()}function ku(){if(5!==Mc)return!1;var e=Uc,t=Wc;Wc=0;var n=De(Bc),r=I.T,i=N.p;try{N.p=32>n?32:n,I.T=null,n=qc,qc=null;var a=Uc,s=Bc;if(Mc=0,Fc=Uc=null,Bc=0,0!==(6&fc))throw Error(o(331));var l=fc;if(fc|=4,cc(a.current),tc(a,a.current,s,n),fc=l,Du(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,a)}catch(c){}return!0}finally{N.p=i,I.T=r,xu(e,t)}}function Su(e,t,n){t=Gr(n,t),null!==(e=ba(e,t=Rs(e.stateNode,t,2),2))&&(ze(e,2),Lu(e))}function _u(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Dc||!Dc.has(r))){e=Gr(n,e),null!==(r=ba(t,n=Os(2),2))&&(Ps(n,r,t,e),ze(r,2),Lu(r));break}}t=t.return}}function ju(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(kc=!0,i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(yc&n)===n&&(4===_c||3===_c&&(62914560&yc)===yc&&300>le()-Ac?0===(2&fc)&&nu(e,0):Ec|=n,Rc===yc&&(Rc=0)),Lu(e)}function Eu(e,t){0===t&&(t=Oe()),null!==(e=Ar(e,t))&&(ze(e,t),Lu(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Ru(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Eu(e,n)}var Ou=null,Pu=null,zu=!1,Au=!1,Iu=!1,Nu=0;function Lu(e){e!==Pu&&null===e.next&&(null===Pu?Ou=Pu=e:Pu=Pu.next=e),Au=!0,zu||(zu=!0,jd(function(){0!==(6&fc)?ie(ue,Mu):Uu()}))}function Du(e,t){if(!Iu&&Au){Iu=!0;do{for(var n=!1,r=Ou;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-xe(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Wu(r,a))}else a=yc,0===(3&(a=Ee(r,r===gc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,a)||(n=!0,Wu(r,a));r=r.next}}while(n);Iu=!1}}function Mu(){Uu()}function Uu(){Au=zu=!1;var e=0;0!==Nu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==wd&&(wd=e,!0);return wd=null,!1}()&&(e=Nu);for(var t=le(),n=null,r=Ou;null!==r;){var i=r.next,a=Fu(r,t);0===a?(r.next=null,null===n?Ou=i:n.next=i,null===i&&(Pu=n)):(n=r,(0!==e||0!==(3&a))&&(Au=!0)),r=i}0!==Mc&&5!==Mc||Du(e,!1),0!==Nu&&(Nu=0)}function Fu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-xe(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Re(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=yc,n=Ee(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),De(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=fe}return r=Bu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Bu(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Ee(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Bu.bind(null,e):null)}function Wu(e,t){if(wu())return null;Yc(e,t,!0)}function qu(){if(0===Nu){var e=qi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Nu=e}return Nu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ku=0;Ku<_r.length;Ku++){var $u=_r[Ku];jr($u.toLowerCase(),"on"+($u[0].toUpperCase()+$u.slice(1)))}jr(mr,"onAnimationEnd"),jr(yr,"onAnimationIteration"),jr(vr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(br,"onTransitionRun"),jr(xr,"onTransitionStart"),jr(wr,"onTransitionCancel"),jr(kr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Cr(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Cr(u)}i.currentTarget=null,a=l}}}}function Qu(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ju.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Xu("selectionchange",!1,t))}}function td(e,t,n,r){switch(Eh(t)){case 2:var i=wh;break;case 8:i=kh;break;default:i=Sh}n=i.bind(null,t,n,e),i=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Ye(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}Ut(function(){var r=a,i=It(n),o=[];e:{var s=Sr.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case mr:case yr:case vr:c=un;break;case kr:c=wn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==s?s+"Capture":null:s;d=[];for(var f,g=r;null!==g;){var m=g;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===p||null!=(m=Ft(g,p))&&d.push(rd(g,m,f)),h)break;g=g.return}0<d.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[qe])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,m="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,m="onPointerLeave",p="onPointerEnter",g="pointer"),h=null==c?s:Xe(c),f=null==u?s:Xe(u),(s=new d(m,g+"leave",c,n,i)).target=h,s.relatedTarget=f,m=null,Ye(i)===r&&((d=new d(p,g+"enter",u,n,i)).target=f,d.relatedTarget=h,m=d),h=m,c&&u)e:{for(d=ad,g=u,f=0,m=p=c;m;m=d(m))f++;m=0;for(var y=g;y;y=d(y))m++;for(;0<f-m;)p=d(p),f--;for(;0<m-f;)g=d(g),m--;for(;f--;){if(p===g||null!==g&&p===g.alternate){d=p;break e}p=d(p),g=d(g)}d=null}else d=null;null!==c&&od(o,s,c,d,!1),null!==u&&null!==h&&od(o,h,u,d,!0)}if("select"===(c=(s=r?Xe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Bn;else if(Nn(s))if(Wn)v=Qn;else{v=Jn;var b=Gn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(v=Bn):v=Yn;switch(v&&(v=v(e,r))?Ln(o,v,n,i):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&xt(s,"number",s.value)),b=r?Xe(r):window,e){case"focusin":(Nn(b)||"true"===b.contentEditable)&&(or=b,sr=r,lr=null);break;case"focusout":lr=sr=or=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(o,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":ur(o,n,i)}var x;if(jn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else An?Pn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(An||"onCompositionStart"!==w?"onCompositionEnd"===w&&An&&(x=$t()):(Vt="value"in(Ht=i)?Ht.value:Ht.textContent,An=!0)),0<(b=id(r,w)).length&&(w=new hn(w,e,null,n,i),o.push({event:w,listeners:b}),x?w.data=x:null!==(x=zn(n))&&(w.data=x))),(x=En?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(On=!0,Rn);case"textInput":return(e=t.data)===Rn&&On?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!jn&&Pn(e,t)?(e=$t(),Kt=Vt=Ht=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=id(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),o.push({event:b,listeners:w}),b.data=x)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Hu((i[We]||null).action),o=r.submitter;o&&null!==(t=(t=o[We]||null)?Hu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new nn("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Nu){var e=o?Vu(i,o):new FormData(i);ts(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Vu(i,o):new FormData(i),ts(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Yu(o,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ft(e,n))&&r.unshift(rd(e,i,a)),null!=(i=Ft(e,t))&&r.push(rd(e,i,a))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Ft(n,a))&&o.unshift(rd(n,c,l)):i||null!=(c=Ft(n,a))&&o.push(rd(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var sd=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Et(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=zt);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Rt.get(n)||n,r)}}function hd(e,t,n,r,i,a){switch(n){case"style":Et(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[We]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:dd(e,t,r,s,n,null)}}return a&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:dd(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,s,a,!1);case"select":for(a in Qu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:dd(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(s in Qu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:dd(e,t,s,l,n,null)}return void St(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(i=0;i<Gu.length;i++)Qu(Gu[i],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:dd(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,md=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,_d="function"===typeof Promise?Promise:void 0,jd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof _d?function(e){return _d.resolve(null).then(e).catch(Cd)}:kd;function Cd(e){setTimeout(function(){throw e})}function Ed(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[Ge]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}else"body"===n&&Ud(e.ownerDocument.body);n=i}while(n);Vh(t)}function Rd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Od(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Od(n),Je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Id(e.nextSibling)))return null}return e}function zd(e){return"$?"===e.data||"$~"===e.data}function Ad(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Id(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Nd=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Id(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Dd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Md(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var Fd=new Map,Bd=new Set;function Wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=N.d;N.d={f:function(){var e=qd.f(),t=eu();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):qd.r(e)},D:function(e){qd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var a=i;switch(t){case"style":a=$d(e);break;case"script":a=Yd(e)}Fd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Gd(a))||"script"===t&&r.querySelector(Qd(a))||(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Yd(e)}if(!Fd.has(a)&&(e=p({rel:"modulepreload",href:e},t),Fd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(a)))return}pd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Yd(e),a=r.get(i);a||((a=n.querySelector(Qd(i)))||(e=p({src:e,async:!0},t),(t=Fd.get(i))&&th(e,t),et(a=n.createElement("script")),pd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){qd.S(e,t,n);var r=Hd;if(r&&e){var i=Ze(r).hoistableStyles,a=$d(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Gd(a)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(a))&&eh(e,n);var l=o=r.createElement("link");et(l),pd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){qd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Yd(e),a=r.get(i);a||((a=n.querySelector(Qd(i)))||(e=p({src:e,async:!0,type:"module"},t),(t=Fd.get(i))&&th(e,t),et(a=n.createElement("script")),pd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Hd="undefined"===typeof document?null:document;function Vd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Bd.has(i)||(Bd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Kd(e,t,n,r){var i,a,s,l,c=(c=K.current)?Wd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=$d(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=$d(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(i=c,a=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),pd(a,"link",s),et(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function $d(e){return'href="'+yt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function Jd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+yt(e)+'"]'}function Qd(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),pd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=$d(n.href);var a=e.querySelector(Gd(i));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Jd(n),(i=Fd.get(i))&&eh(r,i),et(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),pd(a,"link",r),t.state.loading|=4,Zd(a,n.precedence,e),t.instance=a;case"script":return a=Yd(n.src),(i=e.querySelector(Qd(a)))?(t.instance=i,et(i),i):(r=n,(i=Fd.get(a))&&th(r=p({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),pd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Ge]||a[Be]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var oh=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,sh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=sh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function hh(e,t,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function ph(e,t,n,r,i,a,o,s,l,c,u,d){return e=new hh(e,t,n,o,l,c,u,d,s),t=1,!0===a&&(t|=24),a=Mr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ma(a),e}function fh(e){return e?e=Lr:Lr}function gh(e,t,n,r,i,a){i=fh(i),null===r.context?r.context=i:r.pendingContext=i,(r=va(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ba(e,r,t))&&(Jc(n,0,t),xa(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Ar(e,67108864);null!==t&&Jc(t,0,67108864),yh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=$c(),n=Ar(e,t=Le(t));null!==n&&Jc(n,0,t),yh(e,t)}}var xh=!0;function wh(e,t,n,r){var i=I.T;I.T=null;var a=N.p;try{N.p=2,Sh(e,t,n,r)}finally{N.p=a,I.T=i}}function kh(e,t,n,r){var i=I.T;I.T=null;var a=N.p;try{N.p=8,Sh(e,t,n,r)}finally{N.p=a,I.T=i}}function Sh(e,t,n,r){if(xh){var i=_h(r);if(null===i)nd(e,t,r,jh,n),Lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Rh=Dh(Rh,e,t,n,r,i),!0;case"dragenter":return Oh=Dh(Oh,e,t,n,r,i),!0;case"mouseover":return Ph=Dh(Ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return zh.set(a,Dh(zh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ah.set(a,Dh(Ah.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<Nh.indexOf(e)){for(;null!==i;){var a=Qe(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=Ce(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-xe(o);s.entanglements[1]|=l,o&=~l}Lu(a),0===(6&fc)&&(Nc=le()+500,Du(0,!1))}}break;case 31:case 13:null!==(s=Ar(a,2))&&Jc(s,0,2),eu(),yh(a,2)}if(null===(a=_h(r))&&nd(e,t,r,jh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function _h(e){return Ch(e=It(e))}var jh=null;function Ch(e){if(jh=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jh=e,null}function Eh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Th=!1,Rh=null,Oh=null,Ph=null,zh=new Map,Ah=new Map,Ih=[],Nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Rh=null;break;case"dragenter":case"dragleave":Oh=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":zh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(t.pointerId)}}function Dh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Qe(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mh(e){var t=Ye(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_h(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Fh(e,t,n){Uh(e)&&n.delete(t)}function Bh(){Th=!1,null!==Rh&&Uh(Rh)&&(Rh=null),null!==Oh&&Uh(Oh)&&(Oh=null),null!==Ph&&Uh(Ph)&&(Ph=null),zh.forEach(Fh),Ah.forEach(Fh)}function Wh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bh)))}var qh=null;function Hh(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Ch(r||n))continue;break}var a=Qe(n);null!==a&&(e.splice(t,3),t-=3,ts(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vh(e){function t(t){return Wh(t,e)}null!==Rh&&Wh(Rh,e),null!==Oh&&Wh(Oh,e),null!==Ph&&Wh(Ph,e),zh.forEach(t),Ah.forEach(t);for(var n=0;n<Ih.length;n++){var r=Ih[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ih.length&&null===(n=Ih[0]).blockedOn;)Mh(n),null===n.blockedOn&&Ih.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[We]||null;if("function"===typeof a)o||Hh(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[We]||null)s=o.formAction;else if(null!==Ch(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Hh(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function $h(e){this._internalRoot=e}function Gh(e){this._internalRoot=e}Gh.prototype.render=$h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));gh(t.current,$c(),e,t,null,null)},Gh.prototype.unmount=$h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gh(e.current,2,null,e,null,null),eu(),t[qe]=null}},Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ih.length&&0!==t&&t<Ih[n].priority;n++);Ih.splice(n,0,e),0===n&&Mh(e)}};var Jh=i.version;if("19.2.3"!==Jh)throw Error(o(527,Jh,"19.2.3"));N.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ye=Qh.inject(Yh),ve=Qh}catch(Zh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=_s,a=js,l=Cs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=ph(e,1,!1,null,0,n,r,null,i,a,l,Kh),e[qe]=t.current,ed(e),new $h(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=_s,l=js,c=Cs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=ph(e,1,!0,t,0,r,i,u,a,l,c,Kh)).context=fh(null),n=t.current,(i=va(r=Le(r=$c()))).callback=null,ba(n,i,r),n=r,t.current.lanes=n,ze(t,n),Lu(t),e[qe]=t.current,ed(e),new Gh(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),f=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=x.prototype=new b;w.constructor=x,m(w,v.prototype),w.isPureReactComponent=!0;var k=Array.isArray;function S(){}var _={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function C(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return O((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+R(e,0):a,k(o)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),O(o,t,i,"",function(e){return e})):null!=o&&(E(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=C(l.type,c,l.props)),t.push(o)),1;u=0;var d,p=""===a?".":a+":";if(k(e))for(var g=0;g<e.length;g++)u+=O(a=e[g],t,i,s=p+R(a,g),o);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(a=e.next()).done;)u+=O(a=a.value,t,i,s=p+R(a,g++),o);else if("object"===s){if("function"===typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",function(e){return t.call(n,e,i++)}),r}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},I={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=I,t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!j.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return C(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)j.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return C(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),i=_.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,A)}catch(a){A(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.3"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,_||(_=!0,S());else{var t=r(u);null!==t&&z(k,t.startTime-e)}}var S,_=!1,j=-1,C=5,E=-1;function T(){return!!y||!(t.unstable_now()-E<C)}function R(){if(y=!1,_){var e=t.unstable_now();E=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(j),j=-1),f=!0;var a=p;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),n=!0;break t}h===r(c)&&i(c),w(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&z(k,l.startTime-e),n=!1}}break e}finally{h=null,p=a,f=!1}n=void 0}}finally{n?S():_=!1}}}if("function"===typeof x)S=function(){x(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=R,S=function(){P.postMessage(null)}}else S=function(){v(R,0)};function z(e,n){j=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(m?(b(j),j=-1):m=!0,z(k,a-o))):(e.sortIndex=s,n(c,e),g||f||(g=!0,_||(_=!0,S()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".eadda7e2.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="airos:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.p="/airos/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[o,s,l]=r,c=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkairos=self.webpackChunkairos||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var r=n(43),i=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const d=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var p={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],g=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:d}=e,g=u(e,f);return(0,r.createElement)("svg",c(c(c({ref:t},p),{},{width:i,height:i,stroke:n,strokeWidth:o?24*Number(a)/Number(i):a,className:h("lucide",s)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(g)&&{"aria-hidden":"true"}),g),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),m=["className"],y=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{className:a}=n,o=u(n,m);return(0,r.createElement)(g,c({ref:i,iconNode:t,className:h("lucide-".concat((s=d(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},o));var s});return n.displayName=d(e),n},v=y("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},b.apply(this,arguments)};function x(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function w(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})}Object.create;function k(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;class S extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class _ extends S{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j extends S{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class C extends S{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var E;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(E||(E={}));class T{constructor(e){let{headers:t={},customFetch:n,region:r=E.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return w(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;let i,a;try{const{headers:o,method:s,body:l,signal:c,timeout:u}=n;let d={},{region:h}=n;h||(h=t.region);const p=new URL("".concat(t.url,"/").concat(e));let f;h&&"any"!==h&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h)),l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",f=l):"string"===typeof l?(d["Content-Type"]="text/plain",f=l):"undefined"!==typeof FormData&&l instanceof FormData?f=l:(d["Content-Type"]="application/json",f=JSON.stringify(l)):f=!l||"string"===typeof l||"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!==typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let g=c;u&&(a=new AbortController,i=setTimeout(()=>a.abort(),u),c?(g=a.signal,c.addEventListener("abort",()=>a.abort())):g=a.signal);const m=yield t.fetch(p.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},d),t.headers),o),body:f,signal:g}).catch(e=>{throw new _(e)}),y=m.headers.get("x-relay-error");if(y&&"true"===y)throw new j(m);if(!m.ok)throw new C(m);let v,b=(null!==(r=m.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return v="application/json"===b?yield m.json():"application/octet-stream"===b||"application/pdf"===b?yield m.blob():"text/event-stream"===b?m:"multipart/form-data"===b?yield m.formData():yield m.text(),{data:v,error:null,response:m}}catch(o){return{data:null,error:o,response:o instanceof C||o instanceof j?o.context:void 0}}finally{i&&clearTimeout(i)}}()})}}var R=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},O=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,i=null,a=e.status,o=e.statusText;if(e.ok){var s,l;if("HEAD"!==n.method){var c;const t=await e.text();""===t||(r="text/csv"===n.headers.get("Accept")||n.headers.get("Accept")&&(null===(c=n.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const u=null===(s=n.headers.get("Prefer"))||void 0===s?void 0:s.match(/count=(exact|planned|estimated)/),d=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");u&&d&&d.length>1&&(i=parseInt(d[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(r)&&(r.length>1?(t={code:"PGRST116",details:"Results contain ".concat(r.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,i=null,a=406,o="Not Acceptable"):r=1===r.length?r[0]:null)}else{var u;const i=await e.text();try{t=JSON.parse(i),Array.isArray(t)&&404===e.status&&(r=[],t=null,a=200,o="OK")}catch(d){404===e.status&&""===i?(a=204,o="No Content"):t={message:i}}if(t&&n.isMaybeSingle&&(null===t||void 0===t||null===(u=t.details)||void 0===u?void 0:u.includes("0 rows"))&&(t=null,a=200,o="OK"),t&&n.shouldThrowOnError)throw new R(t)}return{error:t,data:r,count:i,status:a,statusText:o}});return this.shouldThrowOnError||(r=r.catch(e=>{var t;let n="";const r=null===e||void 0===e?void 0:e.cause;if(r){var i,a,o,s;const t=null!==(i=null===r||void 0===r?void 0:r.message)&&void 0!==i?i:"",l=null!==(a=null===r||void 0===r?void 0:r.code)&&void 0!==a?a:"";n="".concat(null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),n+="\n\nCaused by: ".concat(null!==(s=null===r||void 0===r?void 0:r.name)&&void 0!==s?s:"Error",": ").concat(t),l&&(n+=" (".concat(l,")")),(null===r||void 0===r?void 0:r.stack)&&(n+="\n".concat(r.stack))}else{var l;n=null!==(l=null===e||void 0===e?void 0:e.stack)&&void 0!==l?l:""}return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:n,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},P=class extends O{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=i?"".concat(i,".order"):"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="undefined"===typeof r?"offset":"".concat(r,".offset"),a="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(i,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(a,'; for="').concat(l,'"; options=').concat(s,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const z=new RegExp("[,()]");var A=class extends P{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&z.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}notIn(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&z.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const a=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(i,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}},I=class{constructor(e,t){let{headers:n={},schema:r,fetch:i}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=null!==t&&void 0!==t?t:{},i=n?"HEAD":"GET";let a=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",o),r&&l.append("Prefer","count=".concat(r)),new A({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer","count=".concat(t)),n||a.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));i.searchParams.set("columns",e.join(","))}}return new A({method:"POST",url:i,headers:a,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a;const{url:o,headers:s}=this.cloneRequestState();if(s.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&o.searchParams.set("on_conflict",t),r&&s.append("Prefer","count=".concat(r)),i||s.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));o.searchParams.set("columns",e.join(","))}}return new A({method:"POST",url:o,headers:s,schema:this.schema,body:e,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer","count=".concat(t)),new A({method:"PATCH",url:r,headers:i,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer","count=".concat(e)),new A({method:"DELETE",url:n,headers:r,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},N=class e{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new I(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a;let o;const s=new URL("".concat(this.url,"/rpc/").concat(e));let l;const c=e=>null!==e&&"object"===typeof e&&(!Array.isArray(e)||e.some(c)),u=n&&Object.values(t).some(c);u?(o="POST",l=t):n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;s.searchParams.append(t,n)})):(o="POST",l=t);const d=new Headers(this.headers);return u?d.set("Prefer",i?"count=".concat(i,",return=minimal"):"return=minimal"):i&&d.set("Prefer","count=".concat(i)),new A({method:o,url:s,headers:d,schema:this.schemaName,body:l,fetch:null!==(a=this.fetch)&&void 0!==a?a:fetch})}};const L=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},D="realtime-js/".concat("2.90.1"),M="1.0.0",U=M,F=1e4;var B,W,q,H,V,K;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(B||(B={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(W||(W={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(q||(q={})),function(e){e.websocket="websocket"}(H||(H={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(V||(V={}));class ${constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:{},i=(new TextEncoder).encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(e,t,n){var r,i;const a=e.topic,o=null!==(r=e.ref)&&void 0!==r?r:"",s=null!==(i=e.join_ref)&&void 0!==i?i:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(s.length>255)throw new Error("joinRef length ".concat(s.length," exceeds maximum of 255"));if(o.length>255)throw new Error("ref length ".concat(o.length," exceeds maximum of 255"));if(a.length>255)throw new Error("topic length ".concat(a.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(u.length>255)throw new Error("metadata length ".concat(u.length," exceeds maximum of 255"));const d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+o.length+a.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(h),f=0;p.setUint8(f++,this.KINDS.userBroadcastPush),p.setUint8(f++,s.length),p.setUint8(f++,o.length),p.setUint8(f++,a.length),p.setUint8(f++,l.length),p.setUint8(f++,u.length),p.setUint8(f++,t),Array.from(s,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(o,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(a,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(l,e=>p.setUint8(f++,e.charCodeAt(0))),Array.from(u,e=>p.setUint8(f++,e.charCodeAt(0)));var g=new Uint8Array(h.byteLength+n.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(n),h.byteLength),g.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const n=JSON.parse(e),[r,i,a,o,s]=n;return t({join_ref:r,ref:i,topic:a,event:o,payload:s})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4);let s=this.HEADER_LENGTH+4;const l=n.decode(e.slice(s,s+r));s+=r;const c=n.decode(e.slice(s,s+i));s+=i;const u=n.decode(e.slice(s,s+a));s+=a;const d=e.slice(s,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,p={type:this.BROADCAST_EVENT,event:c,payload:h};return a>0&&(p.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return t.includes(n)})):{}}}class G{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(K||(K={}));const J=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,i)=>(n[i]=Y(i,e,t,r),n),{}):{}},Y=(e,t,n,r)=>{const i=t.find(t=>t.name===e),a=null===i||void 0===i?void 0:i.type,o=n[e];return a&&!r.includes(a)?Q(a,o):X(o)},Q=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return ne(t,n)}switch(e){case K.bool:return Z(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return ee(t);case K.json:case K.jsonb:return te(t);case K.timestamp:return re(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:default:return X(t)}},X=e=>e,Z=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ee=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},te=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},ne=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch(Zs){r=i?i.split(","):[]}return r.map(e=>Q(t,e))}return e},re=e=>"string"===typeof e?e.replace(" ","T"):e,ie=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ae{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oe,se,le,ce;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(oe||(oe={}));class ue{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ue.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=ue.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=ue.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const i=this.cloneDeep(e),a=this.transformState(t),o={},s={};return this.map(i,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{const n=i[e];if(n){const r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(o[e]=a),l.length>0&&(s[e]=l)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;const a=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map(e=>e.presence_ref),r=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,a,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;const a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(se||(se={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(le||(le={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(ce||(ce={}));class de{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,i;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=W.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ae(this,q.join,this.params,this.timeout),this.rejoinTimer=new G(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=W.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=W.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=W.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=W.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=W.errored,this.rejoinTimer.scheduleTimeout())}),this._on(q.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ue(this),this.broadcastEndpointURL=ie(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(i=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===i?void 0:i.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==W.closed){const{config:{broadcast:a,presence:o,private:s}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[le.PRESENCE]&&this.bindings[le.PRESENCE].length>0||!0===(null===(i=this.params.config.presence)||void 0===i?void 0:i.enabled),u={},d={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:s};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(ce.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(ce.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,i=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<i;r++){const i=t[r],{filter:{event:o,schema:s,table:l,filter:c}}=i,u=n&&n[r];if(!(u&&u.event===o&&de.isFilterValueEqual(u.schema,s)&&de.isFilterValueEqual(u.table,l)&&de.isFilterValueEqual(u.filter,c)))return this.unsubscribe(),this.state=W.errored,void(null===e||void 0===e||e(ce.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(ce.SUBSCRIBED))}null===e||void 0===e||e(ce.SUBSCRIBED)}).receive("error",t=>{this.state=W.errored,null===e||void 0===e||e(ce.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(ce.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===W.joined&&e===le.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization="Bearer ".concat(this.socket.accessTokenValue));const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===o.status)return{success:!0};let s=o.statusText;try{const e=await o.json();s=e.error||e.message||s}catch(l){}return Promise.reject(new Error(s))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,i,a;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===a?void 0:a.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=W.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(q.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new ae(this,q.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=W.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new ae(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const a=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:c}=q;if(n&&[o,s,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(u,n)):null===(i=this.bindings[a])||void 0===i||i.filter(e=>{var n,r,i,o,s,l,c,u;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,l=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===l||(null===l||void 0===l?void 0:l.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))&&(!(null===(o=e.filter)||void 0===o?void 0:o.table)||e.filter.table===(null===(s=t.data)||void 0===s?void 0:s.table))}{const n=null===(c=null===(l=null===e||void 0===e?void 0:e.filter)||void 0===l?void 0:l.event)||void 0===c?void 0:c.toLocaleLowerCase();return"*"===n||n===(null===(u=null===t||void 0===t?void 0:t.event)||void 0===u?void 0:u.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,o={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===W.closed}_isJoined(){return this.state===W.joined}_isJoining(){return this.state===W.joining}_isLeaving(){return this.state===W.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&de.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(q.close,{},e)}_onError(e){this._on(q.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=W.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=J(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=J(e.columns,e.old_record)),t}}const he=()=>{},pe=25e3,fe=10,ge=100,me=[1e3,2e3,5e3,1e4];class ye{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F,this.transport=null,this.heartbeatIntervalMs=pe,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=he,this.ref=0,this.reconnectTimer=null,this.vsn=U,this.logger=he,this.conn=null,this.sendBuffer=[],this.serializer=new $,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(H.websocket),this.httpEndpoint=ie(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case B.connecting:return V.Connecting;case B.open:return V.Open;case B.closing:return V.Closing;default:return V.Closed}}isConnected(){return this.connectionState()===V.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new de("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(i,")"),r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},ge)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(s){this.log("error","error in heartbeat callback",s)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:n,payload:r,ref:i}=e,a=i?"(".concat(i,")"):"",o=r.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(n," ").concat(a).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===B.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===B.open||this.conn.readyState===B.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(q.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!1;if(t)e=t,n=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),e=this.accessTokenValue}else e=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:D};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(q.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new G(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fe)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,i,a,o,s,l,c,u,d,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:F,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:pe,this.worker=null!==(i=null===e||void 0===e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,this.heartbeatCallback=null!==(o=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==o?o:he,this.vsn=null!==(s=null===e||void 0===e?void 0:e.vsn)&&void 0!==s?s:U,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>me[e-1]||1e4,this.vsn){case M:this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null===e||void 0===e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(d=null===e||void 0===e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}var ve=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(n=t.icebergType)||void 0===n?void 0:n.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function be(e){var t;const n=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:r,path:i,query:a,body:o,headers:s}=t;const l=function(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))void 0!==a&&r.searchParams.set(i,a);return r.toString()}(e.baseUrl,i,a),u=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),d=await n(l,{method:r,headers:c(c(c({},o?{"Content-Type":"application/json"}:{}),u),s),body:o?JSON.stringify(o):void 0}),h=await d.text(),p=(d.headers.get("content-type")||"").includes("application/json"),f=p&&h?JSON.parse(h):h;if(!d.ok){var g;const e=p?f:void 0,t=null===e||void 0===e?void 0:e.error;throw new ve(null!==(g=null===t||void 0===t?void 0:t.message)&&void 0!==g?g:"Request failed with status ".concat(d.status),{status:d.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:d.status,headers:d.headers,data:f}}}}function xe(e){return e.join("\x1f")}var we=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:xe(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(xe(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(xe(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(xe(e.namespace))}),!0}catch(t){if(t instanceof ve&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ve&&409===n.status)return;throw n}}};function ke(e){return e.join("\x1f")}var Se=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables"),body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){var n;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(n=null===t||void 0===t?void 0:t.purge)&&void 0!==n&&n)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(n){if(n instanceof ve&&404===n.status)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ve&&409===n.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},_e=class{constructor(e){var t;let n="v1";e.catalogName&&(n+="/".concat(e.catalogName));const r=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=be({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new we(this.client,n),this.tableOps=new Se(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var je=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ce(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var Ee=class extends je{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Te=class extends je{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Re=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Oe=e=>{if(Array.isArray(e))return e.map(e=>Oe(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const i=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[i]=Oe(r)}),t};function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}function Ae(e,t,n){return(t=ze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach(function(t){Ae(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Le=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},De=async(e,t,n)=>{e instanceof await Response&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then(n=>{const r=e.status||500,i=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Ee(Le(n),r,i))}).catch(e=>{t(new Te(Le(e),e))}):t(new Te(Le(e),e))},Me=(e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(i.headers=Ne({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,(null===t||void 0===t?void 0:t.duplex)&&(i.duplex=t.duplex),Ne(Ne({},i),n)):i};async function Ue(e,t,n,r,i,a){return new Promise((o,s)=>{e(n,Me(t,r,i,a)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>De(e,s,r))})}async function Fe(e,t,n,r){return Ue(e,"GET",t,n,r)}async function Be(e,t,n,r,i){return Ue(e,"POST",t,r,i,n)}async function We(e,t,n,r,i){return Ue(e,"PUT",t,r,i,n)}async function qe(e,t,n,r,i){return Ue(e,"DELETE",t,r,i,n)}var He=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ce(e))return{data:null,error:e};throw e}}};let Ve;Ve=Symbol.toStringTag;var Ke=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ve]="BlobDownloadBuilder",this.promise=null}asStream(){return new He(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ce(e))return{data:null,error:e};throw e}}};const $e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ge={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Je=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Re(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let a;const o=Ne(Ne({},Ge),r);let s=Ne(Ne({},i.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const l=o.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=n,s["cache-control"]="max-age=".concat(o.cacheControl),s["content-type"]=o.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&a instanceof ReadableStream||a&&"object"===typeof a&&"pipe"in a&&"function"===typeof a.pipe)&&!o.duplex&&(o.duplex="half")),(null===r||void 0===r?void 0:r.headers)&&(s=Ne(Ne({},s),r.headers));const c=i._removeEmptyFolders(t),u=i._getFinalPath(c),d=await("PUT"==e?We:Be)(i.fetch,"".concat(i.url,"/object/").concat(u),a,Ne({headers:s},(null===o||void 0===o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Ce(a))return{data:null,error:a};throw a}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),o=i._getFinalPath(a),s=new URL(i.url+"/object/upload/sign/".concat(o));s.searchParams.set("token",t);try{let e;const t=Ne({upsert:Ge.upsert},r),o=Ne(Ne({},i.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,o["cache-control"]="max-age=".concat(t.cacheControl),o["content-type"]=t.contentType),{data:{path:a,fullPath:(await We(i.fetch,s.toString(),e,{headers:o})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ce(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=Ne({},n.headers);(null===t||void 0===t?void 0:t.upsert)&&(i["x-upsert"]="true");const a=await Be(n.fetch,"".concat(n.url,"/object/upload/sign/").concat(r),{},{headers:i}),o=new URL(n.url+a.url),s=o.searchParams.get("token");if(!s)throw new je("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Be(r.fetch,"".concat(r.url,"/object/move"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await Be(r.fetch,"".concat(r.url,"/object/copy"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),a=await Be(r.fetch,"".concat(r.url,"/object/sign/").concat(i),Ne({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:r.headers});const o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a={signedUrl:encodeURI("".concat(r.url).concat(a.signedURL).concat(o))},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await Be(r.fetch,"".concat(r.url,"/object/sign/").concat(r.bucketId),{expiresIn:t,paths:e},{headers:r.headers}),a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:i.map(e=>Ne(Ne({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(r.url).concat(e.signedURL).concat(a)):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}}download(e,t){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),i=r?"?".concat(r):"",a=this._getFinalPath(e);return new Ke(()=>Fe(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(a).concat(i),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Oe(await Fe(t.fetch,"".concat(t.url,"/object/info/").concat(n),{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await async function(e,t,n,r){return Ue(e,"HEAD",t,Ne(Ne({},n),{},{noResolveJson:!0}),r)}(t.fetch,"".concat(t.url,"/object/").concat(n),{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ce(r)&&r instanceof Te){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==i&&r.push(i);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let s=r.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(n).concat(s))}}}async remove(e){var t=this;try{return{data:await qe(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=Ne(Ne(Ne({},$e),t),{},{prefix:e||""});return{data:await Be(r.fetch,"".concat(r.url,"/object/list/").concat(r.bucketId),i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=Ne({},e);return{data:await Be(n.fetch,"".concat(n.url,"/object/list-v2/").concat(n.bucketId),r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const Ye="2.90.1",Qe={"X-Client-Info":"storage-js/".concat(Ye)};var Xe=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const i=new URL(e);(null===r||void 0===r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Ne(Ne({},Qe),t),this.fetch=Re(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Fe(t.fetch,"".concat(t.url,"/bucket").concat(n),{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Fe(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var n=this;try{return{data:await Be(n.fetch,"".concat(n.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await We(n.fetch,"".concat(n.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Be(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await qe(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ze=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ne(Ne({},Qe),t),this.fetch=Re(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Be(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&n.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&n.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&n.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&n.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&n.set("search",e.search);const r=n.toString(),i=r?"".concat(t.url,"/bucket?").concat(r):"".concat(t.url,"/bucket");return{data:await Fe(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await qe(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new je("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new _e({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){const n=e[t];return"function"!==typeof n?n:async function(){try{for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return{data:await n.apply(e,i),error:null}}catch(o){if(r)throw o;return{data:null,error:o}}}}})}};const et={"X-Client-Info":"storage-js/".concat(Ye),"Content-Type":"application/json"};var tt=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function nt(e){return"object"===typeof e&&null!==e&&"__isStorageVectorsError"in e}var rt=class extends tt{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},it=class extends tt{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const at=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},ot=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),st=(e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(i.headers=Ne({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Ne(Ne({},i),n)):i};async function lt(e,t,n,r,i,a){return new Promise((o,s)=>{e(n,st(t,r,i,a)).then(e=>{if(!e.ok)throw e;if(null===r||void 0===r?void 0:r.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>o(e)).catch(e=>(async(e,t,n)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===n||void 0===n?void 0:n.noResolveJson)){const n=e.status||500,r=e;if("function"===typeof r.json)r.json().then(e=>{const r=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||n+"";t(new rt(ot(e),n,r))}).catch(()=>{const e=n+"";t(new rt(r.statusText||"HTTP ".concat(n," error"),n,e))});else{const e=n+"";t(new rt(r.statusText||"HTTP ".concat(n," error"),n,e))}}else t(new it(ot(e),e))})(e,s,r))})}async function ct(e,t,n,r,i){return lt(e,"POST",t,r,i,n)}var ut=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ne(Ne({},et),t),this.fetch=at(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await ct(n.fetch,"".concat(n.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await ct(n.fetch,"".concat(n.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}},dt=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ne(Ne({},et),t),this.fetch=at(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ct(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return{data:await ct(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ct(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}},ht=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ne(Ne({},et),t),this.fetch=at(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}},pt=class extends ht{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new ft(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},ft=class extends ut{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){return(()=>super.createIndex)().call(this,Ne(Ne({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,Ne(Ne({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new gt(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},gt=class extends dt{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},mt=class extends Xe{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Je(this.url,this.headers,e,this.fetch)}get vectors(){return new pt(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ze(this.url+"/iceberg",this.headers,this.fetch)}};const yt="2.90.1",vt=3e4,bt=9e4,xt={"X-Client-Info":"gotrue-js/".concat(yt)},wt="X-Supabase-Api-Version",kt={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},St=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class _t extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function jt(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Ct extends _t{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Et extends _t{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Tt extends _t{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Rt extends Tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Ot extends Tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pt extends Tt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zt extends Tt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class At extends Tt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class It extends Tt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nt extends Tt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Lt(e){return jt(e)&&"AuthRetryableFetchError"===e.name}class Dt extends Tt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Mt extends Tt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ft=" \t\n\r=".split(""),Bt=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ft.length;t+=1)e[Ft[t].charCodeAt(0)]=-2;for(let t=0;t<Ut.length;t+=1)e[Ut[t].charCodeAt(0)]=t;return e})();function Wt(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Ut[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Ut[e]),t.queuedBits-=6}}function qt(e,t,n){const r=Bt[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ht(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)qt(e.charCodeAt(o),i,a);return t.join("")}function Vt(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Kt(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Vt(r,t)}}function $t(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)qt(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Gt(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Wt(e,n,r)),Wt(null,n,r),t.join("")}const Jt=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Yt={tested:!1,writable:!1},Qt=()=>{if(!Jt())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Yt.tested)return Yt.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yt.tested=!0,Yt.writable=!0}catch(t){Yt.tested=!0,Yt.writable=!1}return Yt.writable};const Xt=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Zt=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},en=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},tn=async(e,t)=>{await e.removeItem(t)};class nn{constructor(){this.promise=new nn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function rn(e){const t=e.split(".");if(3!==t.length)throw new Mt("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!St.test(t[n]))throw new Mt("JWT not in base64url format");return{header:JSON.parse(Ht(t[0])),payload:JSON.parse(Ht(t[1])),signature:$t(t[2]),raw:{header:t[0],payload:t[1]}}}function an(e){return("0"+e.toString(16)).substr(-2)}async function on(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,an).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Zt(e,"".concat(t,"-code-verifier"),i);const a=await on(r);return[a,r===a?"plain":"s256"]}nn.promiseConstructor=Promise;const ln=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const cn=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function un(e){if(!cn.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dn(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function hn(e){return JSON.parse(JSON.stringify(e))}const pn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fn=[502,503,504];async function gn(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Nt(pn(e),0);if(fn.includes(e.status))throw new Nt(pn(e),e.status);let r,i;try{r=await e.json()}catch(o){throw new Et(pn(o),o)}const a=function(e){const t=e.headers.get(wt);if(!t)return null;if(!t.match(ln))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(o){return null}}(e);if(a&&a.getTime()>=kt.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?i=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new Dt(pn(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new Rt}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Dt(pn(r),e.status,r.weak_password.reasons);throw new Ct(pn(r),e.status||500,i)}async function mn(e,t,n,r){var i;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[wt]||(a[wt]=kt.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization="Bearer ".concat(r.jwt));const o=null!==(i=null===r||void 0===r?void 0:r.query)&&void 0!==i?i:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,i,a){const o=((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Nt(pn(l),0)}s.ok||await gn(s);if(null===r||void 0===r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(l){await gn(l)}}(e,t,n+s,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function yn(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function vn(e){const t=yn(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function bn(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function xn(e){return{data:e,error:null}}function wn(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=x(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},o)},error:null}}function kn(e){return e}const Sn=["global","local","others"];class _n{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Xt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn[0];if(Sn.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Sn.join(", ")));try{return await mn(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(jt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await mn(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:bn})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=x(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await mn(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:wn,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(jt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await mn(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:bn})}catch(t){if(jt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,a,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await mn(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:kn});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(jt(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){un(e);try{return await mn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:bn})}catch(t){if(jt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){un(e);try{return await mn(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:bn})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];un(e);try{return await mn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:bn})}catch(n){if(jt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){un(e.userId);try{const{data:t,error:n}=await mn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){un(e.userId),un(e.id);try{return{data:await mn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,i,a,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await mn(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:kn});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(jt(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await mn(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await mn(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await mn(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(jt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await mn(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(jt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await mn(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(jt(t))return{data:null,error:t};throw t}}}function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Cn=!!(globalThis&&Qt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class En extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Tn extends En{}async function Rn(e,t,n){Cn&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Cn&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw Cn&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tn('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Cn)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Cn&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Cn&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}function On(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function Pn(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class zn extends Error{constructor(e){let{message:t,code:n,cause:r,name:i}=e;var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(a=null!==i&&void 0!==i?i:r instanceof Error?r.name:void 0)&&void 0!==a?a:"Unknown Error",this.code=n}}class An extends zn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function In(e){let{error:t,options:n}=e;var r,i,a;const{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new zn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=o.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new zn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(i=o.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new zn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(a=o.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new zn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new zn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new zn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===o.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new zn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new zn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Bn(e))return new zn({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(o.rp.id!==e)return new zn({message:'The RP ID "'.concat(o.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new zn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new zn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Nn(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new zn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new zn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Bn(e))return new zn({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new zn({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new zn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const Ln=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Dn(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=x(e,["challenge","user","excludeCredentials"]),a=$t(t).buffer,o=Object.assign(Object.assign({},n),{id:$t(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];s.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:$t(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Mn(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=x(e,["challenge","allowCredentials"]),i=$t(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:$t(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}function Un(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Gt(new Uint8Array(e.response.attestationObject)),clientDataJSON:Gt(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Fn(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Gt(new Uint8Array(i.authenticatorData)),clientDataJSON:Gt(new Uint8Array(i.clientDataJSON)),signature:Gt(new Uint8Array(i.signature)),userHandle:i.userHandle?Gt(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Bn(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Wn(){var e,t;return!!(Jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const qn={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hn={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vn(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];for(const o of i)if(o)for(const r in o){const i=o[r];if(void 0!==i)if(Array.isArray(i))n[r]=i;else if(t(i))n[r]=i;else if(e(i)){const t=n[r];e(t)?n[r]=Vn(t,i):n[r]=Vn(i)}else n[r]=i}return n}class Kn{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:i,signal:a}=e;try{const{data:e,error:o}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:o};const s=null!==a&&void 0!==a?a:Ln.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(i)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return Vn(qn,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:i,error:a}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new An("Browser returned unexpected credential type",t)}:{data:null,error:new An("Empty credential response",t)}}catch(t){return{data:null,error:In({error:t,options:e})}}}({publicKey:r,signal:s});return i?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:i}},error:null}:{data:null,error:a}}case"request":{const r=function(e,t){return Vn(Hn,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:i,error:a}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new An("Browser returned unexpected credential type",t)}:{data:null,error:new An("Empty credential response",t)}}catch(t){return{data:null,error:Nn({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:s}));return i?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:i}},error:null}:{data:null,error:a}}}}catch(o){return jt(o)?{data:null,error:o}:{data:null,error:new Et("Unexpected error in challenge",o)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:i=("undefined"!==typeof window?[window.location.origin]:void 0),signal:a}={}}=e;if(!r)return{data:null,error:new _t("rpId is required for WebAuthn authentication")};try{if(!Wn())return{data:null,error:new Et("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:i},signal:a},{request:t});if(!e)return{data:null,error:o};const{webauthn:s}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:s.type,rpId:r,rpOrigins:i,credential_response:s.credential_response}})}catch(o){return jt(o)?{data:null,error:o}:{data:null,error:new Et("Unexpected error in authenticate",o)}}}async _register(e,t){let{friendlyName:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:i=("undefined"!==typeof window?[window.location.origin]:void 0),signal:a}={}}=e;if(!r)return{data:null,error:new _t("rpId is required for WebAuthn registration")};try{if(!Wn())return{data:null,error:new Et("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:o};const{data:s,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:a},{create:t});return s?this._verify({factorId:e.id,challengeId:s.challengeId,webauthn:{rpId:r,rpOrigins:i,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:l}}catch(o){return jt(o)?{data:null,error:o}:{data:null,error:new Et("Unexpected error in register",o)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const $n={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xt,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Gn(e,t,n){return await n()}const Jn={};class Yn{get jwks(){var e,t;return null!==(t=null===(e=Jn[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Jn[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},$n),e);if(this.storageKey=i.storageKey,this.instanceID=null!==(t=Yn.nextInstanceID[this.storageKey])&&void 0!==t?t:0,Yn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,"function"===typeof i.debug&&(this.logger=i.debug),this.instanceID>0&&Jt()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _n({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Xt(i.fetch),this.lock=i.lock||Gn,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Jt()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=Rn:this.lock=Gn,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kn(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Qt()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jn(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=jn(this.memoryStorage)),Jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(yt,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(Jt()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Jt()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return jt(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return{error:i}}const{session:a,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return jt(t)?this._returnResult({error:t}):this._returnResult({error:new Et("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await mn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:yn}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const s=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(i){if(jt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:a}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await sn(this.storage,this.storageKey)),i=await mn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:o,code_challenge_method:s},xform:yn})}else{if(!("phone"in e))throw new Pt("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:o}=e;i=await mn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:yn})}}const{data:a,error:o}=i;if(o||!a)return await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:o});const s=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(i){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),jt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:vn})}else{if(!("phone"in e))throw new Pt("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:vn})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new Ot;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(jt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,i,a,o,s,l,c,u,d;let h,p;if("message"in e)h=e.message,p=e.signature;else{const{chain:u,wallet:d,statement:f,options:g}=e;let m;if(Jt())if("object"===typeof d)m=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");m=e.ethereum}else{if("object"!==typeof d||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=d}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href),v=await m.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=On(v[0]);let x=null===(n=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!x){const e=await m.request({method:"eth_chainId"});x=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(o));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const p=On(e.address),f=u?"".concat(u,"://").concat(r):r,g=e.statement?"".concat(e.statement,"\n"):"",m="".concat(f," wants you to sign in with your Ethereum account:\n").concat(p,"\n\n").concat(g);let y="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(o?"\nNonce: ".concat(o):"","\nIssued At: ").concat(a.toISOString());if(i&&(y+="\nExpiration Time: ".concat(i.toISOString())),s&&(y+="\nNot Before: ".concat(s.toISOString())),l&&(y+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}y+=e}return"".concat(m,"\n").concat(y)}({domain:y.host,address:b,statement:f,uri:y.href,version:"1",chainId:x,nonce:null===(r=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(a=null===(i=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===i?void 0:i.issuedAt)&&void 0!==a?a:new Date,expirationTime:null===(o=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===o?void 0:o.expirationTime,notBefore:null===(s=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===s?void 0:s.notBefore,requestId:null===(l=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===c?void 0:c.resources}),p=await m.request({method:"personal_sign",params:[Pn(h),b]})}try{const{data:t,error:n}=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:p},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:yn});if(n)throw n;if(!t||!t.session||!t.user){const e=new Ot;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(f){if(jt(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithSolana(e){var t,n,r,i,a,o,s,l,c,u,d,h;let p,f;if("message"in e)p=e.message,f=e.signature;else{const{chain:d,wallet:h,statement:g,options:m}=e;let y;if(Jt())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===m||void 0===m?void 0:m.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),f=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(r=null===(n=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(i=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===i?void 0:i.notBefore)?["Not Before: ".concat(m.signInWithSolana.notBefore)]:[],...(null===(a=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===a?void 0:a.expirationTime)?["Expiration Time: ".concat(m.signInWithSolana.expirationTime)]:[],...(null===(o=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(m.signInWithSolana.chainId)]:[],...(null===(s=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===s?void 0:s.nonce)?["Nonce: ".concat(m.signInWithSolana.nonce)]:[],...(null===(l=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(m.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...m.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");f=e}}try{const{data:t,error:n}=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Gt(f)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:yn});if(n)throw n;if(!t||!t.session||!t.user){const e=new Ot;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(g){if(jt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await en(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{if(!n&&"pkce"===this.flowType)throw new It;const{data:t,error:i}=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yn});if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),i)throw i;if(!t||!t.session||!t.user){const e=new Ot;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:i})}catch(i){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),jt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:a}=e,o=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:yn}),{data:s,error:l}=o;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const e=new Ot;return this._returnResult({data:{user:null,session:null},error:e})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:s,error:l})}catch(t){if(jt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,i,a;try{if("email"in e){const{email:r,options:i}=e;let a=null,o=null;"pkce"===this.flowType&&([a,o]=await sn(this.storage,this.storageKey));const{error:s}=await mn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null===i||void 0===i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:o},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:s}=await mn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s})}throw new Pt("You must provide either an email or phone number.")}catch(o){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),jt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:o}=await mn(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:yn});if(o)throw o;if(!a){throw new Error("An error occurred on token verification.")}const s=a.session,l=a.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(r){if(jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r,i,a;try{let o=null,s=null;"pkce"===this.flowType&&([o,s]=await sn(this.storage,this.storageKey));const l=await mn(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:xn});return(null===(i=l.data)||void 0===i?void 0:i.url)&&Jt()&&!(null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(o){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),jt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Rt;const{error:r}=await mn(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(jt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:i}=e,{error:a}=await mn(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:a,error:o}=await mn(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:o})}throw new Pt("You must provide either an email or phone number and a type")}catch(t){if(jt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await en(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<bt;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await en(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=dn()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"===typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!==typeof n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await mn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:bn}):await this._useSession(async e=>{var t,n,r;const{data:i,error:a}=e;if(a)throw a;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await mn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:bn}):{data:{user:null},error:new Rt}})}catch(t){if(jt(t))return function(e){return jt(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await tn(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Rt;const a=r.session;let o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await sn(this.storage,this.storageKey));const{data:l,error:c}=await mn(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:a.access_token,xform:bn});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),jt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rt;const t=Date.now()/1e3;let n=t,r=!0,i=null;const{payload:a}=rn(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(t){if(jt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Rt;const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(jt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Jt())throw new zt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new At("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new zt("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new At("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:o,expires_at:s,token_type:l}=e;if(!i||!o||!a||!l)throw new zt("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;s&&(d=parseInt(s));const h=d-c;1e3*h<=vt&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:f,error:g}=await this._getUser(i);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(n){if(jt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await en(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return this._returnResult({error:i});const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return jt(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await tn(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await sn(this.storage,this.storageKey,!0));try{return await mn(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),jt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,i,a,o;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await mn(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(a=s.session)||void 0===a?void 0:a.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return Jt()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null})}catch(n){if(jt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:i}}=t;if(r)throw r;const{options:a,provider:o,token:s,access_token:l,nonce:c}=e,u=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===i||void 0===i?void 0:i.access_token)&&void 0!==n?n:void 0,body:{provider:o,id_token:s,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:yn}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new Ot})}catch(r){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),jt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:a}=t;if(a)throw a;return await mn(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:yn})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Lt(t)&&Date.now()+n-i<vt},new Promise((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(i){if(!r(a,i))return void t(i)}})()}))}catch(i){if(this._debug(t,"error",i),jt(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Jt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await en(this.storage,this.storageKey);if(i&&this.userStorage){let t=await en(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},await Zt(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:dn()}else if(i&&!i.user&&!i.user){const e=await en(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await tn(this.storage,this.storageKey+"-user"),await Zt(this.storage,this.storageKey,i)):i.user=dn()}if(this._debug(n,"session from storage",i),!this._isValidSession(i))return this._debug(n,"session is not valid"),void(null!==i&&await this._removeSession());const a=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<bt;if(this._debug(n,"session has".concat(a?"":" not"," expired with margin of ").concat(bt,"s")),a){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=await this._callRefreshToken(i.refresh_token);e&&(console.error(e),Lt(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(i.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return this._debug(n,"error",i),void console.error(i)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new nn;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Rt;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),jt(i)){const e={data:null,error:i};return Lt(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(i){r.push(i)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tn(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Zt(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=hn(e);await Zt(this.storage,this.storageKey,r)}else{const e=hn(t);await Zt(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tn(this.storage,this.storageKey),await tn(this.storage,this.storageKey+"-code-verifier"),await tn(this.storage,this.storageKey+"-user"),this.userStorage&&await tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Jt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vt);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"===typeof t&&"function"===typeof t.unref?t.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/vt);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(vt,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof En))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await sn(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?this._returnResult({data:null,error:i}):await mn(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:a}=t;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:s,error:l}=await mn(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===s.type&&(null===(r=null===s||void 0===s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),this._returnResult({data:s,error:null}))})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Un(e.webauthn.credential_response):Fn(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:s}=await mn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:a,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?this._returnResult({data:null,error:s}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:s}))})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return this._returnResult({data:null,error:i});const a=await mn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if("webauthn"!==o.type)return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Dn(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Mn(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(i),"verified"===i.status&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=rn(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;(null!==(t=null===(e=n.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(o="aal2");return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:i.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await mn(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Rt});const a=await mn(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Jt()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Rt});const a=await mn(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&Jt()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await mn(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(e){if(jt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await mn(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(t){if(jt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:i}=await mn(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(i)throw i;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:i,signature:a,raw:{header:o,payload:s}}=rn(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,a,function(e){const t=[];return Kt(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(s))))throw new Mt("Invalid JWT signature");return{data:{claims:i,header:r,signature:a},error:null}}catch(n){if(jt(n))return this._returnResult({data:null,error:n});throw n}}}Yn.nextInstanceID={};const Qn=Yn;let Xn="";Xn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Zn={headers:{"X-Client-Info":"supabase-js-".concat(Xn,"/").concat("2.90.1")}},er={schema:"public"},tr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nr={};function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e){var t=function(e,t){if("object"!=rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rr(t)?t:t+""}function ar(e,t,n){return(t=ir(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach(function(t){ar(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const lr=(e,t,n)=>{const r=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n),i=Headers;return async(n,a)=>{var o;const s=null!==(o=await t())&&void 0!==o?o:e;let l=new i(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),r(n,sr(sr({},a),{},{headers:l}))}};var cr=class extends Qn{constructor(e){super(e)}},ur=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const a=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o="sb-".concat(a.hostname.split(".")[0],"-auth-token"),s=function(e,t){var n,r;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:sr(sr({},l),i),auth:sr(sr({},c),a),realtime:sr(sr({},u),o),storage:{},global:sr(sr(sr({},d),s),{},{headers:sr(sr({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===s||void 0===s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:er,realtime:nr,auth:sr(sr({},tr),{},{storageKey:o}),global:Zn});var l;(this.storageKey=null!==(r=s.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=s.global.headers)&&void 0!==i?i:{},s.accessToken)?(this.accessToken=s.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=s.auth)&&void 0!==l?l:{},this.headers,s.global.fetch);this.fetch=lr(t,this._getAccessToken.bind(this),s.global.fetch),this.realtime=this._initRealtimeClient(sr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},s.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new N(new URL("rest/v1",a).href,{headers:this.headers,schema:s.db.schema,fetch:this.fetch}),this.storage=new mt(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),s.accessToken||this._listenForAuthEvents()}get functions(){return new T(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,n=this;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:n.supabaseKey}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:i,detectSessionInUrl:a,storage:o,userStorage:s,storageKey:l,flowType:c,lock:u,debug:d,throwOnError:h}=e;const p={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new cr({url:this.authUrl.href,headers:sr(sr({},p),t),storageKey:l,autoRefreshToken:r,persistSession:i,detectSessionInUrl:a,storage:o,userStorage:s,flowType:c,lock:u,debug:d,throwOnError:h,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new ye(this.realtimeUrl.href,sr(sr({},e),{},{params:sr(sr({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}};(function(){if("undefined"!==typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(void 0===t||null===t)return!1;const n=t.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dr=((e,t,n)=>new ur(e,t,n))("https://albdrcyjmfrbzbzopfpu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFsYmRyY3lqbWZyYnpiem9wZnB1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1Mzk2MTAsImV4cCI6MjA4MzExNTYxMH0.M7SVuHxQCKu9nYeXTXvjEaFQ-HZhGzFy9TQCQu6Y-nU");class hr{constructor(){s(this,"_bus",new EventTarget)}listen(e){function t(t){e(t.data)}return this._bus.addEventListener("message",t),()=>this._bus.removeEventListener("message",t)}fireEvent(e){this._bus.dispatchEvent(new MessageEvent("message",{data:e}))}}const pr=new Error;pr.stack="";const fr=new hr;const gr={};let mr=null;const yr={get editorOrigin(){var e;null==mr&&(mr=new URL(null!==(e=globalThis.WEBCONTAINER_API_IFRAME_URL)&&void 0!==e?e:"https://stackblitz.com").origin);return mr},set editorOrigin(e){mr=new URL(e).origin},setQueryParam(e,t){gr[e]=t},get url(){const e=new URL(this.editorOrigin);e.pathname="/headless";for(const t in gr)e.searchParams.set(t,gr[t]);return e.searchParams.set("version","1.6.1"),e}};const vr={initialized:!1,bootCalled:!1,authComplete:function(){let e,t;function n(){t=new Promise(t=>e=t)}return n(),{get promise(){return t},resolve:t=>e(t),reset:n}}(),clientId:"",oauthScope:"",broadcastChannel:null,get editorOrigin(){return yr.editorOrigin},tokens:null};new hr,new hr;function br(e){if(!e)throw new Error("Oops! Tokens is not defined when it always should be.")}var xr;!function(e){e.UncaughtException="PREVIEW_UNCAUGHT_EXCEPTION",e.UnhandledRejection="PREVIEW_UNHANDLED_REJECTION",e.ConsoleError="PREVIEW_CONSOLE_ERROR"}(xr||(xr={}));var wr=Object.defineProperty,kr={};((e,t)=>{for(var n in t)wr(e,n,{get:t[n],enumerable:!0})})(kr,{createEndpoint:()=>_r,expose:()=>Rr,proxy:()=>Dr,proxyMarker:()=>Sr,releaseProxy:()=>jr,transfer:()=>Lr,transferHandlers:()=>Tr,windowEndpoint:()=>Mr,wrap:()=>Pr});var Sr=Symbol("Comlink.proxy"),_r=Symbol("Comlink.endpoint"),jr=Symbol("Comlink.releaseProxy"),Cr=Symbol("Comlink.thrown"),Er=e=>"object"===typeof e&&null!==e||"function"===typeof e,Tr=new Map([["proxy",{canHandle:e=>Er(e)&&e[Sr],serialize(e){const{port1:t,port2:n}=new MessageChannel;return Rr(e,t),[n,[n]]},deserialize:e=>(e.start(),Pr(e))}],["throw",{canHandle:e=>Er(e)&&Cr in e,serialize(e){let t,{value:n}=e;return t=n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function Rr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;t.addEventListener("message",function n(r){if(!r||!r.data)return;const{id:i,type:a,path:o}=Object.assign({path:[]},r.data),s=(r.data.argumentList||[]).map(Fr);let l;try{const t=o.slice(0,-1).reduce((e,t)=>e[t],e),n=o.reduce((e,t)=>e[t],e);switch(a){case 0:l=n;break;case 1:t[o.slice(-1)[0]]=Fr(r.data.value),l=!0;break;case 2:l=n.apply(t,s);break;case 3:l=Dr(new n(...s));break;case 4:{const{port1:t,port2:n}=new MessageChannel;Rr(e,n),l=Lr(t,[t])}break;case 5:l=void 0}}catch(c){l={value:c,[Cr]:0}}Promise.resolve(l).catch(e=>({value:e,[Cr]:0})).then(e=>{const[r,o]=Ur(e);t.postMessage(Object.assign(Object.assign({},r),{id:i}),o),5===a&&(t.removeEventListener("message",n),Or(t))})}),t.start&&t.start()}function Or(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function Pr(e,t){return Ar(e,[],t)}function zr(e){if(e)throw new Error("Proxy has been released and is not useable")}function Ar(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1;const r=new Proxy(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},{get(i,a){if(zr(n),a===jr)return()=>Br(e,{type:5,path:t.map(e=>e.toString())}).then(()=>{Or(e),n=!0});if("then"===a){if(0===t.length)return{then:()=>r};const n=Br(e,{type:0,path:t.map(e=>e.toString())}).then(Fr);return n.then.bind(n)}return Ar(e,[...t,a])},set(r,i,a){zr(n);const[o,s]=Ur(a);return Br(e,{type:1,path:[...t,i].map(e=>e.toString()),value:o},s).then(Fr)},apply(r,i,a){zr(n);const o=t[t.length-1];if(o===_r)return Br(e,{type:4}).then(Fr);if("bind"===o)return Ar(e,t.slice(0,-1));const[s,l]=Ir(a);return Br(e,{type:2,path:t.map(e=>e.toString()),argumentList:s},l).then(Fr)},construct(r,i){zr(n);const[a,o]=Ir(i);return Br(e,{type:3,path:t.map(e=>e.toString()),argumentList:a},o).then(Fr)}});return r}function Ir(e){const t=e.map(Ur);return[t.map(e=>e[0]),(n=t.map(e=>e[1]),Array.prototype.concat.apply([],n))];var n}var Nr=new WeakMap;function Lr(e,t){return Nr.set(e,t),e}function Dr(e){return Object.assign(e,{[Sr]:!0})}function Mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return{postMessage:(t,r)=>e.postMessage(t,n,r),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function Ur(e){for(const[t,n]of Tr)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:3,name:t,value:r},i]}return[{type:0,value:e},Nr.get(e)||[]]}function Fr(e){switch(e.type){case 3:return Tr.get(e.name).deserialize(e.value);case 0:return e.value}}function Br(e,t,n){return new Promise(r=>{const i=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.addEventListener("message",function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),r(n.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)})}const Wr=[xr.ConsoleError,xr.UncaughtException,xr.UnhandledRejection];function qr(e){const t=Object.create(null);return e?Object.assign(t,e):t}const Hr=new TextDecoder("latin1");function Vr(e){const t={d:{}};for(const n of Object.keys(e)){const r=e[n];if("file"in r){if("symlink"in r.file){t.d[n]={f:{l:r.file.symlink}};continue}const e=r.file.contents,i="string"===typeof e?e:Hr.decode(e),a="string"===typeof e?{}:{b:!0};t.d[n]={f:c({c:i},a)};continue}const i=Vr(r.directory);t.d[n]=i}return t}function Kr(e){const t=qr();if("f"in e)throw new Error("It is not possible to export a single file in the JSON format.");if("d"in e)for(const n of Object.keys(e.d)){const r=e.d[n];"d"in r?t[n]=qr({directory:Kr(r)}):"f"in r&&("c"in r.f?t[n]=qr({file:qr({contents:r.f.b?$r(r.f.c):r.f.c})}):"l"in r.f&&(t[n]=qr({file:qr({symlink:r.f.l})})))}return t}function $r(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return t}let Gr=null,Jr=null,Yr={};const Qr=new TextDecoder,Xr=new TextEncoder;class Zr{constructor(e,t,n,r){var i;s(this,"_instance",void 0),s(this,"_runtimeInfo",void 0),s(this,"fs",void 0),s(this,"_tornDown",!1),s(this,"_unsubscribeFromTokenChangedListener",()=>{}),this._instance=e,this._runtimeInfo=r,this.fs=new ri(t),vr.initialized&&(this._unsubscribeFromTokenChangedListener=(i=e=>{this._instance.setCredentials({accessToken:e,editorOrigin:vr.editorOrigin})},fr.listen(i)),(async()=>{await vr.authComplete.promise,this._tornDown||(br(vr.tokens),await this._instance.setCredentials({accessToken:vr.tokens.access,editorOrigin:vr.editorOrigin}))})().catch(e=>{console.error(e)}))}async spawn(e,t,n){var r,i,a,o;let s,l=[];Array.isArray(t)?l=t:n=t;let c,u,d=new ReadableStream;if(!1!==(null===(r=n)||void 0===r?void 0:r.output)){const e=function(){let e=null;const t=new ReadableStream({start(t){e=t}});return{stream:t,push:t=>{var n,r;null!=t?null===(n=e)||void 0===n||n.enqueue(t):(null===(r=e)||void 0===r||r.close(),e=null)}}}();s=e.push,d=e.stream}const h=ai(ii(s)),p=ai(ii(c)),f=ai(ii(u)),g=await this._instance.run({command:e,args:l,cwd:null===(i=n)||void 0===i?void 0:i.cwd,env:null===(a=n)||void 0===a?void 0:a.env,terminal:null===(o=n)||void 0===o?void 0:o.terminal},p,f,h);return new ni(g,d,undefined,undefined)}async export(e,t){var n;const r={format:null!==(n=null===t||void 0===t?void 0:t.format)&&void 0!==n?n:"json",includes:null===t||void 0===t?void 0:t.includes,excludes:null===t||void 0===t?void 0:t.excludes,external:!0},i=await this._instance.serialize(e,r);if("json"===r.format){return Kr(JSON.parse(Qr.decode(i)))}return i}on(e,t){if("preview-message"===e){const e=t;t=t=>{var n;null!=(n=t)&&"object"===typeof n&&"type"in n&&Wr.includes(n.type)&&e(t)}}const{listener:n,subscribe:r}=function(e){let t=!1,n=()=>{};const r=function(){t||e(...arguments)};return{subscribe:e=>(e.then(e=>{n=e,t&&n()}),()=>{t=!0,n()}),listener:r}}(t);return r(this._instance.on(e,kr.proxy(n)))}mount(e,t){const n=e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):Xr.encode(JSON.stringify(Vr(e)));return this._instance.loadFiles(kr.transfer(n,[n.buffer]),{mountPoints:null===t||void 0===t?void 0:t.mountPoint})}setPreviewScript(e,t){return this._instance.setPreviewScript(e,t)}get path(){return this._runtimeInfo.path}get workdir(){return this._runtimeInfo.cwd}teardown(){if(this._tornDown)throw new Error("WebContainer already torn down");this._tornDown=!0,this._unsubscribeFromTokenChangedListener();Zr._teardownPromise=(async()=>{try{await this.fs._teardown(),await this._instance.teardown()}finally{this._instance[kr.releaseProxy](),Zr._instance===this&&(Zr._instance=null)}})()}static async boot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await this._teardownPromise,Zr._teardownPromise=null;const{workdirName:t}=e;if(window.crossOriginIsolated&&"none"===e.coep&&console.warn("A Cross-Origin-Embedder-Policy header is required in cross origin isolated environments.\nSet the 'coep' option to 'require-corp'."),null!==t&&void 0!==t&&t.includes("/")||".."===t||"."===t)throw new Error("workdirName should be a valid folder name");for(vr.bootCalled=!0;Gr;)await Gr;if(Zr._instance)throw new Error("Only a single WebContainer instance can be booted");const n=async function(e){const{serverPromise:t}=function(e){if(null!=Jr)return e.coep!==Yr.coep&&(console.warn("Attempting to boot WebContainer with 'coep: ".concat(e.coep,"'")),console.warn("First boot had 'coep: ".concat(Yr.coep,"', new settings will not take effect!"))),{serverPromise:Jr};e.coep&&yr.setQueryParam("coep",e.coep);e.experimentalNode&&yr.setQueryParam("experimental_node","1");const t=document.createElement("iframe");t.style.display="none",t.setAttribute("allow","cross-origin-isolated");const n=yr.url;t.src=n.toString();const{origin:r}=n;return Yr=c({},e),Jr=new Promise(e=>{const t=t=>{if(t.origin!==r)return;const{data:n}=t;"init"!==n.type?"warning"!==n.type||console[n.level].call(console,n.message):e(kr.wrap(t.ports[0]))};window.addEventListener("message",t)}),document.body.insertBefore(t,null),{serverPromise:Jr}}(e),n=await t,r=await n.build({host:window.location.host,version:"1.6.1",workdirName:e.workdirName,forwardPreviewErrors:e.forwardPreviewErrors}),[i,a,o]=await Promise.all([r.fs(),r.previewScript(),r.runtimeInfo()]);return new Zr(r,i,a,o)}(e);Gr=n.catch(()=>{});try{const e=await n;return Zr._instance=e,e}finally{Gr=null}}}s(Zr,"_instance",null),s(Zr,"_teardownPromise",null);class ei{constructor(e,t){s(this,"name",void 0),s(this,"_type",void 0),this.name=e,this._type=t}isFile(){return 1===this._type}isDirectory(){return 2===this._type}}class ti{constructor(e,t,n,r){s(this,"_apiClient",void 0),s(this,"_path",void 0),s(this,"_options",void 0),s(this,"_listener",void 0),s(this,"_wrappedListener",void 0),s(this,"_watcher",void 0),s(this,"_closed",!1),this._apiClient=e,this._path=t,this._options=n,this._listener=r,this._apiClient._watchers.add(this),this._wrappedListener=(e,t)=>{this._listener&&!this._closed&&this._listener(e,t)},this._apiClient._fs.watch(this._path,this._options,ai(this._wrappedListener)).then(e=>{if(this._watcher=e,this._closed)return this._teardown()}).catch(console.error)}async close(){this._closed||(this._closed=!0,this._apiClient._watchers.delete(this),await this._teardown())}async _teardown(){var e;await(null===(e=this._watcher)||void 0===e?void 0:e.close().finally(()=>{var e;null===(e=this._watcher)||void 0===e||e[kr.releaseProxy]()}))}}class ni{constructor(e,t,n,r){s(this,"output",void 0),s(this,"input",void 0),s(this,"exit",void 0),s(this,"_process",void 0),s(this,"stdout",void 0),s(this,"stderr",void 0),this.output=t,this._process=e,this.input=new WritableStream({write:e=>{var t;null===(t=this._getProcess())||void 0===t||t.write(e).catch(()=>{})}}),this.exit=this._onExit(),this.stdout=n,this.stderr=r}kill(){var e;null===(e=this._process)||void 0===e||e.kill()}resize(e){var t;null===(t=this._getProcess())||void 0===t||t.resize(e)}async _onExit(){try{return await this._process.onExit}finally{var e;null===(e=this._process)||void 0===e||e[kr.releaseProxy](),this._process=null}}_getProcess(){return null==this._process&&console.warn("This process already exited"),this._process}}class ri{constructor(e){s(this,"_fs",void 0),s(this,"_watchers",new Set([])),this._fs=e}rm(){return this._fs.rm(...arguments)}async readFile(e,t){return await this._fs.readFile(e,t)}async rename(e,t){return await this._fs.rename(e,t)}async writeFile(e,t,n){if(t instanceof Uint8Array){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);t=kr.transfer(new Uint8Array(e),[e])}await this._fs.writeFile(e,t,n)}async readdir(e,t){const n=await this._fs.readdir(e,t);if("string"===typeof n[0])return n;if(function(e){return e[0]instanceof Uint8Array}(n))return n;return n.map(e=>new ei(e.name,e["Symbol(type)"]))}async mkdir(e,t){return await this._fs.mkdir(e,t)}watch(e,t,n){return"function"===typeof t&&(n=t,t=null),new ti(this,e,t,n)}async _teardown(){this._fs[kr.releaseProxy](),await Promise.all([...this._watchers].map(e=>e.close()))}}function ii(e){if(null!=e)return t=>{t instanceof Uint8Array?e(Qr.decode(t)):null==t&&e(null)}}function ai(e){if(null!=e)return kr.proxy(e)}let oi=null;const si=["/Projects","/Dev","/App"],li=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=()=>{const e=window.innerWidth<=768,n="ontouchstart"in window||navigator.maxTouchPoints>0;t(e||n)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e},ci={default:{name:"Skyline",gradient:"linear-gradient(135deg, #3340f3 0%, #0f5576 50%, #2aa473 100%)",primary:"#3b82f6",secondary:"#8b5cf6",accent:"#ec4899"},sunset:{name:"Sunset Orange",gradient:"linear-gradient(135deg, #f97316 0%, #1f1a13 50%, #dc2626 100%)",primary:"#f97316",secondary:"#ef4444",accent:"#dc2626"},midnight:{name:"Scorpio",gradient:"linear-gradient(to bottom left, #53360e 0%, #1e2025 50%, #482956 100%)",primary:"#6366f1",secondary:"#7c3aed",accent:"#5b21b6"},cherry:{name:"Orion",gradient:"linear-gradient(135deg, #2c100c 0%, #150b2b 50%, #f5c115 100%)",primary:"#f472b6",secondary:"#ec4899",accent:"#db2777"},ocean:{name:"Bomb Pop",gradient:"linear-gradient(135deg, #690909 0%, #0284c7 50%, #ffffff 100%)",primary:"#0ea5e9",secondary:"#0284c7",accent:"#ffffff"},volcano:{name:"Volcanic",gradient:"linear-gradient(135deg, #3f0b04 0%, #925d14 50%, #ea580c 100%)",primary:"#fb923c",secondary:"#f97316",accent:"#ea580c"},lavender:{name:"Royal",gradient:"linear-gradient(135deg, #160329 0%, #a855f7 50%, #9333ea 100%)",primary:"#c084fc",secondary:"#a855f7",accent:"#9333ea"}};var ui=n(579);const di=e=>{let{onDisable:t}=e;const n=["Right\u2011click anywhere to open the universal context menu.","Press [Ctrl+Space] or Right-Click anywhere to open the Global Search palette.","The Global Search palette is your quick-access-point to the web and beyond.","Drag windows by their title bar to rearrange your workspace.","Dragging works on the Date/Time Widget too!","Stay in-the-loop via the system-integrated Breeze messaging system.","Use the App Menu to quickly launch installed apps."],[i,a]=(0,r.useState)(0),[o,s]=(0,r.useState)(!1),l=()=>{o&&t()};return(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&l()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[o]),(0,ui.jsxs)("div",{style:hi.container,children:[(0,ui.jsx)("div",{style:hi.header,children:(0,ui.jsx)("u",{children:"Tips & Tricks"})}),(0,ui.jsx)("div",{style:hi.body,children:n[i]}),(0,ui.jsxs)("div",{style:hi.footer,children:[(0,ui.jsx)("button",{style:hi.button,onClick:()=>{a(e=>(e+1)%n.length)},children:"Next"}),(0,ui.jsx)("button",{style:hi.button,onClick:l,children:"Close"})]}),(0,ui.jsxs)("label",{style:hi.checkboxRow,children:[(0,ui.jsx)("input",{type:"checkbox",checked:o,onChange:()=>s(!o)}),"Don\u2019t show again"]})]})},hi={container:{position:"absolute",bottom:"400px",right:"20px",width:"240px",padding:"16px",background:"rgba(40,40,40,0.75)",backdropFilter:"blur(14px) saturate(180%)",WebkitBackdropFilter:"blur(14px) saturate(180%)",borderRadius:"12px",color:"white",boxShadow:"0 8px 24px rgba(0,0,0,0.35)",zIndex:999999,animation:"fadeIn 0.2s ease-out"},header:{fontSize:"20px",fontWeight:"bold",marginBottom:"8px"},body:{fontSize:"18px",marginBottom:"12px"},footer:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},button:{padding:"6px 10px",background:"rgba(255,255,255,0.15)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer"},checkboxRow:{fontSize:"12px",display:"flex",alignItems:"center",gap:"6px"}},pi=e=>{let{onSkip:t}=e;return(0,ui.jsxs)("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 50%, #fafafaff 100%)",gap:"20px"},children:[(0,ui.jsx)("div",{style:{color:"white",fontSize:"24px"},children:"Loading AirOS..."}),(0,ui.jsx)("div",{style:{color:"white",fontSize:"14px"},children:"Check browser console (F12) for connection details"}),t&&(0,ui.jsx)("button",{onClick:t,style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:"Skip to Login (Debug)"})]})},fi=y("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),gi=y("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),mi=e=>{let{onLogin:t,onRegister:n,loginMode:i,setLoginMode:a}=e;const[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)("");return(0,ui.jsx)("div",{style:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(#90bd97 100%)"},children:(0,ui.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",padding:"32px",width:"384px"},children:[(0,ui.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,ui.jsx)("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"50%",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ui.jsx)(fi,{size:40,color:"white"})}),(0,ui.jsx)("h1",{style:{fontSize:"30px",fontWeight:"bold",color:"#1f2937",marginBottom:"8px"},children:"AirOS"}),(0,ui.jsx)("p",{style:{color:"#6b7280"},children:"login"===i?"Sign in to continue":"Create your account"})]}),(0,ui.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(""),p("");const r="login"===i?await t(o,l):await n(o,l);r.success?r.message&&p(r.message):d(r.error)},style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Email"}),(0,ui.jsxs)("div",{style:{position:"relative"},children:[(0,ui.jsx)(fi,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},size:20}),(0,ui.jsx)("input",{type:"email",value:o,onChange:e=>s(e.target.value),style:{width:"100%",paddingLeft:"40px",paddingRight:"16px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"},placeholder:"Enter your email",required:!0})]})]}),(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Password"}),(0,ui.jsxs)("div",{style:{position:"relative"},children:[(0,ui.jsx)(gi,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},size:20}),(0,ui.jsx)("input",{type:"password",value:l,onChange:e=>c(e.target.value),style:{width:"100%",paddingLeft:"40px",paddingRight:"16px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"},placeholder:"Enter password",required:!0})]})]}),u&&(0,ui.jsx)("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",fontSize:"14px"},children:u}),h&&(0,ui.jsx)("div",{style:{background:"#f0fdf4",border:"1px solid #86efac",color:"#16a34a",padding:"12px 16px",borderRadius:"8px",fontSize:"14px"},children:h}),(0,ui.jsx)("button",{type:"submit",style:{width:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"12px",borderRadius:"8px",fontWeight:"500",border:"none",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"login"===i?"Sign In":"Create Account"})]}),(0,ui.jsx)("div",{style:{marginTop:"24px",textAlign:"center"},children:(0,ui.jsx)("button",{onClick:()=>{a("login"===i?"register":"login"),d(""),p("")},style:{color:"#667eea",fontSize:"14px",fontWeight:"500",background:"none",border:"none",cursor:"pointer"},children:"login"===i?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},yi=y("chess-rook",[["path",{d:"M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1z",key:"b89hwq"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"m17 18-1-9",key:"10nd7q"}],["path",{d:"M6 2v5a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2",key:"uxf4yx"}],["path",{d:"M6 4h12",key:"1x2ag7"}],["path",{d:"m7 18 1-9",key:"1si9vq"}]]),vi=y("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),bi=y("square-chart-gantt",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 8h7",key:"kbo1nt"}],["path",{d:"M8 12h6",key:"ikassy"}],["path",{d:"M11 16h5",key:"oq65wt"}]]),xi=y("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),wi=y("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),ki=y("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Si=y("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),_i=y("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ji=y("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Ci=y("slice",[["path",{d:"M11 16.586V19a1 1 0 0 1-1 1H2L18.37 3.63a1 1 0 1 1 3 3l-9.663 9.663a1 1 0 0 1-1.414 0L8 14",key:"1sllp5"}]]),Ei=y("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ti=y("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ri=y("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]),Oi=y("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),Pi=y("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),zi=y("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),Ai=y("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),Ii=y("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),Ni=y("text-align-center",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]]),Li=y("text-align-end",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]]),Di=y("text-align-justify",[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]]),Mi=y("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),Ui=y("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Fi=y("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),Bi=e=>{let{icon:t,onClick:n,title:r,disabled:i=!1}=e;return(0,ui.jsx)("button",{onClick:n,disabled:i,title:r,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",background:"transparent",border:"none",borderRadius:"4px",cursor:i?"not-allowed":"pointer",opacity:i?.4:1,transition:"background 0.2s"},onMouseEnter:e=>{i||(e.currentTarget.style.background="#f3f4f6")},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:t})},Wi=e=>{let{saveFile:t,currentPath:n,filePath:i,fileSystem:a}=e;const[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)("untitled.txt"),[u,d]=(0,r.useState)(!0),[h,p]=(0,r.useState)(""),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(i&&a[i]){const e=a[i];s(e.content||""),c(i.split("/").pop())}},[i,a]);const g=async()=>{const e=i||("/"===n?"/".concat(l):"".concat(n,"/").concat(l));t&&await t(e,o),d(!0)},m=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;document.execCommand(e,!1,n),null===(t=f.current)||void 0===t||t.focus()};return(0,r.useEffect)(()=>{const e=e=>{e.ctrlKey&&"s"===e.key?(e.preventDefault(),g()):e.ctrlKey&&"b"===e.key?(e.preventDefault(),m("bold")):e.ctrlKey&&"i"===e.key?(e.preventDefault(),m("italic")):e.ctrlKey&&"u"===e.key&&(e.preventDefault(),m("underline"))},t=f.current;return t&&t.addEventListener("keydown",e),()=>{t&&t.removeEventListener("keydown",e)}},[]),(0,r.useEffect)(()=>{const e=()=>{const e=window.getSelection();p((null===e||void 0===e?void 0:e.toString())||"")};return document.addEventListener("selectionchange",e),()=>{document.removeEventListener("selectionchange",e)}},[]),(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"white"},children:[(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",borderBottom:"2px solid #e5e7eb",background:"#f9fafb"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,ui.jsx)("input",{type:"text",value:l,onChange:e=>{c(e.target.value),d(!1)},style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",fontWeight:"500"}}),(0,ui.jsxs)("button",{onClick:g,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:u?"#10b981":"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:[(0,ui.jsx)(Oi,{size:16}),u?"Saved":"Save"]})]}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",flexWrap:"wrap"},children:[(0,ui.jsxs)("div",{style:{display:"flex",gap:"2px",padding:"2px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ui.jsx)(Bi,{icon:(0,ui.jsx)(Pi,{size:16}),onClick:()=>m("bold"),title:"Bold (Ctrl+B)"}),(0,ui.jsx)(Bi,{icon:(0,ui.jsx)(zi,{size:16}),onClick:()=>m("italic"),title:"Italic (Ctrl+I)"}),(0,ui.jsx)(Bi,{icon:(0,ui.jsx)(Ai,{size:16}),onClick:()=>m("underline"),title:"Underline (Ctrl+U)"})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"2px",padding:"2px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ui.jsx)(Bi,{icon:(0,ui.jsx)(Ii,{size:16}),onClick:()=>m("justifyLeft"),title:"Align Left"}),(0,ui.jsx)(Bi,{icon:(0,ui.jsx)(Ni,{size:16}),onClick:()=>m("justifyCenter"),title:"Align Center"}),(0,ui.jsx)(Bi,{icon:(0,ui.jsx)(Li,{size:16}),onClick:()=>m("justifyRight"),title:"Align Right"}),(0,ui.jsx)(Bi,{icon:(0,ui.jsx)(Di,{size:16}),onClick:()=>m("justifyFull"),title:"Justify"})]}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ui.jsx)(Mi,{size:14,color:"#6b7280"}),(0,ui.jsxs)("select",{onChange:e=>{return t=e.target.value,void m("fontSize",t);var t},style:{padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"13px",background:"white",cursor:"pointer"},defaultValue:"3",children:[(0,ui.jsx)("option",{value:"1",children:"8pt"}),(0,ui.jsx)("option",{value:"2",children:"10pt"}),(0,ui.jsx)("option",{value:"3",children:"12pt"}),(0,ui.jsx)("option",{value:"4",children:"14pt"}),(0,ui.jsx)("option",{value:"5",children:"18pt"}),(0,ui.jsx)("option",{value:"6",children:"24pt"}),(0,ui.jsx)("option",{value:"7",children:"36pt"})]})]}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ui.jsx)("span",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"500"},children:"Color"}),(0,ui.jsx)("input",{type:"color",onChange:e=>m("foreColor",e.target.value),style:{width:"32px",height:"24px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"},defaultValue:"#000000"})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"2px",padding:"2px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ui.jsx)(Bi,{icon:(0,ui.jsx)(Ui,{size:16}),onClick:()=>{document.execCommand("copy")},title:"Copy (Ctrl+C)",disabled:!h}),(0,ui.jsx)(Bi,{icon:(0,ui.jsx)(Fi,{size:16}),onClick:async()=>{try{const e=await navigator.clipboard.readText();document.execCommand("insertText",!1,e)}catch(e){console.error("Failed to paste:",e)}},title:"Paste (Ctrl+V)"})]})]})]}),(0,ui.jsx)("div",{ref:f,contentEditable:!0,onInput:()=>{var e;const t=(null===(e=f.current)||void 0===e?void 0:e.innerHTML)||"";s(t),d(!1)},dangerouslySetInnerHTML:{__html:o},style:{flex:1,padding:"24px",fontSize:"14px",lineHeight:"1.6",outline:"none",overflow:"auto",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'}}),(0,ui.jsxs)("div",{style:{padding:"8px 16px",background:"#f9fafb",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px",color:"#6b7280"},children:[(0,ui.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,ui.jsxs)("span",{children:["Characters: ",o.replace(/<[^>]*>/g,"").length]}),(0,ui.jsxs)("span",{children:["Words: ",o.replace(/<[^>]*>/g,"").split(/\s+/).filter(Boolean).length]})]}),(0,ui.jsx)("div",{children:h&&(0,ui.jsxs)("span",{children:["Selected: ",h.length," characters"]})})]})]})},qi=y("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Hi=y("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),Vi=y("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ki=y("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),$i=y("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Gi=y("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);class Ji{constructor(e){let{browserController:t,fileSystem:n}=e;this.browser=t,this.fileSearch=new Ji(n),this.visible=!1,this.listeners=[]}show(){this.visible=!0,this.notify()}hide(){this.visible=!1,this.notify()}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}notify(){this.listeners.forEach(e=>e())}isURL(e){return e.startsWith("http://")||e.startsWith("https://")||/^[\w-]+\.[a-z]{2,}$/i.test(e)}handleQuery(e){const t=e.trim();if(!t)return{type:"empty"};if(this.isURL(t)){return{type:"url",url:t.startsWith("http")?t:"https://".concat(t)}}const n=this.fileSearch.search(t);return n.length>0?{type:"files",results:n}:{type:"web",query:t}}submit(e,t){const n=this.handleQuery(e);switch(n.type){case"url":t("Browser",{startURL:n.url});break;case"files":return n;case"web":const e=encodeURIComponent(n.query);t("Browser",{startURL:"https://www.google.com/search?q=".concat(e)})}return this.hide(),n}}const Yi=(0,r.createContext)(),Qi=new Set,Xi=e=>{let{children:t}=e;const[n,i]=(0,r.useState)({visible:!1,x:0,y:0,actions:[],payload:null});return(0,ui.jsx)(Yi.Provider,{value:{menu:n,openContextMenu:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.preventDefault();const n=(e=>{let t=[];return Qi.forEach(n=>{const r=n(e);Array.isArray(r)&&t.push(...r)}),t.unshift({label:"Open URL / Search\u2026",action:()=>Ji.show()}),t})(t);i({visible:!0,x:e.clientX,y:e.clientY,actions:n,payload:t})},closeContextMenu:()=>{i(e=>c(c({},e),{},{visible:!1}))}},children:t})},Zi=()=>(0,r.useContext)(Yi),ea=e=>{let{fileSystem:t,saveFile:n,createDirectory:i,deleteFile:a,reloadFileSystem:o,onOpenFile:s}=e;const[l,c]=(0,r.useState)("/"),[u,d]=(0,r.useState)([]),[h,p]=(0,r.useState)(null),[f,g]=(0,r.useState)(""),[m,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(0),[x,w]=(0,r.useState)(""),[k,S]=(0,r.useState)(null),[_,j]=(0,r.useState)(null),[C]=(0,r.useState)(!1),E=(0,r.useRef)(null),{openContextMenu:T}=Zi();(0,r.useEffect)(()=>{(()=>{const e=t[l];if(!e||"directory"!==e.type)return d([]),void j(null);const n=(e.children||[]).map(e=>{const n="/"===l?"/".concat(e):"".concat(l,"/").concat(e),r=t[n];return{name:e,path:n,type:(null===r||void 0===r?void 0:r.type)||"file"}});d(n),j(null)})()},[t,l]);const R=l.split("/").filter(Boolean),O=async()=>{if(!f.trim())return;const e="/"===l?"/".concat(f.trim()):"".concat(l,"/").concat(f.trim());try{"folder"===h?await i(l,f.trim()):await n(e,"","file"),p(null),g(""),await o()}catch(t){console.error("Error creating:",t),alert("Failed to create ".concat(h,": ").concat(t.message))}};return(0,ui.jsxs)("div",{style:{display:"flex",height:"100%",background:"#f3f4f6"},children:[(0,ui.jsxs)("div",{style:{width:"220px",background:"#e5e7eb",borderRight:"1px solid #d1d5db",padding:"12px",display:"flex",flexDirection:"column",gap:"12px"},children:[(0,ui.jsx)("h3",{style:{fontSize:"14px",fontWeight:"700",color:"#374151"},children:"Locations"}),["/","/Documents","/Pictures","/Videos","/Desktop","/Projects","/Dev","/App","/.trash"].map(e=>(0,ui.jsx)("div",{onClick:()=>c(e),style:{padding:"8px",borderRadius:"6px",cursor:"pointer",background:l===e?"#d1d5db":"transparent",fontSize:"14px",color:"#374151"},children:"/"===e?"Root":e.replace("/","")},e))]}),(0,ui.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"row"},children:[(0,ui.jsxs)("div",{style:{flex:3,display:"flex",flexDirection:"column"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderBottom:"1px solid #d1d5db",background:"#f9fafb"},children:[(0,ui.jsx)("button",{onClick:()=>{if("/"===l)return;const e=l.split("/").filter(Boolean);e.pop();const t=e.length?"/".concat(e.join("/")):"/";c(t)},disabled:"/"===l,style:{padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db",background:"/"===l?"#e5e7eb":"white",cursor:"/"===l?"not-allowed":"pointer",opacity:"/"===l?.5:1},children:(0,ui.jsx)(qi,{size:16})}),(0,ui.jsx)("button",{onClick:()=>c("/"),style:{padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db",background:"white",cursor:"pointer"},children:(0,ui.jsx)(Hi,{size:16})}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,ui.jsx)("span",{onClick:()=>c("/"),style:{cursor:"pointer",color:"#2563eb",fontWeight:"600"},children:"/"}),R.map((e,t)=>{const n="/"+R.slice(0,t+1).join("/");return(0,ui.jsxs)(r.Fragment,{children:[(0,ui.jsx)(Vi,{size:14,color:"#6b7280"}),(0,ui.jsx)("span",{onClick:()=>c(n),style:{cursor:"pointer",color:"#2563eb"},children:e})]},n)})]}),(0,ui.jsx)("div",{style:{flex:1}}),(0,ui.jsx)("button",{onClick:()=>p("folder"),disabled:m,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #d1d5db",background:m?"#e5e7eb":"#eef2ff",cursor:m?"not-allowed":"pointer",fontSize:"12px",opacity:m?.5:1},children:"New Folder"}),(0,ui.jsx)("button",{onClick:()=>p("file"),disabled:m,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #d1d5db",background:m?"#e5e7eb":"#e0f2fe",cursor:m?"not-allowed":"pointer",fontSize:"12px",opacity:m?.5:1},children:"New File"}),(0,ui.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #3b82f6",background:m?"#e5e7eb":"#eff6ff",color:m?"#6b7280":"#1d4ed8",cursor:m?"not-allowed":"pointer",fontSize:"12px",opacity:m?.5:1},children:[(0,ui.jsx)(Ki,{size:14}),"Upload",(0,ui.jsx)("input",{ref:E,type:"file",multiple:!0,disabled:m,style:{display:"none"},onChange:e=>{const r=Array.from(e.target.files||[]);r.length>0&&(async e=>{if(!e||0===e.length)return void console.log("No files selected");console.log("Starting upload of ".concat(e.length," file(s)")),y(!0),b(0),S(null),w("Preparing upload...");let r=0,i=0;const a=[];try{for(let o=0;o<e.length;o++){const c=e[o];try{if(c.size>52428800){console.warn("File ".concat(c.name," exceeds size limit")),a.push({name:c.name,reason:"File too large (max 50MB)"}),i++;continue}const s=c.name.replace(/[^a-zA-Z0-9._-]/g,"_");w("Uploading ".concat(o+1,"/").concat(e.length,": ").concat(c.name)),console.log("Processing file: ".concat(c.name," (").concat(c.size," bytes, type: ").concat(c.type,")"));const u=await c.arrayBuffer(),d=new Uint8Array(u);let h="";const p=32768;for(let e=0;e<d.length;e+=p){const t=d.subarray(e,e+p);h+=String.fromCharCode.apply(null,t)}const f=btoa(h),g=c.type||"application/octet-stream",m="data:".concat(g,";base64,").concat(f);console.log("Encoded ".concat(c.name,": ").concat(m.length," chars, mime: ").concat(g));const y="/"===l?"/".concat(s):"".concat(l,"/").concat(s);if(t[y]&&!window.confirm('File "'.concat(s,'" already exists. Overwrite?'))){console.log("Skipping ".concat(c.name," - user cancelled overwrite")),a.push({name:c.name,reason:"User cancelled overwrite"}),i++;continue}await n(y,m,"file"),console.log("Successfully saved ".concat(c.name)),r++,b(Math.round((r+i)/e.length*100))}catch(s){console.error("Error uploading ".concat(c.name,":"),s),a.push({name:c.name,reason:s.message}),i++}}if(await o(),0===i)w("\u2713 Successfully uploaded ".concat(r," file(s)")),setTimeout(()=>{y(!1),w("")},2e3);else{const e="Uploaded ".concat(r," file(s), ").concat(i," failed:\n").concat(a.map(e=>"\u2022 ".concat(e.name,": ").concat(e.reason)).join("\n"));S(e),w("\u26a0 Upload completed with errors")}console.log("Upload complete: ".concat(r," succeeded, ").concat(i," failed"))}catch(c){console.error("Upload error:",c),S("Upload failed: ".concat(c.message)),w("\u2717 Upload failed")}E.current&&(E.current.value=""),k||setTimeout(()=>{y(!1),b(0),w("")},3e3)})(r)}})]})]}),h&&(0,ui.jsxs)("div",{style:{padding:"8px",background:"#fef3c7",borderBottom:"1px solid #fcd34d",display:"flex",gap:"8px"},children:[(0,ui.jsx)("input",{value:f,onChange:e=>g(e.target.value),placeholder:"New ".concat(h," name..."),autoFocus:!0,style:{flex:1,padding:"6px",border:"1px solid #d1d5db",borderRadius:"4px"},onKeyDown:e=>{"Enter"===e.key&&O(),"Escape"===e.key&&(p(null),g(""))}}),(0,ui.jsx)("button",{onClick:O,style:{padding:"6px 12px",background:"#3b82f6",color:"white",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Create"}),(0,ui.jsx)("button",{onClick:()=>{p(null),g("")},style:{padding:"6px 12px",background:"#d1d5db",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancel"})]}),m&&(0,ui.jsxs)("div",{style:{padding:"12px",background:k?"#fee2e2":"#dbeafe"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",color:k?"#991b1b":"#1e40af"},children:[k&&(0,ui.jsx)($i,{size:16}),(0,ui.jsx)("span",{children:x})]}),(0,ui.jsx)("div",{style:{width:"100%",height:"4px",background:k?"#fecaca":"#bfdbfe",borderRadius:"2px"},children:(0,ui.jsx)("div",{style:{width:"".concat(v,"%"),height:"100%",background:k?"#dc2626":"#3b82f6",transition:"width 0.3s ease"}})}),k&&(0,ui.jsx)("div",{style:{marginTop:"8px",fontSize:"12px",color:"#991b1b",whiteSpace:"pre-wrap"},children:k}),k&&(0,ui.jsx)("button",{onClick:()=>{y(!1),S(null),b(0),w("")},style:{marginTop:"8px",padding:"4px 8px",background:"#dc2626",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontSize:"12px"},children:"Dismiss"})]}),(0,ui.jsxs)("div",{style:{flex:1,overflow:"auto",padding:"16px",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"16px",alignContent:"start"},children:[u.map(e=>{const r=_&&_.path===e.path;return(0,ui.jsxs)("div",{onClick:()=>{"directory"===e.type?(c(e.path),j(null)):j(e)},onDoubleClick:()=>{"directory"===e.type?c(e.path):s(e.name,e.path)},onContextMenu:r=>{((e,r)=>{e.preventDefault();const u=t[r.path];T(e,{payload:r,actions:[{label:"Open",onClick:()=>{"directory"===r.type?c(r.path):s(r.name,r.path)}},{label:"Open in New Window",onClick:()=>s(r.name,r.path)},{label:"Rename",onClick:async()=>{const e=prompt("Enter new name:",r.name);if(!e||!u)return;const t="/"===l?"/".concat(e):"".concat(l,"/").concat(e);try{await n(t,u.content||"",r.type),await a(r.path),await o()}catch(i){alert("Failed to rename: ".concat(i.message))}}},{label:"Delete",onClick:async()=>{try{await C(r.path,t,n,a,i,o),await o()}catch(e){alert("Failed to move to trash: ".concat(e.message))}}},{label:"Properties",onClick:()=>{const e=null!==u&&void 0!==u&&u.content&&"string"===typeof u.content?u.content.startsWith("data:")?"".concat(Math.round(.75*u.content.length/1024)," KB (base64)"):"".concat(u.content.length," chars"):"Unknown";alert("Name: ".concat(r.name,"\nPath: ").concat(r.path,"\nType: ").concat(r.type,"\nSize: ").concat(e))}}]})})(r,e),j(e)},style:{padding:"12px",borderRadius:"6px",cursor:"pointer",background:r?"#e0f2fe":"white",border:r?"2px solid #3b82f6":"1px solid #e5e7eb",textAlign:"center",transition:"0.2s",userSelect:"none"},onMouseEnter:e=>{r||(e.currentTarget.style.background="#f3f4f6")},onMouseLeave:e=>{r||(e.currentTarget.style.background="white")},children:["directory"===e.type?(0,ui.jsx)(ki,{size:48,color:"#eab308"}):(0,ui.jsx)(Gi,{size:48,color:"#3b82f6"}),(0,ui.jsx)("div",{style:{marginTop:"8px",fontSize:"13px",wordBreak:"break-word",lineHeight:"1.3"},children:e.name})]},e.path)}),0===u.length&&(0,ui.jsxs)("div",{style:{gridColumn:"1 / -1",textAlign:"center",color:"#9ca3af",paddingTop:"40px"},children:[(0,ui.jsx)(ki,{size:64,color:"#d1d5db"}),(0,ui.jsx)("p",{style:{marginTop:"12px",fontSize:"16px"},children:"This folder is empty"})]})]})]}),(0,ui.jsxs)("div",{style:{width:"320px",borderLeft:"1px solid #d1d5db",background:"#f9fafb",padding:"12px",display:"flex",flexDirection:"column",gap:"12px",overflow:"auto"},children:[(0,ui.jsx)("h3",{style:{fontSize:"14px",fontWeight:"700",color:"#374151",marginBottom:"4px"},children:"Preview"}),!_&&(0,ui.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",textAlign:"center",padding:"12px"},children:"Select a file to see its preview"}),_&&(0,ui.jsxs)(ui.Fragment,{children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:["directory"===_.type?(0,ui.jsx)(ki,{size:32,color:"#eab308"}):(0,ui.jsx)(Gi,{size:32,color:"#3b82f6"}),(0,ui.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,ui.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#111827",wordBreak:"break-word"},children:_.name}),(0,ui.jsx)("div",{style:{fontSize:"11px",color:"#6b7280",wordBreak:"break-all"},children:_.path})]})]}),(0,ui.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e5e7eb"}}),"directory"===_.type?(0,ui.jsx)("div",{style:{fontSize:"13px",color:"#6b7280"},children:"This is a folder."}):(()=>{const e=_?t[_.path]:null;if(!e)return(0,ui.jsx)("div",{style:{fontSize:"13px",color:"#6b7280"},children:"No content available."});if((e=>(null===e||void 0===e?void 0:e.content)&&"string"===typeof e.content&&e.content.startsWith("data:image"))(e))return(0,ui.jsxs)("div",{children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",color:"#374151",fontSize:"13px"},children:[(0,ui.jsx)(_i,{size:16}),(0,ui.jsx)("span",{children:"Image preview"})]}),(0,ui.jsx)("div",{style:{borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb",background:"white"},children:(0,ui.jsx)("img",{src:e.content,alt:_.name,style:{width:"100%",maxHeight:"200px",objectFit:"contain",display:"block"}})})]});const n=(e=>{if(null===e||void 0===e||!e.content||"string"!==typeof e.content)return null;if(e.content.startsWith("data:"))return null;const t=e.content;return t.length<=800?t:t.slice(0,800)+"\n\u2026"})(e);return n?(0,ui.jsxs)("div",{children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",color:"#374151",fontSize:"13px"},children:[(0,ui.jsx)(wi,{size:16}),(0,ui.jsx)("span",{children:"Text preview"})]}),(0,ui.jsx)("pre",{style:{fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas",fontSize:"12px",background:"#111827",color:"#e5e7eb",padding:"8px",borderRadius:"6px",maxHeight:"260px",overflow:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:n})]}):(e=>(null===e||void 0===e?void 0:e.content)&&"string"===typeof e.content&&e.content.startsWith("data:")&&!e.content.startsWith("data:text")&&!e.content.startsWith("data:image"))(e)?(0,ui.jsx)("div",{style:{fontSize:"13px",color:"#6b7280"},children:"Binary or unsupported file type. No inline preview available."}):(0,ui.jsx)("div",{style:{fontSize:"13px",color:"#6b7280"},children:"No preview available."})})()]})]})]})]})},ta=y("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),na=y("flip-horizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]),ra=y("flip-vertical",[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]]),ia=y("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),aa=y("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),oa=y("sliders-vertical",[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]]),sa=y("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),la=y("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),ca=e=>{let{label:t,value:n,onChange:r,min:i,max:a,default:o,step:s=1}=e;return(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,ui.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ui.jsx)("label",{style:{color:"white",fontSize:"13px",fontWeight:"500"},children:t}),(0,ui.jsx)("span",{style:{color:"#9ca3af",fontSize:"12px"},children:Math.round(n)})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,ui.jsx)("input",{type:"range",min:i,max:a,step:s,value:n,onChange:e=>r(Number(e.target.value)),style:{flex:1,height:"4px",background:"#374151",borderRadius:"2px",outline:"none",cursor:"pointer"}}),(0,ui.jsx)("button",{onClick:()=>r(o),style:{padding:"2px 8px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"4px",color:"white",fontSize:"11px",cursor:"pointer"},children:"Reset"})]})]})},ua={display:"flex",alignItems:"center",gap:"4px",padding:"8px 12px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"white",cursor:"pointer",fontSize:"14px",transition:"all 0.2s"},da=e=>{let{src:t,saveFile:n,filePath:i}=e;const a=(0,r.useRef)(null),[o,s]=(0,r.useState)(null),[l,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(0),[p,f]=(0,r.useState)(!1),[g,m]=(0,r.useState)(!1),[y,v]=(0,r.useState)(1),[b,x]=(0,r.useState)(100),[w,k]=(0,r.useState)(100),[S,_]=(0,r.useState)(100),[j,C]=(0,r.useState)(0),[E,T]=(0,r.useState)(0),[R,O]=(0,r.useState)(!1),[P,z]=(0,r.useState)([]),[A,I]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(t){const e=new Image;e.onload=()=>{s(e),u(!0),N(e)},e.src=t}},[t]),(0,r.useEffect)(()=>{o&&l&&(N(o),I(!1))},[d,p,g,y,b,w,S,j,E]);const N=e=>{const t=a.current;if(!t)return;const n=t.getContext("2d");t.width=e.width,t.height=e.height,n.clearRect(0,0,t.width,t.height),n.save(),n.translate(t.width/2,t.height/2),n.rotate(d*Math.PI/180),n.scale(p?-1:1,g?-1:1),n.scale(y,y),n.filter="\n      brightness(".concat(b,"%) \n      contrast(").concat(w,"%) \n      saturate(").concat(S,"%)\n      blur(").concat(j,"px)\n      grayscale(").concat(E,"%)\n    "),n.drawImage(e,-e.width/2,-e.height/2),n.restore()},L=()=>{z([...P,{rotation:d,flipH:p,flipV:g,zoom:y,brightness:b,contrast:w,saturation:S,blur:j,grayscale:E}])};return t?(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"#1f2937",position:"relative"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:"rgba(17, 24, 39, 0.95)",borderBottom:"1px solid #374151",gap:"8px",flexWrap:"wrap"},children:[(0,ui.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,ui.jsx)("button",{onClick:()=>{L(),h((d+90)%360)},title:"Rotate 90\xb0",style:ua,children:(0,ui.jsx)(ta,{size:18})}),(0,ui.jsx)("button",{onClick:()=>{L(),f(!p)},title:"Flip Horizontal",style:c(c({},ua),{},{background:p?"#3b82f6":"rgba(255,255,255,0.1)"}),children:(0,ui.jsx)(na,{size:18})}),(0,ui.jsx)("button",{onClick:()=>{L(),m(!g)},title:"Flip Vertical",style:c(c({},ua),{},{background:g?"#3b82f6":"rgba(255,255,255,0.1)"}),children:(0,ui.jsx)(ra,{size:18})})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[(0,ui.jsx)("button",{onClick:()=>{v(Math.max(y-.1,.5))},title:"Zoom Out",style:ua,children:(0,ui.jsx)(ia,{size:18})}),(0,ui.jsxs)("span",{style:{color:"white",fontSize:"14px",minWidth:"50px",textAlign:"center"},children:[Math.round(100*y),"%"]}),(0,ui.jsx)("button",{onClick:()=>{v(Math.min(y+.1,3))},title:"Zoom In",style:ua,children:(0,ui.jsx)(aa,{size:18})})]}),(0,ui.jsx)("button",{onClick:()=>O(!R),title:"Adjustments",style:c(c({},ua),{},{background:R?"#8b5cf6":"rgba(255,255,255,0.1)"}),children:(0,ui.jsx)(oa,{size:18})}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"4px",marginLeft:"auto"},children:[(0,ui.jsx)("button",{onClick:()=>{if(P.length>0){const e=P[P.length-1];h(e.rotation),f(e.flipH),m(e.flipV),v(e.zoom),x(e.brightness),k(e.contrast),_(e.saturation),C(e.blur),T(e.grayscale),z(P.slice(0,-1))}},disabled:0===P.length,title:"Undo",style:c(c({},ua),{},{opacity:0===P.length?.5:1}),children:(0,ui.jsx)(sa,{size:18})}),(0,ui.jsx)("button",{onClick:()=>{L(),h(0),f(!1),m(!1),v(1),x(100),k(100),_(100),C(0),T(0)},title:"Reset All",style:c(c({},ua),{},{background:"rgba(239, 68, 68, 0.2)",color:"#ef4444"}),children:"Reset"}),(0,ui.jsxs)("button",{onClick:async()=>{if(!n||!i)return void alert("Save function not available");const e=a.current.toDataURL("image/png");await n(i,e,"file"),I(!0),alert("Image saved successfully!")},title:"Save to Cloud",style:c(c({},ua),{},{background:A?"#10b981":"#3b82f6"}),children:[(0,ui.jsx)(Oi,{size:18}),!A&&(0,ui.jsx)("span",{style:{fontSize:"12px",marginLeft:"4px"},children:"*"})]}),(0,ui.jsx)("button",{onClick:()=>{const e=a.current.toDataURL("image/png"),t=document.createElement("a");t.download="edited-image.png",t.href=e,t.click()},title:"Download",style:c(c({},ua),{},{background:"#8b5cf6"}),children:(0,ui.jsx)(la,{size:18})})]})]}),R&&(0,ui.jsxs)("div",{style:{padding:"16px",background:"rgba(17, 24, 39, 0.98)",borderBottom:"1px solid #374151",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,ui.jsx)(ca,{label:"Brightness",value:b,onChange:x,min:0,max:200,default:100}),(0,ui.jsx)(ca,{label:"Contrast",value:w,onChange:k,min:0,max:200,default:100}),(0,ui.jsx)(ca,{label:"Saturation",value:S,onChange:_,min:0,max:200,default:100}),(0,ui.jsx)(ca,{label:"Blur",value:j,onChange:C,min:0,max:10,default:0,step:.5}),(0,ui.jsx)(ca,{label:"Grayscale",value:E,onChange:T,min:0,max:100,default:0})]}),(0,ui.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto",padding:"20px"},children:(0,ui.jsx)("canvas",{ref:a,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",boxShadow:"0 20px 60px rgba(0,0,0,0.5)"}})}),(0,ui.jsxs)("div",{style:{padding:"8px 16px",background:"rgba(17, 24, 39, 0.95)",borderTop:"1px solid #374151",color:"#9ca3af",fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[(0,ui.jsx)("span",{children:o&&"".concat(o.width," \xd7 ").concat(o.height,"px")}),(0,ui.jsx)("span",{children:A?"All changes saved":"Unsaved changes"})]})]}):(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",background:"#1f2937",color:"#9ca3af"},children:[(0,ui.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\uddbc\ufe0f"}),(0,ui.jsx)("div",{children:"No image loaded"})]})},ha=y("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),pa=y("skip-back",[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]]),fa=y("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),ga=y("skip-forward",[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]]),ma=y("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),ya=y("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),va=y("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),ba=y("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),xa=e=>{let{icon:t,onClick:n,title:r,primary:i,active:a}=e;return(0,ui.jsx)("button",{onClick:n,title:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:i?"48px":"40px",height:i?"48px":"40px",background:a?"#3b82f6":i?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.1)",border:i?"2px solid #3b82f6":"none",borderRadius:"50%",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background=a||i?"#3b82f6":"rgba(255, 255, 255, 0.2)",e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:e=>{e.currentTarget.style.background=a?"#3b82f6":i?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="scale(1)"},children:t})},wa=e=>{let{src:t,title:n}=e;const[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(0),[l,c]=(0,r.useState)(0),[u,d]=(0,r.useState)(1),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[m,y]=(0,r.useState)("video"),v=(0,r.useRef)(null),b=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(t){const e=t.match(/\.(mp3|wav|ogg|m4a|flac|aac)$/i)||t.startsWith("data:audio/");y(e?"audio":"video")}},[t]);const x=()=>{v.current&&s(v.current.currentTime)},w=()=>{v.current&&c(v.current.duration)},k=e=>{v.current&&(v.current.currentTime+=e)},S=e=>{if(isNaN(e))return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))};return t?(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"#000",position:"relative"},children:[(0,ui.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",background:"audio"===m?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#000",position:"relative",overflow:"hidden"},children:"video"===m?(0,ui.jsx)("video",{ref:v,src:t,onTimeUpdate:x,onLoadedMetadata:w,onEnded:()=>a(!1),style:{maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",objectFit:"contain"}}):(0,ui.jsxs)(ui.Fragment,{children:[(0,ui.jsx)("audio",{ref:v,src:t,onTimeUpdate:x,onLoadedMetadata:w,onEnded:()=>a(!1),style:{display:"none"}}),(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",textAlign:"center",padding:"40px"},children:[(0,ui.jsx)("div",{style:{width:"200px",height:"200px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"32px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:i?"pulse 2s ease-in-out infinite":"none"},children:(0,ui.jsx)(ha,{size:80,color:"white"})}),(0,ui.jsx)("h2",{style:{fontSize:"28px",fontWeight:"700",marginBottom:"8px",textShadow:"0 2px 10px rgba(0, 0, 0, 0.3)"},children:n||"Audio Track"}),(0,ui.jsx)("p",{style:{fontSize:"16px",color:"rgba(255, 255, 255, 0.8)",textShadow:"0 2px 10px rgba(0, 0, 0, 0.3)"},children:i?"Now Playing":"Paused"})]})]})}),(0,ui.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.95)",backdropFilter:"blur(10px)",padding:"16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,ui.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,ui.jsx)("div",{ref:b,onClick:e=>{if(b.current&&v.current){const t=b.current.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;v.current.currentTime=n*l}},style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px",cursor:"pointer",position:"relative",overflow:"hidden"},children:(0,ui.jsx)("div",{style:{width:"".concat(o/l*100,"%"),height:"100%",background:"audio"===m?"linear-gradient(90deg, #667eea 0%, #764ba2 100%)":"#3b82f6",borderRadius:"3px",transition:"width 0.1s linear"}})}),(0,ui.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px",fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:[(0,ui.jsx)("span",{children:S(o)}),(0,ui.jsx)("span",{children:S(l)})]})]}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[(0,ui.jsx)(xa,{icon:(0,ui.jsx)(pa,{size:20}),onClick:()=>k(-10),title:"Back 10s"}),(0,ui.jsx)(xa,{icon:i?(0,ui.jsx)(fa,{size:24}):(0,ui.jsx)(ji,{size:24}),onClick:()=>{v.current&&(i?v.current.pause():v.current.play(),a(!i))},title:i?"Pause":"Play",primary:!0}),(0,ui.jsx)(xa,{icon:(0,ui.jsx)(ga,{size:20}),onClick:()=>k(10),title:"Forward 10s"}),(0,ui.jsx)(xa,{icon:(0,ui.jsx)(ma,{size:18}),onClick:()=>{v.current&&(v.current.loop=!f,g(!f))},title:"Loop",active:f})]}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,ui.jsx)(xa,{icon:h?(0,ui.jsx)(ya,{size:20}):(0,ui.jsx)(va,{size:20}),onClick:()=>{v.current&&(v.current.muted=!h,p(!h))},title:h?"Unmute":"Mute"}),(0,ui.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:h?0:u,onChange:e=>{const t=parseFloat(e.target.value);d(t),v.current&&(v.current.volume=t),0===t?p(!0):h&&p(!1)},style:{width:"100px",cursor:"pointer"}}),"video"===m&&(0,ui.jsx)(xa,{icon:(0,ui.jsx)(ba,{size:20}),onClick:()=>{v.current&&"video"===m&&v.current.requestFullscreen&&v.current.requestFullscreen()},title:"Fullscreen"})]})]})]}),(0,ui.jsx)("style",{children:"\n          @keyframes pulse {\n            0%, 100% {\n              transform: scale(1);\n              box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n            }\n            50% {\n              transform: scale(1.05);\n              box-shadow: 0 25px 80px rgba(102, 126, 234, 0.4);\n            }\n          }\n        "})]}):(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",background:"linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%)",color:"#9ca3af"},children:[(0,ui.jsx)("div",{style:{fontSize:"64px",marginBottom:"16px"},children:"audio"===m?"\ud83c\udfb5":"\ud83c\udfac"}),(0,ui.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"No media loaded"}),(0,ui.jsx)("div",{style:{fontSize:"14px"},children:"Launch a video or audio file to play"})]})},ka="os_browser_history_v1",Sa=()=>{var e,t,n;return null!==(e=null===(t=(n=crypto).randomUUID)||void 0===t?void 0:t.call(n))&&void 0!==e?e:"".concat(Date.now(),"-").concat(Math.random())},_a=e=>{try{localStorage.setItem(ka,JSON.stringify(e))}catch(t){}};let ja=null;const Ca=()=>(ja||(ja=(()=>{try{const e=localStorage.getItem(ka);return e?JSON.parse(e):[]}catch(e){return[]}})()),ja),Ea={add(e,t){const n={id:Sa(),url:e,title:t,createdAt:Date.now()},r=Ca();return r.unshift(n),_a(r),n},list(e){const t=Ca();return"number"===typeof e?t.slice(0,e):t},clear(){ja=[],_a([])}},Ta=e=>{let{currentUrl:t,onNavigate:n}=e;const[i,a]=(0,r.useState)(t);(0,r.useEffect)(()=>{a(t)},[t]);const o=()=>{i.trim()&&n(i)};return(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:8,borderBottom:"1px solid #e5e7eb"},children:[(0,ui.jsx)("button",{type:"button",disabled:!0,style:{padding:"4px 8px",opacity:.4},children:"\u2190"}),(0,ui.jsx)("button",{type:"button",disabled:!0,style:{padding:"4px 8px",opacity:.4},children:"\u2192"}),(0,ui.jsx)("button",{type:"button",onClick:()=>n(t),style:{padding:"4px 8px"},children:"\u27f3"}),(0,ui.jsx)("input",{type:"text","aria-label":"Address bar",value:i,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&o()},placeholder:"Enter URL or os:// route...",style:{flex:1,padding:"8px 12px",border:"1px solid #4a774cff",borderRadius:4}}),(0,ui.jsx)("button",{type:"button",onClick:o,style:{padding:"8px 16px",background:"#0d8543ff",color:"white",borderRadius:4,border:"none",cursor:"pointer"},children:"Go"})]})},Ra=e=>{let{tabs:t,activeTabId:n,onSelect:r,onNewTab:i,onCloseTab:a}=e;return(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",background:"#f3f4f6",padding:"4px 8px",gap:4},children:[t.map(e=>{var t;const i=e.id===n;return(0,ui.jsxs)("div",{onClick:()=>r(e.id),style:{display:"flex",alignItems:"center",padding:"4px 8px",borderRadius:4,cursor:"pointer",background:i?"white":"transparent",border:i?"1px solid #e5e7eb":"none"},children:[(0,ui.jsx)("span",{style:{marginRight:8,maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:null!==(t=e.title)&&void 0!==t?t:e.url}),(0,ui.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),a(e.id)},style:{border:"none",background:"transparent",cursor:"pointer",fontSize:12},children:"\u2715"})]},e.id)}),(0,ui.jsx)("button",{type:"button",onClick:i,style:{marginLeft:4,padding:"4px 8px",borderRadius:4,border:"none",background:"#e5e7eb",cursor:"pointer"},children:"+"})]})},Oa=e=>{let{url:t}=e;return navigator.userAgent.includes("Electron")?(0,ui.jsx)("webview",{src:t,style:{width:"100%",height:"100%",border:"none",flex:1},allowpopups:"true",webpreferences:"nativeWindowOpen=yes"}):(0,ui.jsx)("iframe",{src:t,title:"browser-content",style:{flex:1,border:"none",width:"100%",height:"100%"}})},Pa=e=>{var t,n,r;return{id:null!==(t=null===(n=(r=crypto).randomUUID)||void 0===n?void 0:n.call(r))&&void 0!==t?t:"".concat(Date.now(),"-").concat(Math.random()),url:e}},za="https://www.wikipedia.com",Aa=e=>{if(!e)return za;const t=e.trim();return t.startsWith("http://")||t.startsWith("https://")||/^[\w-]+\.[a-z]{2,}$/i.test(t)?t.startsWith("http")?t:"https://".concat(t):"https://www.google.com/search?q=".concat(encodeURIComponent(t))},Ia=y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Na=(e,t)=>{const[n,i]=(0,r.useState)(new Date),[a,o]=(0,r.useState)({}),[s,l]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[f,g]=(0,r.useState)("#3b82f6");(0,r.useEffect)(()=>{(async()=>{try{const e="/calendar_events.json";if(t[e]){const n=JSON.parse(t[e].content);o(n)}}catch(e){console.error("Error loading calendar events:",e)}})()},[t]);const m=async t=>{try{const n="/calendar_events.json";await e(n,JSON.stringify(t),"file"),o(t)}catch(n){console.error("Error saving calendar events:",n)}},{daysInMonth:y,startingDayOfWeek:v}=(e=>{const t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n,1);return{daysInMonth:new Date(t,n+1,0).getDate(),startingDayOfWeek:r.getDay()}})(n),b=["January","February","March","April","May","June","July","August","September","October","November","December"],x=e=>{const t=n.getFullYear(),r=n.getMonth();return"".concat(t,"-").concat(r+1,"-").concat(e)};return(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"white"},children:[(0,ui.jsxs)("div",{style:{padding:"16px",borderBottom:"2px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,ui.jsxs)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:0},children:[b[n.getMonth()]," ",n.getFullYear()]}),(0,ui.jsx)("button",{onClick:()=>{i(new Date)},style:{padding:"6px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Today"})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,ui.jsx)("button",{onClick:()=>{i(new Date(n.getFullYear(),n.getMonth()-1))},style:{padding:"8px",background:"#f3f4f6",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex"},children:(0,ui.jsx)(qi,{size:20})}),(0,ui.jsx)("button",{onClick:()=>{i(new Date(n.getFullYear(),n.getMonth()+1))},style:{padding:"8px",background:"#f3f4f6",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex"},children:(0,ui.jsx)(Vi,{size:20})})]})]}),(0,ui.jsxs)("div",{style:{flex:1,padding:"16px",overflow:"auto"},children:[(0,ui.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"8px"},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,ui.jsx)("div",{style:{textAlign:"center",fontSize:"13px",fontWeight:"600",color:"#6b7280",padding:"8px"},children:e},e))}),(0,ui.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:[[...Array(v)].map((e,t)=>(0,ui.jsx)("div",{},"empty-".concat(t))),[...Array(y)].map((e,t)=>{const r=t+1,i=x(r),o=a[i],s=(e=>{const t=new Date;return e===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()})(r);return(0,ui.jsxs)("button",{onClick:()=>(e=>{l(e);const t=x(e);a[t]?(p(a[t].text),g(a[t].color)):(p(""),g("#3b82f6")),d(!0)})(r),style:{aspectRatio:"1",minHeight:"80px",padding:"8px",background:s?"#dbeafe":o?o.color+"20":"#f9fafb",border:s?"2px solid #3b82f6":o?"2px solid ".concat(o.color):"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"flex-start",transition:"all 0.2s",position:"relative"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,ui.jsx)("span",{style:{fontSize:"16px",fontWeight:s?"700":"600",color:s?"#3b82f6":"#1f2937"},children:r}),o&&(0,ui.jsx)("div",{style:{fontSize:"11px",color:o.color,marginTop:"4px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",textAlign:"left",fontWeight:"500",lineHeight:"1.3"},children:o.text})]},r)})]})]}),u&&(0,ui.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,ui.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"400px",maxWidth:"90%",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[(0,ui.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,ui.jsxs)("h3",{style:{fontSize:"18px",fontWeight:"700",margin:0},children:[b[n.getMonth()]," ",s,", ",n.getFullYear()]}),(0,ui.jsx)("button",{onClick:()=>d(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex"},children:(0,ui.jsx)(Ia,{size:20})})]}),(0,ui.jsx)("textarea",{value:h,onChange:e=>p(e.target.value),placeholder:"Add note or appointment...",style:{width:"100%",minHeight:"100px",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",resize:"vertical",fontFamily:"inherit",marginBottom:"16px",boxSizing:"border-box"},autoFocus:!0}),(0,ui.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,ui.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",marginBottom:"8px",color:"#6b7280"},children:"Color"}),(0,ui.jsx)("div",{style:{display:"flex",gap:"8px"},children:[{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Red",value:"#ef4444"},{name:"Purple",value:"#8b5cf6"},{name:"Orange",value:"#f97316"},{name:"Pink",value:"#ec4899"}].map(e=>(0,ui.jsx)("button",{onClick:()=>g(e.value),style:{width:"32px",height:"32px",borderRadius:"50%",background:e.value,border:f===e.value?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",title:e.name},e.value))})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[a[x(s)]&&(0,ui.jsxs)("button",{onClick:()=>{const e=x(s),t=c({},a);delete t[e],m(t),d(!1),p(""),l(null)},style:{padding:"10px 16px",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[(0,ui.jsx)(Ia,{size:16}),"Delete"]}),(0,ui.jsxs)("button",{onClick:()=>{const e=x(s),t=c({},a);h.trim()?t[e]={text:h,color:f}:delete t[e],m(t),d(!1),p(""),l(null)},style:{padding:"10px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[(0,ui.jsx)(Oi,{size:16}),"Save"]})]})]})})]})},La=e=>{let{fileSystem:t,saveFile:n,createDirectory:i,deleteFile:a,currentUser:o,onOpenFile:s,reloadFileSystem:l,updateTheme:c,updateDesktopLayout:u}=e;const[d,h]=(0,r.useState)([{type:"system",content:"Welcome to AirOS Terminal v2.0"},{type:"system",content:'Type "help" for available commands'}]),[p,f]=(0,r.useState)(""),[g,m]=(0,r.useState)([]),[y,v]=(0,r.useState)(-1),[b,x]=(0,r.useState)("/"),[w,k]=(0,r.useState)(!1),[S,_]=(0,r.useState)(!1),[j,C]=(0,r.useState)(null),[E,T]=(0,r.useState)(0),[R,O]=(0,r.useState)(null),[P,z]=(0,r.useState)(!1),A=(0,r.useRef)(null),I=(0,r.useRef)(null);console.log("Terminal props:",{fileSystem:t,hasSaveFile:"function"===typeof n,hasCreateDirectory:"function"===typeof i,hasDeleteFile:"function"===typeof a,hasReloadFileSystem:"function"===typeof l,currentUser:o}),(0,r.useEffect)(()=>{I.current&&(I.current.scrollTop=I.current.scrollHeight)},[d]),(0,r.useEffect)(()=>{var e;null===(e=A.current)||void 0===e||e.focus()},[]);const N=async(e,t)=>{try{await oi.fs.writeFile(e,null!==t&&void 0!==t?t:"","utf-8")}catch(r){console.warn("WebContainer write failed:",r)}await n(e,null!==t&&void 0!==t?t:"","file")},L=async e=>{const t=e.substring(0,e.lastIndexOf("/"))||"/",n=e.substring(e.lastIndexOf("/")+1);try{await oi.fs.mkdir(e,{recursive:!0})}catch(r){console.warn("WebContainer mkdir failed:",r)}await i(t,n)},D=async e=>{try{await oi.fs.rm(e,{recursive:!0})}catch(t){console.warn("WebContainer rm failed:",t)}await a(e)},M=(e,t)=>{h(n=>[...n,{type:e,content:t}])},U=()=>{var e;const t=(null===o||void 0===o||null===(e=o.email)||void 0===e?void 0:e.split("@")[0])||"user",n=w?"#":"$";return"".concat(t,"@airos:").concat(b).concat(n)},F=e=>{if(!e)return b;if(e.startsWith("/"))return e;if(".."===e){if("/"===b)return"/";const e=b.split("/").filter(Boolean);return e.pop(),"/"+e.join("/")}return"."===e?b:"/"===b?"/".concat(e):"".concat(b,"/").concat(e)},B=async e=>{const t=await(async e=>{try{const t=null===o||void 0===o?void 0:o.email;if(!t)return!1;const{error:n}=await dr.auth.signInWithPassword({email:t,password:e});return!n}catch(t){return console.error("Password verification error:",t),!1}})(e);if(t){if(T(0),"sudo su"===j)k(!0),M("system",'Elevated privileges granted. Type "exit su" to exit sudo mode.');else if(j){M("system","[sudo] password accepted");const e=w;k(!0),await q(j),k(e)}_(!1),C(null)}else{var n;if(T(e=>e+1),E>=2)M("error","sudo: 3 incorrect password attempts"),_(!1),C(null),T(0);else M("error","Sorry, try again."),M("command","[sudo] password for "+((null===o||void 0===o||null===(n=o.email)||void 0===n?void 0:n.split("@")[0])||"user")+":")}},W=async(e,n)=>{const r=t[e];if(!r)return!1;if("directory"===r.type){await i(n.substring(0,n.lastIndexOf("/")),n.substring(n.lastIndexOf("/")+1));const t=r.children||[];for(const r of t){const t="".concat(e,"/").concat(r),i="".concat(n,"/").concat(r);await W(t,i)}}else await N(n,r.content||"");return!0},q=async e=>{const n=e.split(" "),r=n[0].toLowerCase(),i=n.slice(1);switch(r){case"theme":if(w)if(i[0]){["default","sunset","scorpio","dragonfruit","ocean","volcanic","lavender"].includes(i[0])?(c(i[0]),M("system","Theme changed to: ".concat(i[0]))):M("error","theme: unknown theme '".concat(i[0],"'"))}else M("error","theme: missing theme name. Available: default, sunset, scorpio, dragonfruit, ocean, volcanic, lavender");else M("error","Permission denied. Use: sudo theme <name>");break;case"layout":w?i[0]?"wheel"===i[0]||"grid"===i[0]?(u(i[0]),M("system","Desktop layout changed to: ".concat(i[0]))):M("error","layout: unknown layout '".concat(i[0],"'")):M("error","layout: missing layout type. Available: wheel, grid"):M("error","Permission denied. Use: sudo layout <type>");break;case"wc":if(!i[0]){M("error","wc: missing subcommand. Try: wc init");break}if("init"===i[0]){try{await async function(){return oi||(oi=await Zr.boot(),oi)}();M("system","WebContainer initialized successfully.")}catch(d){M("error","WebContainer init failed: ".concat(d.message))}break}M("error","wc: unknown subcommand '".concat(i[0],"'"));break;case"mv":if(i.length<2)M("error","mv: missing operands. Usage: mv <source> <destination>");else{const e=F(i[0]),n=F(i[1]);t[e]?t[n]?M("error","mv: ".concat(i[1],": Destination already exists")):(await W(e,n),await D(e),a(e),M("output","")):M("error","mv: ".concat(i[0],": No such file or directory"))}break;case"cp":if(i.length<2)M("error","cp: missing operands. Usage: cp <source> <destination>");else{const e=F(i[0]),n=F(i[1]);t[e]?t[n]?M("error","cp: ".concat(i[1],": Destination already exists")):(await W(e,n),M("output","")):M("error","cp: ".concat(i[0],": No such file or directory"))}break;case"find":if(i[0]){const e=i[0].toLowerCase(),n=[],r=i=>{const a=t[i];a&&a.children&&a.children.forEach(a=>{var o;const s="/"===i?"/".concat(a):"".concat(i,"/").concat(a);if(a.toLowerCase().includes(e)){var l;const e="directory"===(null===(l=t[s])||void 0===l?void 0:l.type);n.push("".concat(e?"\ud83d\udcc1":"\ud83d\udcc4"," ").concat(s))}"directory"===(null===(o=t[s])||void 0===o?void 0:o.type)&&r(s)})};r("/"),0===n.length?M("output","No results found for '".concat(i[0],"'")):M("output","Found ".concat(n.length," result(s):\n").concat(n.join("\n")))}else M("error","find: missing search term");break;case"grep":if(i.length<2)M("error","grep: missing operands. Usage: grep <pattern> <file>");else{const e=i[0].toLowerCase(),n=F(i[1]);if(t[n])if("directory"===t[n].type)M("error","grep: ".concat(i[1],": Is a directory"));else{const r=t[n].content||"";if(r.startsWith("data:"))M("error","grep: cannot search binary files");else{const t=r.split("\n").map((e,t)=>({line:e,num:t+1})).filter(t=>{let{line:n}=t;return n.toLowerCase().includes(e)});if(0===t.length)M("output","No matches found for '".concat(i[0],"'"));else{const e=t.map(e=>{let{line:t,num:n}=e;return"".concat(n,": ").concat(t)}).join("\n");M("output",e)}}}else M("error","grep: ".concat(i[1],": No such file"))}break;case"ls":{const e=i[0]?F(i[0]):b;if(t[e])if("directory"!==t[e].type)M("error","ls: ".concat(e,": Not a directory"));else{const n=t[e].children||[];if(0===n.length)M("output","(empty directory)");else{const r=n.map(n=>{var r;const i="/"===e?"/".concat(n):"".concat(e,"/").concat(n);return"directory"===(null===(r=t[i])||void 0===r?void 0:r.type)?"\ud83d\udcc1 ".concat(n,"/"):"\ud83d\udcc4 ".concat(n)});M("output",r.join("\n"))}}else M("error","ls: ".concat(e,": No such directory"));break}case"cd":if(i[0]){const e=F(i[0]);t[e]?"directory"!==t[e].type?M("error","cd: ".concat(i[0],": Not a directory")):(x(e),M("output","")):M("error","cd: ".concat(i[0],": No such directory"))}else x("/"),M("output","");break;case"pwd":M("output",b);break;case"cat":if(i[0]){const e=F(i[0]);if(t[e])if("directory"===t[e].type)M("error","cat: ".concat(i[0],": Is a directory"));else{const n=t[e].content||"(empty file)";n.startsWith("data:image")?M("output","[Image file - ".concat(n.length," bytes]")):n.startsWith("data:")?M("output","[Binary file - ".concat(n.length," bytes]")):M("output",n)}else M("error","cat: ".concat(i[0],": No such file"))}else M("error","cat: missing file operand");break;case"mkdir":if(i[0]){const e=F(i[0]);t[e]?M("error","mkdir: ".concat(i[0],": File exists")):(await L(F(i[0])),M("output",""))}else M("error","mkdir: missing directory name");break;case"touch":if(i[0]){const e=F(i[0]);t[e]||await N(e,""),M("output","")}else M("error","touch: missing file name");break;case"rm":if(i[0]){const e=F(i[0]);t[e]?(await D(e),M("output","")):M("error","rm: ".concat(i[0],": No such file or directory"))}else M("error","rm: missing operand");break;case"echo":M("output",i.join(" "));break;case"open":if(i[0]){const e=F(i[0]);t[e]?"directory"===t[e].type?M("error","open: ".concat(i[0],": Is a directory")):(s(i[0],e),M("output","Opening ".concat(i[0],"..."))):M("error","open: ".concat(i[0],": No such file"))}else M("error","open: missing file operand");break;case"tree":{const e=function(n){var r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a=(null===(r=t[n])||void 0===r?void 0:r.children)||[];let o=[];return a.forEach((r,s)=>{var l;const c=s===a.length-1,u="/"===n?"/".concat(r):"".concat(n,"/").concat(r),d="directory"===(null===(l=t[u])||void 0===l?void 0:l.type),h=c?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ",p=d?"\ud83d\udcc1":"\ud83d\udcc4";if(o.push("".concat(i).concat(h).concat(p," ").concat(r)),d){const t=i+(c?"    ":"\u2502   ");o=o.concat(e(u,t,c))}}),o},n=["\ud83d\udcc1 "+b,...e(b)];M("output",n.join("\n"));break}case"whoami":M("output",(null===o||void 0===o?void 0:o.email)||"guest");break;case"date":M("output",(new Date).toString());break;case"calc":if(i[0])try{const e=i.join(" "),t=Function('"use strict"; return ('+e+")")();M("output","".concat(e," = ").concat(t))}catch(p){M("error","calc: invalid expression")}else M("error","calc: missing expression");break;case"clear":h([]);break;case"kill":if(R){try{R.kill(),M("system","Process terminated")}catch(f){M("error","kill: ".concat(f.message||f))}O(null),z(!1)}else M("error","No running process");break;case"npm":if(!i.length){M("error","npm: missing arguments");break}if(!oi){M("error","WebContainer is not initialized");break}try{z(!0);const e=await oi.spawn("npm",i);O(e),(async e=>{try{const t=e.output,n=new WritableStream({write(e){e&&M("output",e)}});await t.pipeTo(n)}catch(f){}})(e);if("run"===i[0]&&i[1]&&(i[1].includes("dev")||i[1].includes("start")))M("system",'(process running \u2014 use "kill" to stop)');else{const t=await e.exit;M("system","npm exited with code ".concat(t)),O(null),z(!1),null===l||void 0===l||l()}}catch(f){M("error","npm error: ".concat(f.message||f)),O(null),z(!1)}break;case"help":M("output","Available commands:\n  \nFile System:\n  ls [path]            - List directory contents\n  cd <path>            - Change directory\n  pwd                  - Print working directory\n  tree                 - Display directory tree\n  \nFile Operations:\n  cat <file>           - Display file contents\n  touch <name>         - Create a new file\n  mkdir <name>         - Create a new directory\n  rm <path>            - Remove file/directory\n  mv <src> <dest>      - Move or rename file/directory\n  cp <src> <dest>      - Copy file/directory\n  find <name>          - Search for files/directories\n  grep <text> <file>   - Search for text in file\n  \nUtilities:\n  echo <text>          - Print text to terminal\n  open <file>          - Open file in app\n  calc <expression>    - Calculate math\n  whoami               - Display current user\n  date                 - Display date and time\n  clear                - Clear the terminal\n  \nSystem Administration:\n  sudo <command>       - Execute command with admin privileges\n  sudo su              - Enter persistent sudo mode\n  exit su              - Exit persistent sudo mode\n  \nSystem Commands (require sudo):\n  theme <name>         - Change desktop theme\n  layout <type>        - Change desktop layout (wheel/grid)\n  \nWebContainer:\n  npm <args>           - Run npm inside WebContainer\n  kill                 - Kill current npm/dev process");break;default:M("error","".concat(r,": command not found. Type 'help' for available commands."))}};return(0,ui.jsxs)("div",{style:{height:"100%",background:"#1a1a1a",color:"#00ff00",fontFamily:'"Courier New", Courier, monospace',fontSize:"14px",display:"flex",flexDirection:"column",overflow:"hidden"},onClick:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.focus()},children:[(0,ui.jsxs)("div",{style:{padding:"8px 12px",background:w?"#8b0000":"#0d0d0d",borderBottom:"1px solid #333",display:"flex",alignItems:"center",gap:"8px",color:"#888",transition:"background 0.3s"},children:[w?(0,ui.jsx)(gi,{size:16,color:"#ff0000"}):(0,ui.jsx)(Ri,{size:16}),(0,ui.jsxs)("span",{style:{fontSize:"13px",color:w?"#ff0000":"#888"},children:["AirOS Terminal ",w&&"(ROOT)"]}),(0,ui.jsx)("span",{style:{marginLeft:"auto",fontSize:"11px"},children:S?"Enter password":P?"Running process...":"Ctrl+L to clear"})]}),(0,ui.jsxs)("div",{ref:I,style:{flex:1,padding:"12px",overflow:"auto",lineHeight:"1.5"},children:[d.map((e,t)=>(0,ui.jsx)("div",{style:{color:"error"===e.type?"#ff5555":"command"===e.type?"#ffff00":"system"===e.type?"#00ffff":"#00ff00",whiteSpace:"pre-wrap",wordBreak:"break-word",marginBottom:"output"===e.type?"8px":"0"},children:e.content},t)),(0,ui.jsxs)("div",{style:{display:"flex",color:w?"#ff0000":"#ffff00"},children:[(0,ui.jsx)("span",{style:{marginRight:"8px"},children:S?"":U()}),(0,ui.jsx)("input",{ref:A,type:S?"password":"text",value:p,onChange:e=>f(e.target.value),onKeyDown:e=>{if("Enter"===e.key)S?(B(p),f("")):(async e=>{const t=e.trim();if(!t)return;m(e=>[...e,t]),v(-1),M("command","".concat(U()," ").concat(t));const n=t.split(" "),r=n[0].toLowerCase(),i=n.slice(1);if("sudo"===r){if(0===i.length)return void M("error","sudo: missing command. Usage: sudo <command> or sudo su");const e=i.join(" ");var a,s;return"su"===e?(M("command","[sudo] password for "+((null===o||void 0===o||null===(a=o.email)||void 0===a?void 0:a.split("@")[0])||"user")+":"),_(!0),void C("sudo su")):(M("command","[sudo] password for "+((null===o||void 0===o||null===(s=o.email)||void 0===s?void 0:s.split("@")[0])||"user")+":"),_(!0),void C(e))}if(w&&"exit su"===t)return k(!1),void M("system","Exited sudo mode");await q(t),f("")})(p);else if("ArrowUp"===e.key){if(e.preventDefault(),!S&&g.length>0){const e=-1===y?g.length-1:Math.max(0,y-1);v(e),f(g[e])}}else if("ArrowDown"===e.key){if(e.preventDefault(),!S&&-1!==y){const e=y+1;e>=g.length?(v(-1),f("")):(v(e),f(g[e]))}}else if("Tab"===e.key){if(e.preventDefault(),!S){const e=p.split(" "),r=e[e.length-1];if(r){var n;const i=((null===(n=t[b])||void 0===n?void 0:n.children)||[]).filter(e=>e.startsWith(r));1===i.length?(e[e.length-1]=i[0],f(e.join(" "))):i.length>1&&M("output",i.join("  "))}}}else"l"===e.key&&e.ctrlKey?(e.preventDefault(),h([])):"c"===e.key&&e.ctrlKey&&(S?(e.preventDefault(),M("system","^C"),_(!1),C(null),T(0),f("")):R&&(e.preventDefault(),R.kill(),M("system","^C (process terminated)"),O(null),z(!1)))},style:{flex:1,background:"transparent",border:"none",outline:"none",color:S?"#ffff00":"#00ff00",fontFamily:"inherit",fontSize:"inherit",caretColor:w?"#ff0000":"#00ff00"},spellCheck:!1,autoComplete:"off",placeholder:S?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":""})]})]})]})},Da=y("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]),Ma=y("split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]),Ua=y("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),Fa=y("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ba=e=>{let{label:t,active:n,onClick:r,color:i}=e;return(0,ui.jsx)("button",{onClick:r,style:{padding:"10px 20px",background:n?"#1e1e1e":"transparent",border:"none",borderBottom:n?"2px solid ".concat(i):"2px solid transparent",color:n?"white":"#888",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:t})},Wa=e=>{let{icon:t,active:n,onClick:r,title:i}=e;return(0,ui.jsx)("button",{onClick:r,title:i,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"6px",background:n?"#007acc":"transparent",color:n?"white":"#888",border:"none",borderRadius:"3px",cursor:"pointer",transition:"all 0.2s"},children:t})},qa=e=>{let{value:t,onChange:n,language:i}=e;const a=(0,r.useRef)(null),[o,s]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=t.split("\n");s(e.map((e,t)=>t+1))},[t]);return(0,ui.jsxs)("div",{style:{flex:1,display:"flex",overflow:"hidden",background:"#1e1e1e"},children:[(0,ui.jsx)("div",{style:{padding:"16px 8px",background:"#1e1e1e",borderRight:"1px solid #3e3e3e",color:"#858585",fontSize:"13px",fontFamily:'Consolas, Monaco, "Courier New", monospace',lineHeight:"1.5",textAlign:"right",userSelect:"none",minWidth:"40px"},children:o.map(e=>(0,ui.jsx)("div",{children:e},e))}),(0,ui.jsx)("textarea",{ref:a,value:t,onChange:e=>n(e.target.value),onKeyDown:e=>{if("Tab"===e.key){e.preventDefault();const r=e.target.selectionStart,i=e.target.selectionEnd,a=t.substring(0,r)+"  "+t.substring(i);n(a),setTimeout(()=>{e.target.selectionStart=e.target.selectionEnd=r+2},0)}},spellCheck:!1,style:{flex:1,padding:"16px",background:"#1e1e1e",color:"#d4d4d4",border:"none",outline:"none",fontSize:"13px",fontFamily:'Consolas, Monaco, "Courier New", monospace',lineHeight:"1.5",resize:"none",overflow:"auto"}})]})},Ha=e=>{let{saveFile:t,currentPath:n,filePath:i,fileSystem:a}=e;const[o,s]=(0,r.useState)("<!DOCTYPE html>\n<html>\n<head>\n  <title>My Page</title>\n</head>\n<body>\n  <h1>Hello World!</h1>\n</body>\n</html>"),[l,c]=(0,r.useState)("body {\n  font-family: Arial, sans-serif;\n  margin: 20px;\n}\n\nh1 {\n  color: #3b82f6;\n}"),[u,d]=(0,r.useState)('// JavaScript code here\nconsole.log("Hello from AirOS IDE!");'),[h,p]=(0,r.useState)("html"),[f,g]=(0,r.useState)(!0),[m,y]=(0,r.useState)(0),[v,b]=(0,r.useState)("index.html"),[x,w]=(0,r.useState)(!0),[k,S]=(0,r.useState)("split"),_=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(i&&a[i]){const e=a[i],t=i.split(".").pop().toLowerCase();"html"===t?(s(e.content||""),p("html")):"css"===t?(c(e.content||""),p("css")):"js"===t&&(d(e.content||""),p("js")),b(i.split("/").pop())}},[i,a]);const j=()=>"html"===h?o:"css"===h?l:"js"===h?u:"";return(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"#1e1e1e"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"#2d2d2d",borderBottom:"1px solid #3e3e3e",gap:"12px"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[(0,ui.jsx)(Da,{size:18,color:"#60a5fa"}),(0,ui.jsx)("input",{type:"text",value:v,onChange:e=>{b(e.target.value),w(!1)},style:{padding:"6px 10px",background:"#1e1e1e",border:"1px solid #3e3e3e",borderRadius:"4px",color:"white",fontSize:"13px",width:"400px"}}),(0,ui.jsxs)("button",{onClick:async()=>{const e=i||("/"===n?"/".concat(v):"".concat(n,"/").concat(v));let r="";v.endsWith(".html")?r=o:v.endsWith(".css")?r=l:v.endsWith(".js")&&(r=u),t&&(await t(e,r),w(!0))},style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:x?"#10b981":"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:[(0,ui.jsx)(Oi,{size:14}),x?"Saved":"Save"]})]}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,ui.jsxs)("div",{style:{display:"flex",gap:"2px",padding:"2px",background:"#1e1e1e",borderRadius:"4px",border:"1px solid #3e3e3e"},children:[(0,ui.jsx)(Wa,{icon:(0,ui.jsx)(Ma,{size:16}),active:"split"===k,onClick:()=>S("split"),title:"Split View"}),(0,ui.jsx)(Wa,{icon:(0,ui.jsx)(Ua,{size:16}),active:"code"===k,onClick:()=>S("code"),title:"Code Only"}),(0,ui.jsx)(Wa,{icon:(0,ui.jsx)(Fa,{size:16}),active:"preview"===k,onClick:()=>S("preview"),title:"Preview Only"})]}),(0,ui.jsxs)("button",{onClick:()=>{y(e=>e+1)},style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"#10b981",color:"white",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:[(0,ui.jsx)(ji,{size:14}),"Run"]})]})]}),(0,ui.jsxs)("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[("split"===k||"code"===k)&&(0,ui.jsxs)("div",{style:{flex:"split"===k?1:"auto",display:"flex",flexDirection:"column",borderRight:"split"===k?"1px solid #3e3e3e":"none",width:"code"===k?"100%":"auto"},children:[(0,ui.jsxs)("div",{style:{display:"flex",background:"#2d2d2d",borderBottom:"1px solid #3e3e3e"},children:[(0,ui.jsx)(Ba,{label:"HTML",active:"html"===h,onClick:()=>p("html"),color:"#e34c26"}),(0,ui.jsx)(Ba,{label:"CSS",active:"css"===h,onClick:()=>p("css"),color:"#264de4"}),(0,ui.jsx)(Ba,{label:"JavaScript",active:"js"===h,onClick:()=>p("js"),color:"#f0db4f"})]}),(0,ui.jsx)(qa,{value:j(),onChange:e=>{w(!1),"html"===h?s(e):"css"===h?c(e):"js"===h&&d(e)},language:h})]}),("split"===k||"preview"===k)&&(0,ui.jsxs)("div",{style:{flex:"split"===k?1:"auto",display:"flex",flexDirection:"column",background:"white",width:"preview"===k?"100%":"auto"},children:[(0,ui.jsxs)("div",{style:{padding:"8px 12px",background:"#f3f4f6",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"8px"},children:[(0,ui.jsx)(Fa,{size:16,color:"#6b7280"}),(0,ui.jsx)("span",{style:{fontSize:"13px",fontWeight:"600",color:"#374151"},children:"Preview"})]}),(0,ui.jsx)("iframe",{ref:_,srcDoc:(()=>{let e=o;if(l.trim()){const t="<style>".concat(l,"</style>");e=e.includes("</head>")?e.replace("</head>","".concat(t,"\n</head>")):"<head>".concat(t,"</head>\n").concat(e)}if(u.trim()){const t="<script>".concat(u,"<\/script>");e=e.includes("</body>")?e.replace("</body>","".concat(t,"\n</body>")):"".concat(e,"\n").concat(t)}return e})(),style:{flex:1,border:"none",width:"100%",background:"white"},title:"preview",sandbox:"allow-scripts allow-same-origin"},m)]})]}),(0,ui.jsxs)("div",{style:{padding:"6px 12px",background:"#007acc",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px",color:"white"},children:[(0,ui.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,ui.jsxs)("span",{children:["Language: ",h.toUpperCase()]}),(0,ui.jsxs)("span",{children:["Lines: ",j().split("\n").length]})]}),(0,ui.jsx)("div",{children:"AirOS Code Editor"})]})]})},Va=y("film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),Ka=y("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),$a=e=>{let{saveFile:t,currentPath:n}=e;const[i,a]=(0,r.useState)(null),[o,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(null),[m,y]=(0,r.useState)(null),[v,b]=(0,r.useState)(""),[x,w]=(0,r.useState)(0),k=(0,r.useRef)(null),S=(0,r.useRef)(null),_=(0,r.useRef)(null),j=[{value:"png",label:"PNG",mime:"image/png"},{value:"jpeg",label:"JPEG",mime:"image/jpeg"},{value:"webp",label:"WebP",mime:"image/webp"},{value:"bmp",label:"BMP",mime:"image/bmp"}],C=e=>{const t=e.length*e.numberOfChannels*2+44,n=new ArrayBuffer(t),r=new DataView(n),i=[];let a=0;const o=e=>{r.setUint16(a,e,!0),a+=2},s=e=>{r.setUint32(a,e,!0),a+=4};s(1179011410),s(t-8),s(1163280727),s(544501094),s(16),o(1),o(e.numberOfChannels),s(e.sampleRate),s(2*e.sampleRate*e.numberOfChannels),o(2*e.numberOfChannels),o(16),s(1635017060),s(t-a-4);for(let c=0;c<e.numberOfChannels;c++)i.push(e.getChannelData(c));let l=0;for(;a<t;){for(let t=0;t<e.numberOfChannels;t++){let e=Math.max(-1,Math.min(1,i[t][l]));e=e<0?32768*e:32767*e,r.setInt16(a,e,!0),a+=2}l++}return n},E=()=>{a(null),s(null),c(""),p(!1),g(null),y(null),b(""),w(0),k.current&&(k.current.value="")};return(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[(0,ui.jsxs)("div",{style:{padding:"24px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,ui.jsx)(Si,{size:32,color:"white"}),(0,ui.jsx)("h1",{style:{fontSize:"32px",fontWeight:"700",color:"white",margin:0},children:(0,ui.jsx)("u",{children:"FILE CRUCIBLE"})})]}),(0,ui.jsx)("p",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.8)",margin:0},children:"Convert images, audio, and video files to different formats"})]}),(0,ui.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"32px",overflowY:"auto"},children:(0,ui.jsxs)("div",{style:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[!i&&(0,ui.jsxs)("div",{style:{padding:"48px 32px",textAlign:"center"},children:[(0,ui.jsx)("input",{ref:k,type:"file",onChange:e=>{const t=e.target.files[0];t&&(b(""),p(!1),g(null),y(null),w(0),t.type.startsWith("image/")?(s("image"),a(t),c("png")):t.type.startsWith("audio/")?(s("audio"),a(t),c("wav")):t.type.startsWith("video/")?(s("video"),a(t),c("webm")):(b("Unsupported file type"),a(null),s(null)))},accept:"image/*,audio/*,video/*",style:{display:"none"}}),(0,ui.jsxs)("div",{onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},style:{border:"3px dashed #d1d5db",borderRadius:"12px",padding:"48px",cursor:"pointer",background:"#f9fafb"},children:[(0,ui.jsx)(Ki,{size:48,color:"#667eea",style:{marginBottom:"16px"}}),(0,ui.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"Choose a file to convert"}),(0,ui.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:"Drag and drop or click to browse"}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"24px",flexWrap:"wrap"},children:[(0,ui.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,ui.jsx)(_i,{size:20,color:"#667eea",style:{marginBottom:"4px"}}),(0,ui.jsx)("div",{style:{fontSize:"12px",color:"#6b7280"},children:"Images"})]}),(0,ui.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,ui.jsx)(ha,{size:20,color:"#764ba2",style:{marginBottom:"4px"}}),(0,ui.jsx)("div",{style:{fontSize:"12px",color:"#6b7280"},children:"Audio"})]}),(0,ui.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,ui.jsx)(Va,{size:20,color:"#ec4899",style:{marginBottom:"4px"}}),(0,ui.jsx)("div",{style:{fontSize:"12px",color:"#6b7280"},children:"Videos"})]})]})]})]}),i&&!h&&(0,ui.jsxs)("div",{style:{padding:"32px"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px",padding:"16px",background:"#f3f4f6",borderRadius:"8px"},children:["image"===o&&(0,ui.jsx)(_i,{size:24,color:"#667eea"}),"audio"===o&&(0,ui.jsx)(ha,{size:24,color:"#764ba2"}),"video"===o&&(0,ui.jsx)(Va,{size:24,color:"#ec4899"}),(0,ui.jsxs)("div",{style:{flex:1},children:[(0,ui.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"2px"},children:i.name}),(0,ui.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280"},children:[(i.size/1024/1024).toFixed(2)," MB \u2022 ",o]})]}),(0,ui.jsx)("button",{onClick:E,style:{padding:"6px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",cursor:"pointer"},children:"Remove"})]}),(0,ui.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,ui.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Convert to:"}),(0,ui.jsx)("select",{value:l,onChange:e=>c(e.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",background:"white"},children:("image"===o?j:"audio"===o?[{value:"mp3",label:"MP3",mime:"audio/mpeg"},{value:"wav",label:"WAV",mime:"audio/wav"},{value:"ogg",label:"OGG",mime:"audio/ogg"},{value:"webm",label:"WebM Audio",mime:"audio/webm"}]:[{value:"webm",label:"WebM",mime:"video/webm"},{value:"mp4",label:"MP4",mime:"video/mp4"}]).map(e=>(0,ui.jsx)("option",{value:e.value,children:e.label},e.value))})]}),v&&(0,ui.jsxs)("div",{style:{padding:"12px 16px",background:"#fee2e2",borderRadius:"8px",color:"#dc2626",fontSize:"14px",marginBottom:"24px",display:"flex",gap:"8px"},children:[(0,ui.jsx)($i,{size:16}),v]}),u&&x>0&&(0,ui.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,ui.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,ui.jsx)("span",{style:{fontSize:"13px",color:"#6b7280"},children:"Converting..."}),(0,ui.jsxs)("span",{style:{fontSize:"13px",fontWeight:"600",color:"#667eea"},children:[x,"%"]})]}),(0,ui.jsx)("div",{style:{width:"100%",height:"8px",background:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:(0,ui.jsx)("div",{style:{width:"".concat(x,"%"),height:"100%",background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",transition:"width 0.3s ease"}})})]}),(0,ui.jsx)("button",{onClick:()=>{"image"===o?(async()=>{d(!0),b(""),w(10);try{const e=new window.Image,t=new FileReader;t.onload=t=>{w(30),e.onload=()=>{w(50);const t=S.current;t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),w(70);const n=j.find(e=>e.value===l);t.toBlob(e=>{w(90);const t=new FileReader;t.onloadend=()=>{g(t.result),y(e),p(!0),d(!1),w(100)},t.readAsDataURL(e)},n.mime,.95)},e.src=t.target.result},t.readAsDataURL(i)}catch(e){b("Conversion failed: "+e.message),d(!1),w(0)}})():"audio"===o?(async()=>{d(!0),b(""),w(10);try{const e=new(window.AudioContext||window.webkitAudioContext),t=new FileReader;t.onload=async t=>{w(30);try{const n=t.target.result;w(50);const r=await e.decodeAudioData(n);w(60);const i=new OfflineAudioContext(r.numberOfChannels,r.length,r.sampleRate),a=i.createBufferSource();a.buffer=r,a.connect(i.destination),a.start(0),w(70);const o=await i.startRendering();w(85);const s=C(o),l=new Blob([s],{type:"audio/wav"}),c=new FileReader;c.onloadend=()=>{g(c.result),y(l),p(!0),d(!1),w(100)},c.readAsDataURL(l)}catch(n){b("Audio conversion failed"),d(!1),w(0)}},t.readAsArrayBuffer(i)}catch(e){b("Conversion failed: "+e.message),d(!1),w(0)}})():"video"===o&&(async()=>{d(!0),b(""),w(10);try{const e=_.current,t=URL.createObjectURL(i);e.src=t,e.muted=!0,e.playsInline=!0,await new Promise(t=>{e.onloadedmetadata=t}),w(30);const n=document.createElement("canvas");n.width=e.videoWidth,n.height=e.videoHeight;const r=n.getContext("2d"),a=n.captureStream(30);w(40);const o=new MediaRecorder(a,{mimeType:"video/webm",videoBitsPerSecond:25e5}),s=[];o.ondataavailable=e=>{e.data.size>0&&s.push(e.data)},o.onstop=()=>{const e=new Blob(s,{type:"video/webm"}),t=new FileReader;t.onloadend=()=>{g(t.result),y(e),p(!0),d(!1),w(100)},t.readAsDataURL(e)},o.start(),e.currentTime=0,await e.play(),w(50);const l=()=>{if(e.currentTime<e.duration&&!e.paused){r.drawImage(e,0,0,n.width,n.height);const t=50+e.currentTime/e.duration*40;w(Math.min(90,t)),requestAnimationFrame(l)}};l(),e.onended=()=>{o.stop(),e.pause(),URL.revokeObjectURL(t)}}catch(e){b("Video conversion failed: "+e.message),d(!1),w(0)}})()},disabled:u,style:{width:"100%",padding:"14px",background:u?"#9ca3af":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:u?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:u?(0,ui.jsxs)(ui.Fragment,{children:[(0,ui.jsx)(Si,{size:20,className:"spinning"}),"Converting..."]}):(0,ui.jsxs)(ui.Fragment,{children:[(0,ui.jsx)(Si,{size:20}),"Convert File"]})})]}),h&&(0,ui.jsxs)("div",{style:{padding:"32px",textAlign:"center"},children:[(0,ui.jsx)(Ka,{size:64,color:"#10b981",style:{marginBottom:"16px"}}),(0,ui.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",marginBottom:"8px"},children:"Conversion Complete!"}),(0,ui.jsxs)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px"},children:["Your ",o," has been converted to ",l.toUpperCase()]}),"image"===o&&f&&(0,ui.jsx)("div",{style:{marginBottom:"24px",padding:"16px",background:"#f9fafb",borderRadius:"8px"},children:(0,ui.jsx)("img",{src:f,alt:"Converted",style:{maxWidth:"100%",maxHeight:"300px",borderRadius:"8px"}})}),"video"===o&&f&&(0,ui.jsx)("div",{style:{marginBottom:"24px",padding:"16px",background:"#f9fafb",borderRadius:"8px"},children:(0,ui.jsx)("video",{src:f,controls:!0,style:{maxWidth:"100%",maxHeight:"300px",borderRadius:"8px"}})}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,ui.jsxs)("button",{onClick:()=>{if(!f)return;const e=document.createElement("a");e.href=f;const t=i.name.split(".")[0];e.download="".concat(t,"_converted.").concat(l),e.click()},style:{flex:1,padding:"12px",background:"#10b981",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,ui.jsx)(la,{size:16}),"Download"]}),t&&(0,ui.jsx)("button",{onClick:async()=>{if(!f||!t)return;const e=i.name.split(".")[0],r="".concat(e,"_converted.").concat(l),a="/"===n?"/".concat(r):"".concat(n,"/").concat(r);await t(a,f,"file"),alert("File saved to ".concat(a))},style:{flex:1,padding:"12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Save to Files"})]}),(0,ui.jsx)("button",{onClick:E,style:{width:"100%",marginTop:"12px",padding:"12px",background:"transparent",color:"#6b7280",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Convert Another File"})]})]})}),(0,ui.jsx)("canvas",{ref:S,style:{display:"none"}}),(0,ui.jsx)("video",{ref:_,style:{display:"none"}}),(0,ui.jsx)("style",{children:"\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n          .spinning {\n            animation: spin 1s linear infinite;\n          }\n        "})]})},Ga=e=>{let{color:t,size:n,tool:r,onColorChange:i,onSizeChange:a,onToolChange:o,onUndo:s,onAddLayer:l,layers:c,onCopy:u,onPaste:d,canvasRefs:h}=e;return(0,ui.jsxs)("div",{style:{display:"flex",gap:12,padding:8,background:"#eee",borderBottom:"1px solid #ccc",alignItems:"center"},children:[(0,ui.jsx)("input",{type:"color",value:t,onChange:e=>i(e.target.value)}),(0,ui.jsx)("input",{type:"range",min:"1",max:"40",value:n,onChange:e=>a(Number(e.target.value))}),(0,ui.jsx)("button",{onClick:()=>o("brush"),style:{padding:"6px 12px",background:"brush"===r?"#ddd":"#fff"},children:"Brush"}),(0,ui.jsx)("button",{onClick:()=>o("select"),style:{padding:"6px 12px",background:"select"===r?"#ddd":"#fff"},children:"Select"}),(0,ui.jsx)("button",{onClick:u,children:"Copy"}),(0,ui.jsx)("button",{onClick:d,children:"Paste"}),(0,ui.jsx)("button",{onClick:()=>o("eraser"),style:{padding:"6px 12px",background:"eraser"===r?"#ddd":"#fff"},children:"Eraser"}),(0,ui.jsx)("button",{onClick:s,children:"Undo"}),(0,ui.jsx)("button",{onClick:l,children:"New Layer"}),(0,ui.jsx)("button",{onClick:()=>{const e=document.createElement("canvas"),t=e.getContext("2d"),n=h.current[c[0].id];e.width=n.width,e.height=n.height,c.forEach(e=>{if(!e.visible)return;const n=h.current[e.id];t.drawImage(n,0,0)});const r=document.createElement("a");r.download="sketch.png",r.href=e.toDataURL(),r.click()},children:"Save"})]})},Ja=e=>{let{layers:t,activeLayerId:n,undoStacks:i,canvasRefs:a,color:o,size:s,tool:l,selection:u,setSelection:d,pasted:h,setPasted:p,clipboard:f}=e;const g=(0,r.useRef)({}),m=(0,r.useRef)({}),y=(0,r.useRef)(!1),v=(0,r.useRef)({x:0,y:0}),b=(0,r.useRef)(null),x=(0,r.useRef)(!1),w=(0,r.useRef)({x:0,y:0}),k=(e,t)=>{if("select"===l){y.current=!0;const n=a.current[t].getBoundingClientRect();return v.current={x:e.clientX-n.left,y:e.clientY-n.top},void d(null)}h&&"select"!==l?j(t):((e,t)=>{if("brush"!==l&&"eraser"!==l)return;const n=a.current[t],r=n.getBoundingClientRect();g.current[t]=!0,m.current[t]={x:e.clientX-r.left,y:e.clientY-r.top},i.current[t]||(i.current[t]=[]),i.current[t].push(n.toDataURL())})(e,t)},S=(e,t)=>{if("select"===l&&y.current){const n=a.current[t].getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;return void d({x:Math.min(v.current.x,r),y:Math.min(v.current.y,i),w:Math.abs(r-v.current.x),h:Math.abs(i-v.current.y)})}h&&x.current?p(t=>c(c({},t),{},{x:e.clientX-w.current.x,y:e.clientY-w.current.y})):t===n&&((e,t)=>{if(!g.current[t])return;const n=a.current[t],r=n.getContext("2d"),i=n.getBoundingClientRect(),c=e.clientX-i.left,u=e.clientY-i.top;r.lineJoin="round",r.lineCap="round",r.lineWidth=s,r.strokeStyle="eraser"===l?"#ffffff":o,r.beginPath(),r.moveTo(m.current[t].x,m.current[t].y),r.lineTo(c,u),r.stroke(),m.current[t]={x:c,y:u}})(e,t)},_=e=>{y.current=!1,(e=>{g.current[e]=!1})(e),x.current=!1},j=e=>{if(!h)return;a.current[e].getContext("2d").drawImage(h.img,h.x,h.y),p(null)};return(0,r.useEffect)(()=>{const e=document.createElement("canvas"),t=e.getContext("2d"),n=2*s;e.width=n,e.height=n,t.beginPath(),t.arc(s,s,s,0,2*Math.PI),t.fillStyle="eraser"===l?"#ffffff":o,t.fill();const r=e.toDataURL();Object.values(a.current).forEach(e=>{e&&(e.style.cursor="url(".concat(r,") ").concat(s," ").concat(s,", crosshair"))})},[o,s,l]),(0,r.useEffect)(()=>{const e=()=>{t.forEach(e=>{const t=a.current[e.id];if(!t)return;const n=t.parentElement,r=t.toDataURL();t.width=n.clientWidth,t.height=n.clientHeight;const i=t.getContext("2d"),o=new Image;o.src=r,o.onload=()=>i.drawImage(o,0,0)})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),(0,ui.jsxs)("div",{style:{position:"relative",flex:1},children:[t.map(e=>(0,ui.jsx)("canvas",{ref:t=>a.current[e.id]=t,style:{position:"absolute",inset:0,display:e.visible?"block":"none"},onMouseDown:t=>k(t,e.id),onMouseUp:()=>_(e.id),onMouseOut:()=>_(e.id),onMouseMove:t=>S(t,e.id)},e.id)),u&&(0,ui.jsx)("div",{style:{position:"absolute",border:"1px dashed #00f",left:u.x,top:u.y,width:u.w,height:u.h,pointerEvents:"none"}}),h&&(0,ui.jsx)("canvas",{ref:b,width:h.img.width,height:h.img.height,style:{position:"absolute",left:h.x,top:h.y,cursor:"move"},onMouseDown:e=>{h&&(x.current=!0,w.current={x:e.clientX-h.x,y:e.clientY-h.y})}})]})},Ya=e=>{let{layers:t,activeLayerId:n,onSelect:i,onAdd:a,onDelete:o,onRename:s,onToggleVisibility:l}=e;const[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)("");return(0,ui.jsxs)("div",{style:{width:180,background:"#f4f4f4",borderRight:"1px solid #ccc",padding:8,display:"flex",flexDirection:"column",gap:8},children:[(0,ui.jsx)("button",{onClick:a,children:"+ Add Layer"}),t.map(e=>(0,ui.jsx)("div",{onClick:()=>i(e.id),style:{padding:8,background:e.id===n?"#ddd":"#fff",border:"1px solid #ccc",cursor:"pointer"},children:(0,ui.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,ui.jsx)("span",{onClick:t=>{t.stopPropagation(),l(e.id)},children:e.visible?"\ud83d\udc41":"\ud83d\udeab"}),c===e.id?(0,ui.jsx)("input",{value:d,onChange:e=>h(e.target.value),onBlur:()=>{s(e.id,d),u(null)},autoFocus:!0}):(0,ui.jsx)("span",{onDoubleClick:()=>{u(e.id),h(e.name)},children:e.name}),(0,ui.jsx)("span",{onClick:t=>{t.stopPropagation(),o(e.id)},children:"\ud83d\uddd1"})]})},e.id))]})};async function Qa(e){const{data:t,error:n}=await dr.from("profiles").select("*").eq("id",e).single();if(n)throw n;return t}async function Xa(e){const{data:t,error:n}=await dr.from("friends").select("id, requester_id, addressee_id, status, created_at").or("requester_id.eq.".concat(e,",addressee_id.eq.").concat(e));if(n)throw n;return t||[]}async function Za(e){let{senderId:t,channelType:n,channelId:r,content:i}=e;const{data:a,error:o}=await dr.from("messages").insert({sender_id:t,channel_type:n,channel_id:r,content:i}).select().single();if(o)throw o;return a}const eo=e=>{let{currentUser:t}=e;const[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)({}),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)([]),[p,f]=(0,r.useState)(""),[g,m]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[b,x]=(0,r.useState)(""),[w,k]=(0,r.useState)([]),[S,_]=(0,r.useState)(!1),[j,C]=(0,r.useState)(null),E=(0,r.useRef)(null),T=!b.trim()||!t,R=(0,r.useMemo)(()=>[...n].sort((e,t)=>"accepted"===e.status&&"accepted"!==t.status?-1:"accepted"!==e.status&&"accepted"===t.status?1:(e.created_at||"").localeCompare(t.created_at||"")),[n]),O=(0,r.useMemo)(()=>t?n.map(e=>e.requester_id===t.id?e.addressee_id:e.requester_id):[],[n,t]);(0,r.useEffect)(()=>{t&&(m(!0),Xa(t.id).then(i).catch(console.error).finally(()=>m(!1)))},[t]),(0,r.useEffect)(()=>{O.length>0?async function(){const e={};for(const t of O){if(!t)continue;const n=await Qa(t);e[t]=n}o(e)}():o({})},[O]),(0,r.useEffect)(()=>{if(!s)return;v(!0),h([]);let e=()=>{};return(async()=>{try{const t=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;const{data:r,error:i}=await dr.from("messages").select("*").eq("channel_type",e).eq("channel_id",t).order("created_at",{ascending:!0}).limit(n);if(i)throw i;return r}(s.type,s.id,200);h(t),e=function(e,t,n){const r=dr.channel("messages-".concat(e,"-").concat(t)).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:"channel_type=eq.".concat(e,",channel_id=eq.").concat(t)},e=>{n(e.new)}).subscribe();return()=>{dr.removeChannel(r)}}(s.type,s.id,e=>h(t=>[...t,e]))}catch(t){console.error(t)}finally{v(!1)}})(),()=>e()},[s]);const P=async e=>{if(!t)return;const n=e.requester_id===t.id?e.addressee_id:e.requester_id;try{const e=await async function(e,t){const[n,r]=[e,t].sort(),{data:i,error:a}=await dr.from("dm_channels").select("*").or("and(user_a.eq.".concat(n,",user_b.eq.").concat(r,"),and(user_a.eq.").concat(r,",user_b.eq.").concat(n,")")).maybeSingle();if(a)throw a;if(i)return i;const{data:o,error:s}=await dr.from("dm_channels").insert({user_a:n,user_b:r}).select().single();if(s)throw s;return o}(t.id,n);l({type:"dm",id:e.id,peerId:n});const r=a[n]||await Qa(n);u(r)}catch(r){console.error(r)}},z=()=>{C(null),E.current&&(E.current.value="")},A=async()=>{if(!t||!s)return;if(!p.trim()&&!j)return;const e=p.trim();f("");try{if(j){const n=new FileReader;n.onload=async n=>{const r={type:"file",fileName:j.name,fileType:j.type,fileSize:j.size,fileData:n.target.result,caption:e};await Za({senderId:t.id,channelType:s.type,channelId:s.id,content:JSON.stringify(r)}),z()},n.readAsDataURL(j)}else await Za({senderId:t.id,channelType:s.type,channelId:s.id,content:e})}catch(n){console.error(n)}},I=e=>{null===e||void 0===e||e.preventDefault(),b.trim()&&async function(e){const{data:t,error:n}=await dr.from("profiles").select("*").ilike("username","%".concat(e,"%")).limit(20);if(n)throw n;return t}(b.trim()).then(k).catch(console.error)},N=async e=>{if(t)try{await async function(e,t){const{data:n,error:r}=await dr.from("friends").update({status:"accepted"}).eq("id",e).eq("addressee_id",t).select().single();if(r)throw r;return n}(e,t.id);const n=await Xa(t.id);i(n)}catch(n){console.error(n)}},L=async e=>{if(t){_(!0);try{await async function(e,t){const{data:n,error:r}=await dr.from("friends").insert({requester_id:e,addressee_id:t,status:"pending"}).select().single();if(r)throw r;return n}(t.id,e);const n=await Xa(t.id);i(n),k([]),x("")}catch(n){console.error(n)}finally{_(!1)}}},D=e=>e<1024?e+" B":e<1048576?(e/1024).toFixed(1)+" KB":(e/1048576).toFixed(1)+" MB",M=(e,t)=>{const n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)};return(0,ui.jsxs)("div",{style:{display:"flex",height:"100vh",background:"#0f172a",color:"#e5e7eb",fontFamily:"system-ui, -apple-system, sans-serif"},children:[(0,ui.jsxs)("div",{style:{width:280,borderRight:"2px solid #1e293b",display:"flex",flexDirection:"column",background:"#1e293b"},children:[(0,ui.jsx)("div",{style:{padding:"12px 16px",borderBottom:"1px solid #334155",fontWeight:600,fontSize:"16px",background:"#0f172a"},children:"Friends & DMs"}),(0,ui.jsxs)("div",{style:{padding:"12px 16px",borderBottom:"1px solid #334155"},children:[(0,ui.jsx)("div",{style:{fontSize:"12px",marginBottom:6,opacity:.7,fontWeight:500},children:"Search by username"}),(0,ui.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,ui.jsx)("input",{value:b,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&I(),placeholder:"Search username...",style:{flex:1,background:"#0f172a",borderRadius:6,border:"1px solid #334155",padding:"6px 10px",color:"#e5e7eb",fontSize:"13px",outline:"none"}}),(0,ui.jsx)("button",{onClick:I,disabled:T,style:{padding:"6px 12px",borderRadius:6,border:"none",background:T?"#334155":"#2563eb",color:"#e5e7eb",fontSize:"13px",cursor:T?"default":"pointer",fontWeight:500},children:"Search"})]}),w.length>0&&(0,ui.jsx)("div",{style:{marginTop:12},children:w.map(e=>(0,ui.jsxs)("div",{style:{padding:"10px",background:"#0f172a",borderRadius:6,marginBottom:8,border:"1px solid #334155"},children:[(0,ui.jsx)("div",{style:{fontWeight:600,fontSize:"14px"},children:e.display_name||e.username}),(0,ui.jsxs)("div",{style:{opacity:.6,fontSize:"12px",marginBottom:6},children:["@",e.username]}),(0,ui.jsx)("button",{onClick:()=>L(e.id),disabled:S,style:{width:"100%",padding:"6px",borderRadius:4,border:"none",background:"#2563eb",color:"#fff",fontSize:"12px",cursor:S?"default":"pointer",opacity:S?.7:1,fontWeight:500},children:S?"Sending\u2026":"Add Friend"})]},e.id))})]}),(0,ui.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"12px",display:"flex",flexDirection:"column",gap:6},children:[g&&(0,ui.jsx)("div",{style:{fontSize:"12px",opacity:.6,padding:"8px"},children:"Loading friends\u2026"}),!g&&0===R.length&&(0,ui.jsx)("div",{style:{fontSize:"12px",opacity:.6,padding:"8px"},children:"No friends yet. Search and add one above to start chatting."}),R.map(e=>{const n=e.requester_id===t.id?e.addressee_id:e.requester_id,r=a[n],i="accepted"===e.status,o="pending"===e.status&&e.addressee_id===t.id,s="pending"===e.status&&e.requester_id===t.id;return(0,ui.jsxs)("div",{style:{padding:"10px",borderRadius:6,background:"#0f172a",border:"1px solid #334155",display:"flex",flexDirection:"column",gap:6},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ui.jsx)("span",{style:{fontSize:"13px",fontWeight:500},children:r?r.display_name||r.username:"Loading\u2026"}),(0,ui.jsx)("span",{style:{fontSize:"10px",textTransform:"uppercase",padding:"2px 6px",borderRadius:3,background:i?"#166534":o?"#1e40af":"#78350f",fontWeight:600},children:i?"Friend":o?"Incoming":"Pending"})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:6},children:[i&&(0,ui.jsx)("button",{onClick:()=>P(e),style:{flex:1,padding:"6px",borderRadius:4,border:"none",background:"#2563eb",color:"#e5e7eb",fontSize:"12px",cursor:"pointer",fontWeight:500},children:"Open Chat"}),o&&(0,ui.jsx)("button",{onClick:()=>N(e.id),style:{flex:1,padding:"6px",borderRadius:4,border:"none",background:"#16a34a",color:"#e5e7eb",fontSize:"12px",cursor:"pointer",fontWeight:500},children:"Accept Request"}),s&&(0,ui.jsx)("span",{style:{flex:1,fontSize:"11px",opacity:.7,textAlign:"center",padding:"6px"},children:"Request sent, awaiting response"})]})]},e.id)})]})]}),(0,ui.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",background:"#0f172a"},children:[(0,ui.jsx)("div",{style:{padding:"14px 20px",borderBottom:"1px solid #1e293b",fontSize:"15px",fontWeight:600,background:"#1e293b"},children:c?"".concat(c.display_name||c.username," (@").concat(c.username,")"):"Select a friend to start chatting"}),(0,ui.jsxs)("div",{style:{flex:1,padding:"16px 20px",overflowY:"auto"},children:[y&&s&&(0,ui.jsx)("div",{style:{fontSize:"13px",opacity:.6,marginBottom:12},children:"Loading messages\u2026"}),!s&&(0,ui.jsx)("div",{style:{fontSize:"13px",opacity:.6,textAlign:"center",marginTop:40},children:"Select a friend from the sidebar to begin chatting"}),d.map(e=>{const n=e.sender_id===t.id,r=n?t:a[e.sender_id]||c;let i;try{const t=JSON.parse(e.content);if("file"===t.type){var o;const e=null===(o=t.fileType)||void 0===o?void 0:o.startsWith("image/");i=(0,ui.jsxs)("div",{children:[t.caption&&(0,ui.jsx)("div",{style:{marginBottom:6},children:t.caption}),(0,ui.jsx)("div",{style:{background:"#0a0a12",opacity:.7,borderRadius:4,padding:8,border:"1px solid #1f2933"},children:e?(0,ui.jsxs)("div",{children:[(0,ui.jsx)("img",{src:t.fileData,alt:t.fileName,style:{maxWidth:300,maxHeight:300,borderRadius:4,marginBottom:6}}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,ui.jsx)(_i,{size:14}),(0,ui.jsx)("span",{style:{fontSize:11},children:t.fileName}),(0,ui.jsxs)("button",{onClick:()=>M(t.fileName,t.fileData),style:{marginLeft:"auto",padding:"2px 6px",background:"#1f2937",border:"none",borderRadius:3,color:"#e5e7eb",fontSize:10,cursor:"pointer",display:"flex",alignItems:"center",gap:3},children:[(0,ui.jsx)(la,{size:12}),"Download"]})]})]}):(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,ui.jsx)(wi,{size:24,style:{opacity:.7}}),(0,ui.jsxs)("div",{style:{flex:1},children:[(0,ui.jsx)("div",{style:{fontSize:11,fontWeight:600},children:t.fileName}),(0,ui.jsx)("div",{style:{fontSize:10,opacity:.6},children:D(t.fileSize)})]}),(0,ui.jsxs)("button",{onClick:()=>M(t.fileName,t.fileData),style:{padding:"4px 8px",background:"#1f2937",border:"none",borderRadius:3,color:"#e5e7eb",fontSize:10,cursor:"pointer",display:"flex",alignItems:"center",gap:3},children:[(0,ui.jsx)(la,{size:12}),"Download"]})]})})]})}else i=e.content}catch(s){i=e.content}return(0,ui.jsx)("div",{style:{display:"flex",justifyContent:n?"flex-end":"flex-start",marginBottom:8},children:(0,ui.jsxs)("div",{style:{maxWidth:"60%",padding:"8px 10px",borderRadius:8,background:n?"#1d4ed8":"#111827",color:"#e5e7eb",fontSize:"13px"},children:[(0,ui.jsx)("div",{style:{fontSize:"10px",opacity:.7,marginBottom:3},children:n?"You":r&&(r.display_name||r.username)||e.sender_id.slice(0,8)}),i]})},e.id)})]}),s&&(0,ui.jsxs)("div",{style:{borderTop:"1px solid #1e293b",padding:"16px 20px",background:"#1e293b"},children:[j&&(0,ui.jsxs)("div",{style:{background:"#0f172a",padding:"10px",borderRadius:6,marginBottom:10,display:"flex",alignItems:"center",gap:10,border:"1px solid #334155"},children:[(0,ui.jsx)(Gi,{size:20,style:{opacity:.7}}),(0,ui.jsxs)("div",{style:{flex:1},children:[(0,ui.jsx)("div",{style:{fontSize:"13px",fontWeight:500},children:j.name}),(0,ui.jsx)("div",{style:{fontSize:"11px",opacity:.6},children:D(j.size)})]}),(0,ui.jsx)("button",{onClick:z,style:{background:"none",border:"none",color:"#e5e7eb",cursor:"pointer",padding:4},children:(0,ui.jsx)(Ia,{size:18})})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,ui.jsx)("input",{ref:E,type:"file",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>5242880)return void alert("File size must be less than 5MB");C(t)}},style:{display:"none"}}),(0,ui.jsx)("button",{onClick:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.click()},style:{padding:"8px 12px",borderRadius:6,border:"1px solid #334155",background:"#0f172a",color:"#e5e7eb",fontSize:"13px",cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:(0,ui.jsx)(Ki,{size:16})}),(0,ui.jsx)("input",{value:p,onChange:e=>f(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&A(),placeholder:j?"Add a caption (optional)...":"Type a message...",style:{flex:1,background:"#0f172a",borderRadius:6,border:"1px solid #334155",padding:"8px 14px",color:"#e5e7eb",fontSize:"14px",outline:"none"}}),(0,ui.jsx)("button",{onClick:A,disabled:!p.trim()&&!j,style:{padding:"8px 20px",borderRadius:6,border:"none",background:p.trim()||j?"#2563eb":"#334155",color:"#e5e7eb",fontSize:"14px",cursor:p.trim()||j?"pointer":"default",fontWeight:500},children:"Send"})]})]})]})]})},to=y("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),no=y("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ro=y("scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),io=y("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),ao={display:"flex",alignItems:"center",gap:"6px",padding:"8px 12px",background:"#3a3a3a",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",fontSize:"13px",transition:"background 0.2s"},oo={display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px",background:"#3a3a3a",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",transition:"background 0.2s"},so={padding:"4px",background:"rgba(0, 0, 0, 0.6)",border:"none",borderRadius:"3px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},lo=()=>{const[e,t]=(0,r.useState)({name:"Untitled Project",timeline:[],currentTime:0,duration:30,zoom:1}),[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(!1),[s,l]=(0,r.useState)(1),[u,d]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(0),[m,y]=(0,r.useState)([{id:"video-1",name:"Video Track 1",type:"video",clips:[],muted:!1},{id:"video-2",name:"Video Track 2",type:"video",clips:[],muted:!1},{id:"audio-1",name:"Audio Track 1",type:"audio",clips:[],muted:!1},{id:"audio-2",name:"Audio Track 2",type:"audio",clips:[],muted:!1}]),v=(0,r.useRef)(null),b=(0,r.useRef)(null),x=(0,r.useRef)({}),w=(0,r.useRef)({}),k=(0,r.useRef)(null);(0,r.useEffect)(()=>(b.current=new(window.AudioContext||window.webkitAudioContext),()=>{b.current&&b.current.close()}),[]);const S=async(e,t)=>{const n=await(async e=>new Promise(t=>{const n=URL.createObjectURL(e),r=e.type.startsWith("video/"),i=e.type.startsWith("audio/");if(r){const e=document.createElement("video");e.src=n,e.onloadedmetadata=()=>{t({url:n,duration:e.duration,width:e.videoWidth,height:e.videoHeight})}}else if(i){const e=document.createElement("audio");e.src=n,e.onloadedmetadata=()=>{t({url:n,duration:e.duration})}}else t({url:n,duration:5})}))(t),r={id:"clip-".concat(Date.now(),"-").concat(Math.random()),name:t.name,type:t.type.startsWith("video/")?"video":t.type.startsWith("audio/")?"audio":"image",url:n.url,startTime:0,duration:n.duration,trimStart:0,trimEnd:n.duration,volume:1,opacity:1,effects:[],width:n.width,height:n.height,reversed:!1,mirrorH:!1,mirrorV:!1};y(m.map(t=>t.id===e?c(c({},t),{},{clips:[...t.clips,r]}):t))},_=async(e,t)=>{const n=Array.from(e.target.files);for(const r of n)await S(t,r)},j=()=>{const t=v.current;if(!t)return;const n=t.getContext("2d");n.fillStyle="#000",n.fillRect(0,0,t.width,t.height);const r=(()=>{const t={video:[],audio:[]};return m.forEach(n=>{n.clips.forEach(r=>{const i=r.startTime,a=r.startTime+r.duration;if(e.currentTime>=i&&e.currentTime<a){let a=e.currentTime-i+r.trimStart;if(r.reversed){const t=e.currentTime-i;a=r.trimEnd-t}"video"===n.type||"video"===r.type||"image"===r.type?t.video.push(c(c({},r),{},{clipTime:a,trackMuted:n.muted})):t.audio.push(c(c({},r),{},{clipTime:a,trackMuted:n.muted}))}})}),t})();for(const e of r.video){let r=x.current[e.id];if(r||("image"===e.type?(r=new _i,r.src=e.url,r.crossOrigin="anonymous",x.current[e.id]=r):(r=document.createElement("video"),r.src=e.url,r.muted=!0,r.preload="auto",r.crossOrigin="anonymous",r.playsInline=!0,x.current[e.id]=r,r.load())),"video"===e.type){if(a)if(e.reversed){Math.abs(r.currentTime-e.clipTime)>.1&&(r.currentTime=e.clipTime),r.paused||r.pause()}else r.paused&&r.play().catch(e=>console.log("Video play error:",e));else{Math.abs(r.currentTime-e.clipTime)>.1&&(r.currentTime=e.clipTime),r.paused||r.pause()}if(r.readyState>=r.HAVE_CURRENT_DATA)try{n.save();let i=1,a=1,o=0,s=0;e.mirrorH&&(i=-1,o=t.width),e.mirrorV&&(a=-1,s=t.height),0===o&&0===s||n.translate(o,s),1===i&&1===a||n.scale(i,a),n.globalAlpha=e.opacity,n.drawImage(r,0,0,t.width,t.height),n.globalAlpha=1,n.restore()}catch(i){console.warn("Error drawing video frame:",i)}}else if("image"===e.type&&r.complete&&r.naturalWidth>0)try{n.save();let i=1,a=1,o=0,s=0;e.mirrorH&&(i=-1,o=t.width),e.mirrorV&&(a=-1,s=t.height),0===o&&0===s||n.translate(o,s),1===i&&1===a||n.scale(i,a),n.globalAlpha=e.opacity,n.drawImage(r,0,0,t.width,t.height),n.globalAlpha=1,n.restore()}catch(i){console.warn("Error drawing image:",i)}}r.audio.forEach(e=>{let t=w.current[e.id];t||(t=new Audio(e.url),t.volume=e.volume*s*(u||e.trackMuted?0:1),t.preload="auto",w.current[e.id]=t),t.volume=e.volume*s*(u||e.trackMuted?0:1),!a||e.trackMuted||u?t.paused||t.pause():t.paused&&t.play().catch(e=>console.log("Audio play error:",e))})};(0,r.useEffect)(()=>{if(a){const n=Date.now(),r=e.currentTime,i=()=>{const a=(Date.now()-n)/1e3,s=r+a;if(s>=e.duration)return o(!1),void t(e=>c(c({},e),{},{currentTime:0}));t(e=>c(c({},e),{},{currentTime:s})),k.current=requestAnimationFrame(i)};return i(),()=>{k.current&&cancelAnimationFrame(k.current)}}Object.values(x.current).forEach(e=>{e.pause&&!e.paused&&e.pause()}),Object.values(w.current).forEach(e=>{e.paused||e.pause()})},[a,e.duration]),(0,r.useEffect)(()=>{let e;const t=()=>{j(),a&&(e=requestAnimationFrame(t))};return t(),()=>{e&&cancelAnimationFrame(e)}},[m,s,u,a,e.currentTime]);const C=n=>{t(c(c({},e),{},{currentTime:Math.max(0,Math.min(n,e.duration))}))},E=e=>{const t=Math.floor(e/60),n=Math.floor(e%60),r=Math.floor(e%1*10);return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),".").concat(r)};(0,r.useEffect)(()=>{let e=0;m.forEach(t=>{t.clips.forEach(t=>{const n=t.startTime+t.duration;n>e&&(e=n)})}),t(t=>c(c({},t),{},{duration:Math.max(e,30)}))},[m]);return(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"#1a1a1a",color:"white",fontFamily:"system-ui, -apple-system, sans-serif"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:"#2a2a2a",borderBottom:"1px solid #3a3a3a"},children:[(0,ui.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[(0,ui.jsx)(Va,{size:24,color:"#3b82f6"}),(0,ui.jsx)("input",{value:e.name,onChange:n=>t(c(c({},e),{},{name:n.target.value})),style:{background:"transparent",border:"none",color:"white",fontSize:"16px",fontWeight:"600",outline:"none",width:"200px"}})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,ui.jsxs)("button",{style:ao,children:[(0,ui.jsx)(Oi,{size:18}),"Save"]}),(0,ui.jsxs)("button",{onClick:async()=>{p(!0),g(0);const n=v.current.captureStream(30);m.forEach(e=>{"audio"!==e.type||e.muted||e.clips.forEach(e=>{new Audio(e.url).captureStream().getAudioTracks().forEach(e=>{n.addTrack(e)})})});const r=new MediaRecorder(n,{mimeType:"video/webm;codecs=vp9",videoBitsPerSecond:25e5}),i=[];r.ondataavailable=e=>{e.data.size>0&&i.push(e.data)},r.onstop=()=>{const t=new Blob(i,{type:"video/webm"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="".concat(e.name,".webm"),r.click(),p(!1),g(0)},r.start();const a=e.currentTime;t(e=>c(c({},e),{},{currentTime:0})),o(!0);const s=1e3*e.duration,l=setInterval(()=>{g(e=>{const t=e+100/(s/100);return Math.min(t,100)})},100);setTimeout(()=>{clearInterval(l),o(!1),r.stop(),t(e=>c(c({},e),{},{currentTime:a})),g(100)},s)},disabled:h,style:c(c({},ao),{},{background:h?"#666":"#10b981",cursor:h?"not-allowed":"pointer"}),children:[h?(0,ui.jsx)(to,{size:18,className:"spin"}):(0,ui.jsx)(la,{size:18}),h?"Exporting ".concat(Math.round(f),"%"):"Export"]})]})]}),(0,ui.jsxs)("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[(0,ui.jsxs)("div",{style:{width:"250px",background:"#252525",borderRight:"1px solid #3a3a3a",display:"flex",flexDirection:"column"},children:[(0,ui.jsx)("div",{style:{padding:"12px 16px",borderBottom:"1px solid #3a3a3a",fontWeight:"600"},children:"Media Library"}),(0,ui.jsxs)("div",{style:{padding:"12px",flex:1,overflow:"auto"},children:[(0,ui.jsxs)("label",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",padding:"24px",border:"2px dashed #4a4a4a",borderRadius:"8px",cursor:"pointer",background:"#2a2a2a",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#333",onMouseLeave:e=>e.currentTarget.style.background="#2a2a2a",children:[(0,ui.jsx)(Ki,{size:32,color:"#3b82f6"}),(0,ui.jsx)("span",{style:{fontSize:"14px",color:"#999"},children:"Upload Media"}),(0,ui.jsx)("input",{type:"file",multiple:!0,accept:"video/*,audio/*,image/*",style:{display:"none"},onChange:e=>_(e,"video-1")})]}),(0,ui.jsxs)("div",{style:{marginTop:"16px"},children:[(0,ui.jsx)("div",{style:{fontSize:"12px",color:"#999",marginBottom:"8px"},children:"Uploaded Files"}),(0,ui.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:m.flatMap(e=>e.clips).map(e=>(0,ui.jsx)("div",{style:{padding:"8px",background:(null===n||void 0===n?void 0:n.id)===e.id?"#3b82f6":"#2a2a2a",borderRadius:"4px",fontSize:"12px",cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClick:()=>i(e),children:e.name},e.id))})]})]})]}),(0,ui.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,ui.jsxs)("div",{style:{height:"50%",background:"#000",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",borderBottom:"1px solid #3a3a3a"},children:[(0,ui.jsx)("canvas",{ref:v,width:1920,height:1080,style:{width:"80%",maxWidth:"800px",height:"auto",borderRadius:"8px",border:"2px solid #3a3a3a",background:"#000"}}),(0,ui.jsxs)("div",{style:{position:"absolute",bottom:"20px",right:"20px",background:"rgba(0, 0, 0, 0.8)",padding:"8px 16px",borderRadius:"6px",fontFamily:"monospace",fontSize:"16px",fontWeight:"bold"},children:[E(e.currentTime)," / ",E(e.duration)]})]}),(0,ui.jsxs)("div",{style:{padding:"12px 24px",background:"#2a2a2a",borderBottom:"1px solid #3a3a3a",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ui.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,ui.jsx)("button",{onClick:()=>C(e.currentTime-1),style:oo,children:(0,ui.jsx)(pa,{size:18})}),(0,ui.jsx)("button",{onClick:()=>{o(!a)},disabled:h,style:c(c({},oo),{},{background:h?"#666":"#3b82f6",width:"44px",height:"44px"}),children:a?(0,ui.jsx)(fa,{size:22}):(0,ui.jsx)(ji,{size:22})}),(0,ui.jsx)("button",{onClick:()=>C(e.currentTime+1),style:oo,children:(0,ui.jsx)(ga,{size:18})}),(0,ui.jsxs)("div",{style:{marginLeft:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,ui.jsx)("button",{onClick:()=>d(!u),style:oo,children:u?(0,ui.jsx)(ya,{size:18}):(0,ui.jsx)(va,{size:18})}),(0,ui.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:u?0:s,onChange:e=>{l(parseFloat(e.target.value)),parseFloat(e.target.value)>0&&d(!1)},style:{width:"100px"}}),(0,ui.jsxs)("span",{style:{fontSize:"12px",color:"#999",minWidth:"35px"},children:[Math.round(100*s),"%"]})]})]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,ui.jsx)("span",{style:{fontSize:"13px",color:"#999"},children:"Zoom:"}),(0,ui.jsx)("button",{onClick:()=>t(c(c({},e),{},{zoom:Math.max(.5,e.zoom-.25)})),style:oo,children:(0,ui.jsx)(ia,{size:16})}),(0,ui.jsxs)("span",{style:{fontSize:"12px",color:"#999",minWidth:"40px",textAlign:"center"},children:[Math.round(100*e.zoom),"%"]}),(0,ui.jsx)("button",{onClick:()=>t(c(c({},e),{},{zoom:Math.min(3,e.zoom+.25)})),style:oo,children:(0,ui.jsx)(aa,{size:16})})]})]}),(0,ui.jsxs)("div",{style:{flex:1,background:"#1e1e1e",overflow:"auto",position:"relative"},children:[(0,ui.jsx)("div",{style:{position:"sticky",top:0,background:"#252525",borderBottom:"1px solid #3a3a3a",zIndex:10,padding:"8px 12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,ui.jsx)("div",{style:{fontWeight:"600",fontSize:"13px"},children:"Timeline"})}),(0,ui.jsxs)("div",{style:{height:"30px",background:"#2a2a2a",borderBottom:"1px solid #3a3a3a",position:"relative",cursor:"pointer"},onClick:t=>{const n=t.currentTarget.getBoundingClientRect(),r=(t.clientX-n.left)/n.width;C(r*e.duration)},children:[Array.from({length:Math.ceil(e.duration)+1}).map((t,n)=>(0,ui.jsx)("div",{style:{position:"absolute",left:"".concat(n/e.duration*100,"%"),height:"100%",borderLeft:"1px solid #4a4a4a",paddingLeft:"4px",fontSize:"11px",color:"#999",pointerEvents:"none"},children:E(n)},n)),(0,ui.jsx)("div",{style:{position:"absolute",left:"".concat(e.currentTime/e.duration*100,"%"),top:0,bottom:0,width:"2px",background:"#ef4444",zIndex:5,pointerEvents:"none"},children:(0,ui.jsx)("div",{style:{width:"14px",height:"14px",background:"#ef4444",borderRadius:"2px",transform:"translateX(-6px)",marginTop:"-2px"}})})]}),(0,ui.jsx)("div",{children:m.map((t,r)=>(0,ui.jsxs)("div",{style:{display:"flex",borderBottom:"1px solid #3a3a3a",minHeight:"80px",background:r%2===0?"#1e1e1e":"#1a1a1a"},children:[(0,ui.jsxs)("div",{style:{width:"150px",padding:"12px",background:"#252525",borderRight:"1px solid #3a3a3a",display:"flex",flexDirection:"column",gap:"8px"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:["video"===t.type?(0,ui.jsx)(Va,{size:16}):(0,ui.jsx)(ha,{size:16}),(0,ui.jsx)("span",{style:{fontSize:"13px",fontWeight:"500"},children:t.name})]}),(0,ui.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",background:"#2a2a2a",borderRadius:"4px",fontSize:"11px",cursor:"pointer",border:"1px solid #3a3a3a"},children:[(0,ui.jsx)(no,{size:12}),"Add",(0,ui.jsx)("input",{type:"file",multiple:!0,accept:"video"===t.type?"video/*,image/*":"audio/*",style:{display:"none"},onChange:e=>_(e,t.id)})]}),(0,ui.jsx)("button",{onClick:()=>{y(m.map(e=>e.id===t.id?c(c({},e),{},{muted:!e.muted}):e))},style:{padding:"4px 8px",background:t.muted?"#ef4444":"#2a2a2a",border:"1px solid #3a3a3a",borderRadius:"4px",color:"white",cursor:"pointer",fontSize:"11px"},children:t.muted?"Unmute":"Mute"})]}),(0,ui.jsx)("div",{style:{flex:1,position:"relative",padding:"8px 0"},children:t.clips.map(r=>{const a=r.duration/e.duration*100,o=r.startTime/e.duration*100,s=(null===n||void 0===n?void 0:n.id)===r.id;return(0,ui.jsxs)("div",{onClick:()=>i(r),style:{position:"absolute",left:"".concat(o,"%"),width:"".concat(a,"%"),height:"64px",background:"video"===t.type?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"linear-gradient(135deg, #10b981 0%, #059669 100%)",borderRadius:"4px",border:s?"2px solid #fbbf24":"1px solid rgba(0, 0, 0, 0.3)",cursor:"pointer",overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",transition:"all 0.2s",opacity:t.muted?.5:1},children:[(0,ui.jsx)("div",{style:{padding:"8px",fontSize:"12px",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.name}),s&&(0,ui.jsxs)("div",{style:{position:"absolute",top:"4px",right:"4px",display:"flex",gap:"4px"},children:[(0,ui.jsx)("button",{onClick:n=>{n.stopPropagation(),((t,n)=>{const r=e.currentTime-n.startTime;if(r<=0||r>=n.duration)return;const i=c(c({},n),{},{duration:r,trimEnd:n.trimStart+r}),a=c(c({},n),{},{id:"clip-".concat(Date.now(),"-").concat(Math.random()),startTime:n.startTime+r,duration:n.duration-r,trimStart:n.trimStart+r});y(m.map(e=>e.id===t?c(c({},e),{},{clips:e.clips.map(e=>e.id===n.id?i:e).concat(a)}):e))})(t.id,r)},style:so,title:"Split",children:(0,ui.jsx)(ro,{size:12})}),(0,ui.jsx)("button",{onClick:e=>{e.stopPropagation(),((e,t)=>{const n=c(c({},t),{},{id:"clip-".concat(Date.now(),"-").concat(Math.random()),startTime:t.startTime+t.duration});y(m.map(t=>t.id===e?c(c({},t),{},{clips:[...t.clips,n]}):t))})(t.id,r)},style:so,title:"Duplicate",children:(0,ui.jsx)(Ui,{size:12})}),(0,ui.jsx)("button",{onClick:e=>{var a,o;e.stopPropagation(),a=t.id,o=r.id,y(m.map(e=>e.id===a?c(c({},e),{},{clips:e.clips.filter(e=>e.id!==o)}):e)),(null===n||void 0===n?void 0:n.id)===o&&i(null)},style:c(c({},so),{},{background:"#ef4444"}),title:"Delete",children:(0,ui.jsx)(io,{size:12})})]}),(0,ui.jsxs)("div",{style:{position:"absolute",bottom:"4px",left:"8px",display:"flex",gap:"6px",alignItems:"center"},children:[(0,ui.jsx)("span",{style:{fontSize:"10px",opacity:.8},children:E(r.duration)}),r.reversed&&(0,ui.jsx)("span",{style:{fontSize:"10px",background:"rgba(0,0,0,0.5)",padding:"2px 4px",borderRadius:"2px"},children:"\u23ee"}),r.mirrorH&&(0,ui.jsx)("span",{style:{fontSize:"10px",background:"rgba(0,0,0,0.5)",padding:"2px 4px",borderRadius:"2px"},children:"\u2194"}),r.mirrorV&&(0,ui.jsx)("span",{style:{fontSize:"10px",background:"rgba(0,0,0,0.5)",padding:"2px 4px",borderRadius:"2px"},children:"\u2195"})]})]},r.id)})})]},t.id))})]})]}),(0,ui.jsxs)("div",{style:{width:"280px",background:"#252525",borderLeft:"1px solid #3a3a3a",display:"flex",flexDirection:"column",overflow:"auto"},children:[(0,ui.jsx)("div",{style:{padding:"12px 16px",borderBottom:"1px solid #3a3a3a",fontWeight:"600"},children:"Properties"}),(0,ui.jsx)("div",{style:{padding:"16px"},children:n?(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{fontSize:"12px",color:"#999",display:"block",marginBottom:"6px"},children:"Clip Name"}),(0,ui.jsx)("input",{value:n.name,readOnly:!0,style:{width:"100%",padding:"8px",background:"#2a2a2a",border:"1px solid #3a3a3a",borderRadius:"4px",color:"white",fontSize:"13px"}})]}),(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{fontSize:"12px",color:"#999",display:"block",marginBottom:"6px"},children:"Duration"}),(0,ui.jsx)("div",{style:{padding:"8px",background:"#2a2a2a",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"13px"},children:E(n.duration)})]}),"audio"===n.type&&(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{fontSize:"12px",color:"#999",display:"block",marginBottom:"6px"},children:"Clip Volume"}),(0,ui.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:n.volume,onChange:e=>{const t=parseFloat(e.target.value);y(m.map(e=>c(c({},e),{},{clips:e.clips.map(e=>e.id===n.id?c(c({},e),{},{volume:t}):e)}))),i(c(c({},n),{},{volume:t}))},style:{width:"100%"}}),(0,ui.jsxs)("div",{style:{textAlign:"center",fontSize:"12px",color:"#999",marginTop:"4px"},children:[Math.round(100*n.volume),"%"]})]}),("video"===n.type||"image"===n.type)&&(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{fontSize:"12px",color:"#999",display:"block",marginBottom:"6px"},children:"Opacity"}),(0,ui.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:n.opacity,onChange:e=>{const t=parseFloat(e.target.value);y(m.map(e=>c(c({},e),{},{clips:e.clips.map(e=>e.id===n.id?c(c({},e),{},{opacity:t}):e)}))),i(c(c({},n),{},{opacity:t}))},style:{width:"100%"}}),(0,ui.jsxs)("div",{style:{textAlign:"center",fontSize:"12px",color:"#999",marginTop:"4px"},children:[Math.round(100*n.opacity),"%"]})]}),(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{fontSize:"12px",color:"#999",display:"block",marginBottom:"6px"},children:"Position"}),(0,ui.jsxs)("div",{style:{padding:"8px",background:"#2a2a2a",border:"1px solid #3a3a3a",borderRadius:"4px",fontSize:"13px"},children:["Start: ",E(n.startTime)]})]}),("video"===n.type||"image"===n.type)&&(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{fontSize:"12px",color:"#999",display:"block",marginBottom:"10px"},children:"Transform Effects"}),(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[(0,ui.jsxs)("button",{onClick:()=>(e=>{const t=!e.reversed;y(m.map(n=>c(c({},n),{},{clips:n.clips.map(n=>n.id===e.id?c(c({},n),{},{reversed:t}):n)}))),i(c(c({},e),{},{reversed:t}))})(n),style:{padding:"8px 12px",background:n.reversed?"#3b82f6":"#2a2a2a",border:"1px solid #3a3a3a",borderRadius:"4px",color:"white",cursor:"pointer",fontSize:"13px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[(0,ui.jsx)("span",{children:"\u23ee"}),"Reverse Playback",n.reversed&&(0,ui.jsx)("span",{style:{marginLeft:"auto",fontSize:"11px"},children:"\u2713"})]}),(0,ui.jsxs)("button",{onClick:()=>(e=>{const t=!e.mirrorH;y(m.map(n=>c(c({},n),{},{clips:n.clips.map(n=>n.id===e.id?c(c({},n),{},{mirrorH:t}):n)}))),i(c(c({},e),{},{mirrorH:t}))})(n),style:{padding:"8px 12px",background:n.mirrorH?"#3b82f6":"#2a2a2a",border:"1px solid #3a3a3a",borderRadius:"4px",color:"white",cursor:"pointer",fontSize:"13px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[(0,ui.jsx)("span",{children:"\u2194"}),"Mirror Horizontal",n.mirrorH&&(0,ui.jsx)("span",{style:{marginLeft:"auto",fontSize:"11px"},children:"\u2713"})]}),(0,ui.jsxs)("button",{onClick:()=>(e=>{const t=!e.mirrorV;y(m.map(n=>c(c({},n),{},{clips:n.clips.map(n=>n.id===e.id?c(c({},n),{},{mirrorV:t}):n)}))),i(c(c({},e),{},{mirrorV:t}))})(n),style:{padding:"8px 12px",background:n.mirrorV?"#3b82f6":"#2a2a2a",border:"1px solid #3a3a3a",borderRadius:"4px",color:"white",cursor:"pointer",fontSize:"13px",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[(0,ui.jsx)("span",{children:"\u2195"}),"Mirror Vertical",n.mirrorV&&(0,ui.jsx)("span",{style:{marginLeft:"auto",fontSize:"11px"},children:"\u2713"})]})]})]})]}):(0,ui.jsx)("div",{style:{textAlign:"center",color:"#666",padding:"40px 20px",fontSize:"13px"},children:"Select a clip to view properties"})})]})]}),(0,ui.jsx)("style",{children:"\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n          .spin {\n            animation: spin 1s linear infinite;\n          }\n        "})]})},co=y("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),uo=y("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ho=y("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),po=y("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),fo=y("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),go=y("mic-off",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]]),mo=y("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),yo=()=>{const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(0),[d,h]=(0,r.useState)(!0),[p,f]=(0,r.useState)(!1),[g,m]=(0,r.useState)({startStop:"Alt+R",pause:"Alt+P"}),[y,v]=(0,r.useState)(0),b=(0,r.useRef)(null),x=(0,r.useRef)(null),w=(0,r.useRef)(null),k=(0,r.useRef)([]);(0,r.useEffect)(()=>{const t=t=>{t.altKey&&"r"===t.key&&(t.preventDefault(),e?j():S()),t.altKey&&"p"===t.key&&(t.preventDefault(),e&&!n?C():e&&n&&E())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,n]),(0,r.useEffect)(()=>(e&&!n?w.current=setInterval(()=>{u(e=>e+1)},1e3):w.current&&clearInterval(w.current),()=>{w.current&&clearInterval(w.current)}),[e,n]);const S=()=>{v(3);const e=setInterval(()=>{v(t=>t<=1?(clearInterval(e),setTimeout(()=>{v(0),_()},1e3),0):t-1)},1e3)},_=async()=>{try{let n=[...(await navigator.mediaDevices.getDisplayMedia({video:{mediaSource:"screen",width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!1})).getTracks()];if(d)try{const e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});n=[...n,...e.getTracks()]}catch(e){console.log("Audio not available:",e)}const r=new MediaStream(n);x.current=r;const i={mimeType:"video/webm;codecs=vp9",videoBitsPerSecond:25e5};MediaRecorder.isTypeSupported(i.mimeType)||(i.mimeType="video/webm;codecs=vp8");const a=new MediaRecorder(r,i);b.current=a,k.current=[],a.ondataavailable=e=>{e.data.size>0&&k.current.push(e.data)},a.onstop=()=>{const e=new Blob(k.current,{type:"video/webm"});T(e),x.current&&x.current.getTracks().forEach(e=>e.stop())},a.start(100),t(!0),u(0)}catch(n){console.error("Error starting recording:",n),alert("Failed to start recording. Please make sure you granted screen capture permissions.")}},j=()=>{b.current&&e&&(b.current.stop(),t(!1),i(!1),u(0))},C=()=>{b.current&&"recording"===b.current.state&&(b.current.pause(),i(!0))},E=()=>{b.current&&"paused"===b.current.state&&(b.current.resume(),i(!1))},T=async e=>{const t={id:Date.now(),blob:e,url:URL.createObjectURL(e),duration:c,timestamp:(new Date).toLocaleString(),size:(e.size/1048576).toFixed(2)};l(e=>[t,...e])},R=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))};return(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",fontFamily:"system-ui, -apple-system, sans-serif"},children:[y>0&&(0,ui.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,fontSize:"120px",fontWeight:"700",animation:"pulse 1s ease-in-out"},children:y}),(0,ui.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",background:"rgba(0, 0, 0, 0.2)"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,ui.jsx)(co,{size:32}),(0,ui.jsx)("h1",{style:{fontSize:"24px",fontWeight:"700",margin:0},children:"Screen Recorder"})]}),(0,ui.jsx)("button",{onClick:()=>f(!p),style:{padding:"10px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:(0,ui.jsx)(uo,{size:20})})]}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",padding:"24px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px"},children:[e?(0,ui.jsxs)(ui.Fragment,{children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"32px",fontWeight:"700",padding:"12px 24px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"12px"},children:[(0,ui.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:n?"#f59e0b":"#ef4444",animation:n?"none":"blink 1s infinite"}}),R(c)]}),(0,ui.jsxs)("button",{onClick:n?E:C,style:{padding:"12px 24px",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"10px",color:"white",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[n?(0,ui.jsx)(ji,{size:20}):(0,ui.jsx)(fa,{size:20}),n?"Resume (Alt+P)":"Pause (Alt+P)"]}),(0,ui.jsxs)("button",{onClick:j,style:{padding:"12px 24px",background:"#ef4444",border:"none",borderRadius:"10px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,ui.jsx)(po,{size:20}),"Stop (Alt+R)"]})]}):(0,ui.jsxs)("button",{onClick:S,style:{padding:"16px 32px",background:"#ef4444",border:"none",borderRadius:"12px",color:"white",fontSize:"18px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 20px rgba(239, 68, 68, 0.4)"},children:[(0,ui.jsx)(ho,{size:24}),"Start Recording (Alt+R)"]}),(0,ui.jsx)("button",{onClick:()=>h(!d),style:{padding:"12px",background:d?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)",border:"none",borderRadius:"10px",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},title:d?"Microphone On":"Microphone Off",children:d?(0,ui.jsx)(fo,{size:20}):(0,ui.jsx)(go,{size:20})})]}),p&&(0,ui.jsxs)("div",{style:{marginTop:"16px",padding:"16px",background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px"},children:[(0,ui.jsx)("h3",{style:{fontSize:"16px",marginBottom:"12px",fontWeight:"600"},children:"Keyboard Shortcuts"}),(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"14px"},children:[(0,ui.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,ui.jsx)("span",{children:"Start/Stop Recording:"}),(0,ui.jsx)("kbd",{style:{padding:"4px 8px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",fontFamily:"monospace"},children:"Alt + R"})]}),(0,ui.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,ui.jsx)("span",{children:"Pause/Resume:"}),(0,ui.jsx)("kbd",{style:{padding:"4px 8px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"4px",fontFamily:"monospace"},children:"Alt + P"})]})]})]})]}),(0,ui.jsxs)("div",{style:{flex:1,padding:"24px",overflowY:"auto"},children:[(0,ui.jsxs)("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px"},children:["Recordings (",s.length,")"]}),0===s.length?(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px",textAlign:"center",opacity:.6},children:[(0,ui.jsx)(co,{size:64,style:{marginBottom:"16px"}}),(0,ui.jsx)("p",{style:{fontSize:"16px"},children:"No recordings yet"}),(0,ui.jsx)("p",{style:{fontSize:"14px",marginTop:"8px"},children:"Press Alt+R or click the button above to start"})]}):(0,ui.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"16px"},children:s.map(e=>(0,ui.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"12px",overflow:"hidden",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,ui.jsx)("video",{src:e.url,controls:!0,style:{width:"100%",height:"180px",objectFit:"cover",background:"#000"}}),(0,ui.jsxs)("div",{style:{padding:"12px"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",marginBottom:"8px",opacity:.8},children:[(0,ui.jsx)(mo,{size:14}),(0,ui.jsx)("span",{children:e.timestamp})]}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"14px"},children:[(0,ui.jsxs)("span",{children:[R(e.duration)," \u2022 ",e.size," MB"]}),(0,ui.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,ui.jsx)("button",{onClick:()=>(e=>{const t=document.createElement("a");t.href=e.url,t.download="screen-recording-".concat(e.id,".webm"),document.body.appendChild(t),t.click(),document.body.removeChild(t)})(e),style:{padding:"8px",background:"rgba(34, 197, 94, 0.3)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",display:"flex",alignItems:"center"},title:"Download",children:(0,ui.jsx)(la,{size:16})}),(0,ui.jsx)("button",{onClick:()=>{return t=e.id,void l(e=>{const n=e.find(e=>e.id===t);return n&&URL.revokeObjectURL(n.url),e.filter(e=>e.id!==t)});var t},style:{padding:"8px",background:"rgba(239, 68, 68, 0.3)",border:"none",borderRadius:"6px",color:"white",cursor:"pointer",display:"flex",alignItems:"center"},title:"Delete",children:(0,ui.jsx)(io,{size:16})})]})]})]})]},e.id))})]}),(0,ui.jsx)("style",{children:"\n          @keyframes blink {\n            0%, 100% { opacity: 1; }\n            50% { opacity: 0.3; }\n          }\n          @keyframes pulse {\n            0%, 100% { transform: scale(1); }\n            50% { transform: scale(1.1); }\n          }\n        "})]})},vo=20,bo=10;function xo(e){let t="",n=e+1;for(;n>0;){const e=(n-1)%26;t=String.fromCharCode(65+e)+t,n=Math.floor((n-1)/26)}return t}const wo={background:"#222",border:"1px solid #444",color:"#ffb366",padding:"4px 10px",borderRadius:4,cursor:"pointer",fontSize:12};function ko(e,t){return e>=0&&e<8&&t>=0&&t<8}function So(e,t,n,r){return e[t][n]&&e[t][n][0]!==r}function _o(e,t,n){return!e[t][n]}function jo(e,t,n,r){const i=[],a=[[1,0],[-1,0],[0,1],[0,-1]];for(const[o,s]of a){let a=t+o,l=n+s;for(;ko(a,l);){if(!_o(e,a,l)){So(e,a,l,r)&&i.push({row:a,col:l});break}i.push({row:a,col:l}),a+=o,l+=s}}return i}function Co(e,t,n,r){const i=[],a=[[1,1],[1,-1],[-1,1],[-1,-1]];for(const[o,s]of a){let a=t+o,l=n+s;for(;ko(a,l);){if(!_o(e,a,l)){So(e,a,l,r)&&i.push({row:a,col:l});break}i.push({row:a,col:l}),a+=o,l+=s}}return i}function Eo(e,t,n){const r=e[t][n];if(!r)return[];const i=r[0];switch(r[1]){case"P":return function(e,t,n,r){const i="w"===r?-1:1,a="w"===r?6:1,o=[];ko(t+i,n)&&_o(e,t+i,n)&&o.push({row:t+i,col:n}),t===a&&_o(e,t+i,n)&&_o(e,t+2*i,n)&&o.push({row:t+2*i,col:n});for(const s of[-1,1]){const a=t+i,l=n+s;ko(a,l)&&So(e,a,l,r)&&o.push({row:a,col:l})}return o}(e,t,n,i);case"R":return jo(e,t,n,i);case"N":return function(e,t,n,r){const i=[],a=[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]];for(const[o,s]of a){const a=t+o,l=n+s;ko(a,l)&&(_o(e,a,l)||So(e,a,l,r))&&i.push({row:a,col:l})}return i}(e,t,n,i);case"B":return Co(e,t,n,i);case"Q":return function(e,t,n,r){return[...jo(e,t,n,r),...Co(e,t,n,r)]}(e,t,n,i);case"K":return function(e,t,n,r){const i=[],a=[[1,0],[-1,0],[0,1],[0,-1],[1,1],[1,-1],[-1,1],[-1,-1]];for(const[o,s]of a){const a=t+o,l=n+s;ko(a,l)&&(_o(e,a,l)||So(e,a,l,r))&&i.push({row:a,col:l})}return i}(e,t,n,i);default:return[]}}const To={wP:"\u2659",wR:"\u2656",wN:"\u2658",wB:"\u2657",wQ:"\u2655",wK:"\u2654",bP:"\u265f\ufe0e",bR:"\u265c",bN:"\u265e",bB:"\u265d",bQ:"\u265b",bK:"\u265a"};function Ro(e){let{piece:t}=e;return t?(0,ui.jsx)("div",{className:"piece",children:To[t]}):null}function Oo(e){let{row:t,col:n,piece:r,selected:i,legal:a,onClick:o}=e;let s="square ";return s+=(t+n)%2===1?"dark ":"light ",i&&(s+="selected "),a&&(s+="legal "),(0,ui.jsx)("div",{className:s,onClick:o,children:(0,ui.jsx)(Ro,{piece:r})})}function Po(e){let{board:t,selected:n,legalMoves:r,onSquareClick:i}=e;return(0,ui.jsx)("div",{className:"chess-board",children:t.map((e,t)=>e.map((e,a)=>{const o=n&&n.row===t&&n.col===a,s=r.some(e=>e.row===t&&e.col===a);return(0,ui.jsx)(Oo,{row:t,col:a,piece:e,selected:o,legal:s,onClick:()=>i(t,a)},"".concat(t,"-").concat(a))}))})}function zo(e){let{turn:t,history:n,restart:r}=e;return(0,ui.jsxs)("div",{className:"chess-sidebar",children:[(0,ui.jsxs)("div",{className:"sidebar-section turn-indicator",children:[(0,ui.jsx)("div",{className:"label",children:"Turn"}),(0,ui.jsx)("div",{className:"value",children:"w"===t?"White":"Black"})]}),(0,ui.jsxs)("div",{className:"sidebar-section move-history",children:[(0,ui.jsx)("div",{className:"label",children:"Moves"}),(0,ui.jsxs)("div",{className:"history-list",children:[0===n.length&&(0,ui.jsx)("div",{className:"empty",children:"No moves yet"}),n.map((e,t)=>(0,ui.jsxs)("div",{className:"history-item",children:[t+1,". ",e]},t))]})]}),(0,ui.jsx)("div",{className:"sidebar-section",children:(0,ui.jsx)("button",{className:"restart-btn",onClick:r,children:"Restart Game"})})]})}function Ao(){const[e,t]=(0,r.useState)([["bR","bN","bB","bQ","bK","bB","bN","bR"],["bP","bP","bP","bP","bP","bP","bP","bP"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["wP","wP","wP","wP","wP","wP","wP","wP"],["wR","wN","wB","wQ","wK","wB","wN","wR"]]),[n,i]=(0,r.useState)("w"),[a,o]=(0,r.useState)(null),[s,l]=(0,r.useState)([]),[c,u]=(0,r.useState)([]);return(0,ui.jsxs)("div",{className:"chess-container",children:[(0,ui.jsx)(Po,{board:e,selected:a,legalMoves:s,onSquareClick:(r,d)=>{const h=e[r][d];if(!a&&h&&h[0]===n)return o({row:r,col:d}),void l(Eo(e,r,d));if(a){const h=s.some(e=>e.row===r&&e.col===d);if(h){const{newBoard:o,moveNotation:s}=function(e,t,n){const r=e.map(e=>[...e]),i=r[t.row][t.col];return r[t.row][t.col]=null,r[n.row][n.col]=i,{newBoard:r,moveNotation:"".concat(i," ").concat(t.row,",").concat(t.col," \u2192 ").concat(n.row,",").concat(n.col)}}(e,a,{row:r,col:d});t(o),u([...c,s]),i("w"===n?"b":"w")}o(null),l([])}}}),(0,ui.jsx)(zo,{turn:n,history:c,restart:()=>{t([["bR","bN","bB","bQ","bK","bB","bN","bR"],["bP","bP","bP","bP","bP","bP","bP","bP"],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],["wP","wP","wP","wP","wP","wP","wP","wP"],["wR","wN","wB","wQ","wK","wB","wN","wR"]]),i("w"),o(null),l([]),u([])}})]})}const Io={logo:{icon:"/logo.png",label:"AirOS"},Chess:{Component:function(e){let{windowId:t}=e;return(0,ui.jsx)("div",{className:"chess-app",children:(0,ui.jsx)(Ao,{windowId:t})})},icon:yi,title:"Chess",name:"Chess",defaultSize:{minwidth:1200,minheight:1400},resizable:!1},Codex:{Component:Ha,icon:vi,title:"Codex | IDE",name:"Codex",defaultSize:{minwidth:1800,minheight:1600},resizable:!0},spreadsheet:{Component:function(e){let{rows:t=vo,cols:n=bo,initialData:i={}}=e;const[a,o]=(0,r.useState)(i),[s,l]=(0,r.useState)({row:null,col:null}),u=(0,r.useRef)(null),d=(e,t)=>"".concat(e,",").concat(t),h=(e,t)=>{var n;return null!==(n=a[d(e,t)])&&void 0!==n?n:""},p=(0,r.useMemo)(()=>Array.from({length:n},(e,t)=>xo(t)),[n]);return(0,ui.jsxs)("div",{style:{fontFamily:"system-ui, sans-serif",fontSize:12,background:"#111",color:"#eee",borderRadius:8,border:"1px solid #333",padding:8,display:"inline-block",boxShadow:"0 0 0 1px #ff8800, 0 0 18px rgba(0,0,0,0.7)"},children:[(0,ui.jsxs)("div",{style:{marginBottom:8,display:"flex",gap:8,color:"#ffb366"},children:[(0,ui.jsx)("button",{onClick:()=>{o({})},style:wo,children:"New"}),(0,ui.jsx)("button",{onClick:()=>{var e;null===(e=u.current)||void 0===e||e.click()},style:wo,children:"Open"}),(0,ui.jsx)("button",{onClick:()=>{const e=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="spreadsheet.json",n.click(),URL.revokeObjectURL(t)},style:wo,children:"Save"}),(0,ui.jsx)("button",{onClick:async()=>{try{const e=await window.OS.pickFile({fileTypes:["json"]});if(!e)return;const{content:t}=await window.OS.openFile({path:e.path}),n=JSON.parse(t);o(n)}catch(e){console.error("Cloud open failed:",e),alert("Invalid or unreadable cloud file")}},style:wo,children:"Cloud Open"}),(0,ui.jsx)("button",{onClick:async()=>{try{const e=await window.OS.pickSaveLocation({suggestedName:"spreadsheet.json",fileTypes:["json"]});if(!e)return;await window.OS.saveFile({path:e,content:JSON.stringify(a,null,2)})}catch(e){console.error("Cloud save failed:",e)}},style:wo,children:"Cloud Save"}),(0,ui.jsx)("input",{type:"file",accept:".json",ref:u,onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;const r=new FileReader;r.onload=e=>{try{const t=JSON.parse(e.target.result);o(t)}catch(t){alert("Invalid file format")}},r.readAsText(n)},style:{display:"none"}})]}),(0,ui.jsxs)("div",{style:{marginBottom:6,display:"flex",justifyContent:"space-between",alignItems:"center",color:"#ffb366"},children:[(0,ui.jsx)("span",{style:{fontWeight:600},children:"X\u2011CELL Spreadsheet"}),(0,ui.jsx)("span",{style:{opacity:.7},children:null!=s.row&&null!=s.col?"".concat(xo(s.col)).concat(s.row+1):"\u2014"})]}),(0,ui.jsx)("div",{style:{overflow:"auto",maxHeight:900,maxWidth:900,borderRadius:4,border:"1px solid #333",background:"#181818"},children:(0,ui.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%",tableLayout:"fixed"},children:[(0,ui.jsx)("thead",{children:(0,ui.jsxs)("tr",{children:[(0,ui.jsx)("th",{style:{width:40,background:"#202020",borderRight:"1px solid #333",borderBottom:"1px solid #333"}}),p.map((e,t)=>(0,ui.jsx)("th",{style:{padding:"4px 6px",background:"#202020",borderBottom:"1px solid #333",borderRight:t===p.length-1?"none":"1px solid #333",color:"#ffb366",textAlign:"center",fontWeight:500},children:e},e))]})}),(0,ui.jsx)("tbody",{children:Array.from({length:t}).map((e,t)=>(0,ui.jsxs)("tr",{children:[(0,ui.jsx)("th",{style:{padding:"2px 4px",background:"#202020",borderRight:"1px solid #333",borderBottom:"1px solid #333",textAlign:"right",color:"#888",fontWeight:400,width:40},children:t+1}),Array.from({length:n}).map((e,r)=>{const i=s.row===t&&s.col===r;return(0,ui.jsx)("td",{onClick:()=>l({row:t,col:r}),style:{borderBottom:"1px solid #222",borderRight:r===n-1?"none":"1px solid #222",padding:0,background:i?"#262626":"#181818"},children:(0,ui.jsx)("input",{value:h(t,r),onChange:e=>((e,t,n)=>{const r=d(e,t);o(e=>c(c({},e),{},{[r]:n}))})(t,r,e.target.value),style:{width:"100%",boxSizing:"border-box",border:"none",outline:"none",background:"transparent",color:"#eee",padding:"3px 4px",fontSize:12,fontFamily:"inherit"}})},r)})]},t))})]})})]})},icon:bi,title:"X-Cells | SpreadSheets",name:"X-Cells",defaultSize:{minwidth:1800,minheight:1600},resizable:!0},canvas:{Component:()=>{const[e,t]=(0,r.useState)([{id:crypto.randomUUID(),name:"Layer 1",visible:!0}]),[n,i]=(0,r.useState)(e[0].id),[a,o]=(0,r.useState)("#000000"),[s,l]=(0,r.useState)(4),[u,d]=(0,r.useState)("brush"),h=(0,r.useRef)(null),[p,f]=(0,r.useState)(null),[g,m]=(0,r.useState)(null),y=(0,r.useRef)({}),v=(0,r.useRef)({}),b=()=>{const n={id:crypto.randomUUID(),name:"Layer ".concat(e.length+1),visible:!0};t(e=>[...e,n]),i(n.id)};return(0,ui.jsxs)("div",{style:{display:"flex",height:"100%"},children:[(0,ui.jsx)(Ya,{layers:e,activeLayerId:n,onSelect:i,onAdd:b,onDelete:r=>{if(1!==e.length&&(t(e=>e.filter(e=>e.id!==r)),n===r)){const t=e.filter(e=>e.id!==r);i(t[t.length-1].id)}},onRename:(e,n)=>{t(t=>t.map(t=>t.id===e?c(c({},t),{},{name:n}):t))},onToggleVisibility:e=>{t(t=>t.map(t=>t.id===e?c(c({},t),{},{visible:!t.visible}):t))}}),(0,ui.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,ui.jsx)(Ga,{onCopy:()=>(()=>{if(!p)return;const e=v.current[n].getContext("2d").getImageData(p.x,p.y,p.w,p.h);h.current=e})(),onPaste:()=>(()=>{if(!h.current)return;const e=document.createElement("canvas");e.width=h.current.width,e.height=h.current.height,e.getContext("2d").putImageData(h.current,0,0),m({img:e,x:50,y:50})})(),color:a,size:s,tool:u,onColorChange:o,onSizeChange:l,onToolChange:d,onUndo:()=>{const e=y.current[n];if(e&&e.length>0){const t=e.pop(),r=v.current[n].getContext("2d"),i=new Image;i.src=t,i.onload=()=>{r.clearRect(0,0,r.canvas.width,r.canvas.height),r.drawImage(i,0,0)}}},onAddLayer:b,layers:e,canvasRefs:v}),(0,ui.jsx)(Ja,{layers:e,activeLayerId:n,undoStacks:y,canvasRefs:v,color:a,size:s,tool:u,clipboard:h,selection:p,setSelection:f,pasted:g,setPasted:m})]})]})},icon:xi,title:"Sketchy | Creator Core",name:"Sketchy",defaultSize:{minwidth:1800,minheight:1600},resizable:!0,singleton:!1},text:{Component:Wi,icon:wi,title:"AirWrite | Rich Text Editing",name:"AirWrite"},Breeze:{Component:eo,icon:v,title:"Breeze | Messaging and Circles",name:"Breeze"},FileManager:{Component:ea,icon:ki,title:"File Manager",name:"File Manager"},Converter:{Component:$a,icon:Si,title:"File Crucible | Converter Utility",name:"File Crucible"},image:{Component:da,icon:_i,title:"AfterImage | Photo App & Editor",name:"AfterImage"},video:{Component:wa,icon:ji,title:"AirStream Media Player",name:"Airstream Player"},ReelSmith:{Component:lo,icon:Ci,title:"ReelSmith | Video Editor",name:"ReelSmith"},Browser:{Component:e=>{var t;let{startURL:n}=e;const i=n?Aa(n):za,[a,o]=(0,r.useState)(()=>[Pa(i)]),[s,l]=(0,r.useState)(()=>{var e;return(null===(e=a[0])||void 0===e?void 0:e.id)||null});(0,r.useEffect)(()=>{!s&&a.length>0&&l(a[0].id)},[a,s]);const u=null!==(t=a.find(e=>e.id===s))&&void 0!==t?t:a[0],d=navigator.userAgent.includes("Electron"),h=u?d?(p=u.url,"".concat("http://localhost:5050/proxy?url=").concat(encodeURIComponent(p))):u.url:za;var p;console.log("Effective URL:",h);return u?(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"white"},children:[(0,ui.jsx)(Ra,{tabs:a,activeTabId:s,onSelect:l,onNewTab:()=>{const e=Pa(za);o(t=>[...t,e]),l(e.id)},onCloseTab:e=>{o(t=>{const n=t.filter(t=>t.id!==e);if(0===n.length){const e=Pa(za);return l(e.id),[e]}return e===s&&l(n[n.length-1].id),n})}}),(0,ui.jsx)(Ta,{currentUrl:u.url,onNavigate:e=>((e,t)=>{const n=Aa(t);o(t=>t.map(t=>t.id===e?c(c({},t),{},{url:n}):t)),Ea.add(n)})(u.id,e)}),(0,ui.jsx)(Oa,{url:h})]}):null},icon:Ei,title:"Browser",name:"Browser"},Calendar:{Component:Na,icon:Ti,title:"Calendar",name:"Calendar"},Terminal:{Component:La,icon:Ri,title:"Terminal",name:"Terminal"},ScreenRecord:{Component:yo,icon:ji,title:"Screen Ripper",name:"Screen Ripper"}},No={productivity:{name:"Productivity",icon:"\ud83d\udcbc",apps:["text","FileManager","Converter","Calendar","spreadsheet","Breeze"]},creativity:{name:"Create",icon:"\ud83c\udfa8",apps:["image","video","ReelSmith","canvas","text"]},developertools:{name:"Developer Tools",icon:"###",apps:["Codex","Terminal"]},entertainment:{name:"Entertainment",icon:"\ud83c\udfae",apps:["video","Browser","ScreenRecord","Chess"]}},Lo=[{name:"File Manager",icon:ki,app:"FileManager"},{name:"ReelSmith",icon:Ci,app:"ReelSmith"},{name:"Terminal",icon:Ri,app:"Terminal"},{name:"Codex",icon:vi,app:"Codex"},{name:"File Crucible",icon:Si,app:"Converter"}];function Do(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Mo="-ms-",Uo="-moz-",Fo="-webkit-",Bo="comm",Wo="rule",qo="decl",Ho="@keyframes",Vo=Math.abs,Ko=String.fromCharCode,$o=Object.assign;function Go(e){return e.trim()}function Jo(e,t){return(e=t.exec(e))?e[0]:e}function Yo(e,t,n){return e.replace(t,n)}function Qo(e,t,n){return e.indexOf(t,n)}function Xo(e,t){return 0|e.charCodeAt(t)}function Zo(e,t,n){return e.slice(t,n)}function es(e){return e.length}function ts(e){return e.length}function ns(e,t){return t.push(e),e}function rs(e,t){return e.filter(function(e){return!Jo(e,t)})}var is=1,as=1,os=0,ss=0,ls=0,cs="";function us(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:is,column:as,length:o,return:"",siblings:s}}function ds(e,t){return $o(us("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function hs(e){for(;e.root;)e=ds(e.root,{children:[e]});ns(e,e.siblings)}function ps(){return ls=ss>0?Xo(cs,--ss):0,as--,10===ls&&(as=1,is--),ls}function fs(){return ls=ss<os?Xo(cs,ss++):0,as++,10===ls&&(as=1,is++),ls}function gs(){return Xo(cs,ss)}function ms(){return ss}function ys(e,t){return Zo(cs,e,t)}function vs(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bs(e){return is=as=1,os=es(cs=e),ss=0,[]}function xs(e){return cs="",e}function ws(e){return Go(ys(ss-1,_s(91===e?e+2:40===e?e+1:e)))}function ks(e){for(;(ls=gs())&&ls<33;)fs();return vs(e)>2||vs(ls)>3?"":" "}function Ss(e,t){for(;--t&&fs()&&!(ls<48||ls>102||ls>57&&ls<65||ls>70&&ls<97););return ys(e,ms()+(t<6&&32==gs()&&32==fs()))}function _s(e){for(;fs();)switch(ls){case e:return ss;case 34:case 39:34!==e&&39!==e&&_s(ls);break;case 40:41===e&&_s(e);break;case 92:fs()}return ss}function js(e,t){for(;fs()&&e+ls!==57&&(e+ls!==84||47!==gs()););return"/*"+ys(t,ss-1)+"*"+Ko(47===e?e:fs())}function Cs(e){for(;!vs(gs());)fs();return ys(e,ss)}function Es(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Ts(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case qo:return e.return=e.return||e.value;case Bo:return"";case Ho:return e.return=e.value+"{"+Es(e.children,r)+"}";case Wo:if(!es(e.value=e.props.join(",")))return""}return es(n=Es(e.children,r))?e.return=e.value+"{"+n+"}":""}function Rs(e,t,n){switch(function(e,t){return 45^Xo(e,0)?(((t<<2^Xo(e,0))<<2^Xo(e,1))<<2^Xo(e,2))<<2^Xo(e,3):0}(e,t)){case 5103:return Fo+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return Fo+e+e;case 4855:return Fo+e.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+e;case 4789:return Uo+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Fo+e+Uo+e+Mo+e+e;case 5936:switch(Xo(e,t+11)){case 114:return Fo+e+Mo+Yo(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Fo+e+Mo+Yo(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Fo+e+Mo+Yo(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Fo+e+Mo+e+e;case 6165:return Fo+e+Mo+"flex-"+e+e;case 5187:return Fo+e+Yo(e,/(\w+).+(:[^]+)/,Fo+"box-$1$2"+Mo+"flex-$1$2")+e;case 5443:return Fo+e+Mo+"flex-item-"+Yo(e,/flex-|-self/g,"")+(Jo(e,/flex-|baseline/)?"":Mo+"grid-row-"+Yo(e,/flex-|-self/g,""))+e;case 4675:return Fo+e+Mo+"flex-line-pack"+Yo(e,/align-content|flex-|-self/g,"")+e;case 5548:return Fo+e+Mo+Yo(e,"shrink","negative")+e;case 5292:return Fo+e+Mo+Yo(e,"basis","preferred-size")+e;case 6060:return Fo+"box-"+Yo(e,"-grow","")+Fo+e+Mo+Yo(e,"grow","positive")+e;case 4554:return Fo+Yo(e,/([^-])(transform)/g,"$1"+Fo+"$2")+e;case 6187:return Yo(Yo(Yo(e,/(zoom-|grab)/,Fo+"$1"),/(image-set)/,Fo+"$1"),e,"")+e;case 5495:case 3959:return Yo(e,/(image-set\([^]*)/,Fo+"$1$`$1");case 4968:return Yo(Yo(e,/(.+:)(flex-)?(.*)/,Fo+"box-pack:$3"+Mo+"flex-pack:$3"),/space-between/,"justify")+Fo+e+e;case 4200:if(!Jo(e,/flex-|baseline/))return Mo+"grid-column-align"+Zo(e,t)+e;break;case 2592:case 3360:return Mo+Yo(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(e,n){return t=n,Jo(e.props,/grid-\w+-end/)})?~Qo(e+(n=n[t].value),"span",0)?e:Mo+Yo(e,"-start","")+e+Mo+"grid-row-span:"+(~Qo(n,"span",0)?Jo(n,/\d+/):+Jo(n,/\d+/)-+Jo(e,/\d+/))+";":Mo+Yo(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(e){return Jo(e.props,/grid-\w+-start/)})?e:Mo+Yo(Yo(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Yo(e,/(.+)-inline(.+)/,Fo+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(es(e)-1-t>6)switch(Xo(e,t+1)){case 109:if(45!==Xo(e,t+4))break;case 102:return Yo(e,/(.+:)(.+)-([^]+)/,"$1"+Fo+"$2-$3$1"+Uo+(108==Xo(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Qo(e,"stretch",0)?Rs(Yo(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return Yo(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(t,n,r,i,a,o,s){return Mo+n+":"+r+s+(i?Mo+n+"-span:"+(a?o:+o-+r)+s:"")+e});case 4949:if(121===Xo(e,t+6))return Yo(e,":",":"+Fo)+e;break;case 6444:switch(Xo(e,45===Xo(e,14)?18:11)){case 120:return Yo(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Fo+(45===Xo(e,14)?"inline-":"")+"box$3$1"+Fo+"$2$3$1"+Mo+"$2box$3")+e;case 100:return Yo(e,":",":"+Mo)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Yo(e,"scroll-","scroll-snap-")+e}return e}function Os(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case qo:return void(e.return=Rs(e.value,e.length,n));case Ho:return Es([ds(e,{value:Yo(e.value,"@","@"+Fo)})],r);case Wo:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,function(t){switch(Jo(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":hs(ds(e,{props:[Yo(t,/:(read-\w+)/,":-moz-$1")]})),hs(ds(e,{props:[t]})),$o(e,{props:rs(n,r)});break;case"::placeholder":hs(ds(e,{props:[Yo(t,/:(plac\w+)/,":"+Fo+"input-$1")]})),hs(ds(e,{props:[Yo(t,/:(plac\w+)/,":-moz-$1")]})),hs(ds(e,{props:[Yo(t,/:(plac\w+)/,Mo+"input-$1")]})),hs(ds(e,{props:[t]})),$o(e,{props:rs(n,r)})}return""})}}function Ps(e){return xs(zs("",null,null,null,[""],e=bs(e),0,[0],e))}function zs(e,t,n,r,i,a,o,s,l){for(var c=0,u=0,d=o,h=0,p=0,f=0,g=1,m=1,y=1,v=0,b="",x=i,w=a,k=r,S=b;m;)switch(f=v,v=fs()){case 40:if(108!=f&&58==Xo(S,d-1)){-1!=Qo(S+=Yo(ws(v),"&","&\f"),"&\f",Vo(c?s[c-1]:0))&&(y=-1);break}case 34:case 39:case 91:S+=ws(v);break;case 9:case 10:case 13:case 32:S+=ks(f);break;case 92:S+=Ss(ms()-1,7);continue;case 47:switch(gs()){case 42:case 47:ns(Is(js(fs(),ms()),t,n,l),l),5!=vs(f||1)&&5!=vs(gs()||1)||!es(S)||" "===Zo(S,-1,void 0)||(S+=" ");break;default:S+="/"}break;case 123*g:s[c++]=es(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+u:-1==y&&(S=Yo(S,/\f/g,"")),p>0&&(es(S)-d||0===g&&47===f)&&ns(p>32?Ns(S+";",r,n,d-1,l):Ns(Yo(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(ns(k=As(S,t,n,c,u,i,s,b,x=[],w=[],d,a),a),123===v)if(0===u)zs(S,t,k,k,x,a,d,s,w);else{switch(h){case 99:if(110===Xo(S,3))break;case 108:if(97===Xo(S,2))break;default:u=0;case 100:case 109:case 115:}u?zs(e,k,k,r&&ns(As(e,k,k,0,0,i,s,b,i,x=[],d,w),w),i,w,d,s,r?x:w):zs(S,k,k,k,[""],w,0,s,w)}}c=u=p=0,g=y=1,b=S="",d=o;break;case 58:d=1+es(S),p=f;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==ps())continue;switch(S+=Ko(v),v*g){case 38:y=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(es(S)-1)*y,y=1;break;case 64:45===gs()&&(S+=ws(fs())),h=gs(),u=d=es(b=S+=Cs(ms())),v++;break;case 45:45===f&&2==es(S)&&(g=0)}}return a}function As(e,t,n,r,i,a,o,s,l,c,u,d){for(var h=i-1,p=0===i?a:[""],f=ts(p),g=0,m=0,y=0;g<r;++g)for(var v=0,b=Zo(e,h+1,h=Vo(m=o[g])),x=e;v<f;++v)(x=Go(m>0?p[v]+" "+b:Yo(b,/&\f/g,p[v])))&&(l[y++]=x);return us(e,t,n,0===i?Wo:s,l,c,u,d)}function Is(e,t,n,r){return us(e,t,n,Bo,Ko(ls),Zo(e,2,-2),0,r)}function Ns(e,t,n,r,i){return us(e,t,n,qo,Zo(e,0,r),Zo(e,r+1,-1),r,i)}var Ls={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ds="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Ms="active",Us="data-styled-version",Fs="6.3.5",Bs="/*!sc*/\n",Ws="undefined"!=typeof window&&"undefined"!=typeof document,qs=void 0===r.createContext,Hs=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/airos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Vs=(new Set,Object.freeze([])),Ks=Object.freeze({});function $s(e,t,n){return void 0===n&&(n=Ks),e.theme!==n.theme&&e.theme||t||n.theme}var Gs=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),Js=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ys=/(^-|-$)/g;function Qs(e){return e.replace(Js,"-").replace(Ys,"")}var Xs=/(a)(d)/gi,Zs=function(e){return String.fromCharCode(e+(e>25?39:97))};function el(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Zs(t%52)+n;return(Zs(t%52)+n).replace(Xs,"$1-$2")}var tl,nl=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},rl=function(e){return nl(5381,e)};function il(e){return el(rl(e)>>>0)}function al(e){return e.displayName||e.name||"Component"}function ol(e){return"string"==typeof e&&!0}var sl="function"==typeof Symbol&&Symbol.for,ll=sl?Symbol.for("react.memo"):60115,cl=sl?Symbol.for("react.forward_ref"):60112,ul={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},dl={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hl={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pl=((tl={})[cl]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tl[ll]=hl,tl);function fl(e){return("type"in(t=e)&&t.type.$$typeof)===ll?hl:"$$typeof"in e?pl[e.$$typeof]:ul;var t}var gl=Object.defineProperty,ml=Object.getOwnPropertyNames,yl=Object.getOwnPropertySymbols,vl=Object.getOwnPropertyDescriptor,bl=Object.getPrototypeOf,xl=Object.prototype;function wl(e,t,n){if("string"!=typeof t){if(xl){var r=bl(t);r&&r!==xl&&wl(e,r,n)}var i=ml(t);yl&&(i=i.concat(yl(t)));for(var a=fl(e),o=fl(t),s=0;s<i.length;++s){var l=i[s];if(!(l in dl||n&&n[l]||o&&l in o||a&&l in a)){var c=vl(t,l);try{gl(e,l,c)}catch(e){}}}}return e}function kl(e){return"function"==typeof e}function Sl(e){return"object"==typeof e&&"styledComponentId"in e}function _l(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function jl(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Cl(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function El(e,t,n){if(void 0===n&&(n=!1),!n&&!Cl(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=El(e[r],t[r]);else if(Cl(t))for(var r in t)e[r]=El(e[r],t[r]);return e}function Tl(e,t){Object.defineProperty(e,"toString",{value:t})}function Rl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Ol=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Rl(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+="".concat(this.tag.getRule(a)).concat(Bs);return t},e}(),Pl=new Map,zl=new Map,Al=1,Il=function(e){if(Pl.has(e))return Pl.get(e);for(;zl.has(Al);)Al++;var t=Al++;return Pl.set(e,t),zl.set(t,e),t},Nl=function(e,t){Al=t+1,Pl.set(e,t),zl.set(t,e)},Ll="style[".concat(Ds,"][").concat(Us,'="').concat(Fs,'"]'),Dl=new RegExp("^".concat(Ds,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ml=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},Ul=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Bs),i=[],a=0,o=r.length;a<o;a++){var s=r[a].trim();if(s){var l=s.match(Dl);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(Nl(u,c),Ml(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}},Fl=function(e){for(var t=document.querySelectorAll(Ll),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Ds)!==Ms&&(Ul(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function Bl(){return n.nc}var Wl=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Ds,"]")));return t[t.length-1]}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Ds,Ms),r.setAttribute(Us,Fs);var o=Bl();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},ql=function(){function e(e){this.element=Wl(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Rl(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Hl=function(){function e(e){this.element=Wl(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Vl=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Kl=Ws,$l={isServer:!Ws,useCSSOMInjection:!Hs},Gl=function(){function e(e,t,n){void 0===e&&(e=Ks),void 0===t&&(t={});var r=this;this.options=b(b({},$l),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Ws&&Kl&&(Kl=!1,Fl(this)),Tl(this,function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return zl.get(e)}(n);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(n);if(void 0===a||!a.size||0===o.length)return"continue";var s="".concat(Ds,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==a&&a.forEach(function(e){e.length>0&&(l+="".concat(e,","))}),r+="".concat(o).concat(s,'{content:"').concat(l,'"}').concat(Bs)},a=0;a<n;a++)i(a);return r}(r)})}return e.registerId=function(e){return Il(e)},e.prototype.rehydrate=function(){!this.server&&Ws&&Fl(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(b(b({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Vl(n):t?new ql(n):new Hl(n)}(this.options),new Ol(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Il(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Il(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Il(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Jl=/&/g,Yl=47;function Ql(e){if(-1===e.indexOf("}"))return!1;for(var t=e.length,n=0,r=0,i=!1,a=0;a<t;a++){var o=e.charCodeAt(a);if(0!==r||i||o!==Yl||42!==e.charCodeAt(a+1))if(i)42===o&&e.charCodeAt(a+1)===Yl&&(i=!1,a++);else if(34!==o&&39!==o||0!==a&&92===e.charCodeAt(a-1)){if(0===r)if(123===o)n++;else if(125===o&&--n<0)return!0}else 0===r?r=o:r===o&&(r=0);else i=!0,a++}return 0!==n||0!==r}function Xl(e,t){return e.map(function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(e){return"".concat(t," ").concat(e)})),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Xl(e.children,t)),e})}function Zl(e){var t,n,r,i=void 0===e?Ks:e,a=i.options,o=void 0===a?Ks:a,s=i.plugins,l=void 0===s?Vs:s,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push(function(e){e.type===Wo&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Jl,n).replace(r,c))}),o.prefix&&u.push(Os),u.push(Ts);var d=function(e,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=function(e){if(!Ql(e))return e;for(var t=e.length,n="",r=0,i=0,a=0,o=!1,s=0;s<t;s++){var l=e.charCodeAt(s);if(0!==a||o||l!==Yl||42!==e.charCodeAt(s+1))if(o)42===l&&e.charCodeAt(s+1)===Yl&&(o=!1,s++);else if(34!==l&&39!==l||0!==s&&92===e.charCodeAt(s-1)){if(0===a)if(123===l)i++;else if(125===l){if(--i<0){for(var c=s+1;c<t;){var u=e.charCodeAt(c);if(59===u||10===u)break;c++}c<t&&59===e.charCodeAt(c)&&c++,i=0,s=c-1,r=c;continue}0===i&&(n+=e.substring(r,s+1),r=s+1)}else 59===l&&0===i&&(n+=e.substring(r,s+1),r=s+1)}else 0===a?a=l:a===l&&(a=0);else o=!0,s++}if(r<t){var d=e.substring(r);Ql(d)||(n+=d)}return n}(function(e){if(-1===e.indexOf("//"))return e;for(var t=e.length,n=[],r=0,i=0,a=0;i<t;){var o=e.charCodeAt(i);if(34!==o&&39!==o||0!==i&&92===e.charCodeAt(i-1))if(0===a)if(o!==Yl||e.charCodeAt(i+1)!==Yl)i++;else{for(i>r&&n.push(e.substring(r,i));i<t&&10!==e.charCodeAt(i);)i++;r=i}else i++;else 0===a?a=o:a===o&&(a=0),i++}return 0===r?e:(r<t&&n.push(e.substring(r)),n.join(""))}(e)),c=Ps(a||i?"".concat(a," ").concat(i," { ").concat(l," }"):l);o.namespace&&(c=Xl(c,o.namespace));var d,h=[];return Es(c,function(e){var t=ts(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(u.concat((d=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),h};return d.hash=l.length?l.reduce(function(e,t){return t.name||Rl(15),nl(e,t.name)},5381).toString():"",d}var ec=new Gl,tc=Zl(),nc={shouldForwardProp:void 0,styleSheet:ec,stylis:tc},rc=qs?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(nc)}}:r.createContext(nc),ic=(rc.Consumer,qs?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(void 0)}}:r.createContext(void 0));function ac(){return!qs&&r.useContext?r.useContext(rc):nc}function oc(e){if(qs||!r.useMemo)return e.children;var t=ac().styleSheet,n=r.useMemo(function(){var n=t;return e.sheet?n=e.sheet:e.target&&(n=n.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(n=n.reconstructWithOptions({useCSSOMInjection:!1})),n},[e.disableCSSOMInjection,e.sheet,e.target,t]),i=r.useMemo(function(){return Zl({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:e.stylisPlugins})},[e.enableVendorPrefixes,e.namespace,e.stylisPlugins]),a=r.useMemo(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:n,stylis:i}},[e.shouldForwardProp,n,i]);return r.createElement(rc.Provider,{value:a},r.createElement(ic.Provider,{value:i},e.children))}var sc=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=tc);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Tl(this,function(){throw Rl(12,String(n.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=tc),this.name+e.hash},e}();function lc(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||e in Ls||e.startsWith("--")?String(t).trim():"".concat(t,"px")}var cc=function(e){return e>="A"&&e<="Z"};function uc(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;cc(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var dc=function(e){return null==e||!1===e||""===e},hc=function(e){var t=[];for(var n in e){var r=e[n];e.hasOwnProperty(n)&&!dc(r)&&(Array.isArray(r)&&r.isCss||kl(r)?t.push("".concat(uc(n),":"),r,";"):Cl(r)?t.push.apply(t,k(k(["".concat(n," {")],hc(r),!1),["}"],!1)):t.push("".concat(uc(n),": ").concat(lc(n,r),";")))}return t};function pc(e,t,n,r){return dc(e)?[]:Sl(e)?[".".concat(e.styledComponentId)]:kl(e)?!kl(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:pc(e(t),t,n,r):e instanceof sc?n?(e.inject(n,r),[e.getName(r)]):[e]:Cl(e)?hc(e):Array.isArray(e)?Array.prototype.concat.apply(Vs,e.map(function(e){return pc(e,t,n,r)})):[e.toString()];var i}function fc(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(kl(n)&&!Sl(n))return!1}return!0}var gc=rl(Fs),mc=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&fc(e),this.componentId=t,this.baseHash=nl(gc,t),this.baseStyle=n,Gl.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n).className:"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=_l(r,this.staticRulesId);else{var i=jl(pc(this.rules,e,t,n)),a=el(nl(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=n(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}r=_l(r,a),this.staticRulesId=a}else{for(var s=nl(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=jl(pc(u,e,t,n));s=nl(s,d+c),l+=d}}if(l){var h=el(s>>>0);if(!t.hasNameForId(this.componentId,h)){var p=n(l,".".concat(h),void 0,this.componentId);t.insertRules(this.componentId,h,p)}r=_l(r,h)}}return{className:r,css:"undefined"==typeof window?t.getTag().getGroup(Il(this.componentId)):""}},e}(),yc=qs?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(void 0)}}:r.createContext(void 0);yc.Consumer;var vc={};new Set;function bc(e,t,n){var i=Sl(e),a=e,o=!ol(e),s=t.attrs,l=void 0===s?Vs:s,c=t.componentId,u=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Qs(e);vc[n]=(vc[n]||0)+1;var r="".concat(n,"-").concat(il(Fs+n+vc[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,d=t.displayName,h=void 0===d?function(e){return ol(e)?"styled.".concat(e):"Styled(".concat(al(e),")")}(e):d,p=t.displayName&&t.componentId?"".concat(Qs(t.displayName),"-").concat(t.componentId):t.componentId||u,f=i&&a.attrs?a.attrs.concat(l).filter(Boolean):l,g=t.shouldForwardProp;if(i&&a.shouldForwardProp){var m=a.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;g=function(e,t){return m(e,t)&&y(e,t)}}else g=m}var v=new mc(n,p,i?a.componentStyle:void 0);function x(e,t){return function(e,t,n){var i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=r.useContext?r.useContext(yc):void 0,d=ac(),h=e.shouldForwardProp||d.shouldForwardProp,p=$s(t,u,o)||Ks,f=function(e,t,n){for(var r,i=b(b({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var o=kl(r=e[a])?r(i):r;for(var s in o)"className"===s?i.className=_l(i.className,o[s]):"style"===s?i.style=b(b({},i.style),o[s]):i[s]=o[s]}return"className"in t&&"string"==typeof t.className&&(i.className=_l(i.className,t.className)),i}(i,t,p),g=f.as||c,m={};for(var y in f)void 0===f[y]||"$"===y[0]||"as"===y||"theme"===y&&f.theme===p||("forwardedAs"===y?m.as=f.forwardedAs:h&&!h(y,g)||(m[y]=f[y]));var v=function(e,t){var n=ac();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(a,f),x=v.className,w=v.css,k=_l(s,l);x&&(k+=" "+x),f.className&&(k+=" "+f.className),m[ol(g)&&!Gs.has(g)?"class":"className"]=k,n&&(m.ref=n);var S=(0,r.createElement)(g,m);return qs&&w?r.createElement(r.Fragment,null,r.createElement("style",{precedence:"styled-components",href:"sc-".concat(l,"-").concat(x),children:w}),S):S}(w,e,t)}x.displayName=h;var w=r.forwardRef(x);return w.attrs=f,w.componentStyle=v,w.displayName=h,w.shouldForwardProp=g,w.foldedComponentIds=i?_l(a.foldedComponentIds,a.styledComponentId):"",w.styledComponentId=p,w.target=i?a.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)El(e,i[r],!0);return e}({},a.defaultProps,e):e}}),Tl(w,function(){return".".concat(w.styledComponentId)}),o&&wl(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function xc(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var wc=function(e){return Object.assign(e,{isCss:!0})};function kc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kl(e)||Cl(e))return wc(pc(xc(Vs,k([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?pc(r):wc(pc(xc(r,t)))}function Sc(e,t,n){if(void 0===n&&(n=Ks),!t)throw Rl(1,t);var r=function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,n,kc.apply(void 0,k([r],i,!1)))};return r.attrs=function(r){return Sc(e,t,b(b({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Sc(e,t,b(b({},n),r))},r}var _c=function(e){return Sc(bc,e)},jc=_c;Gs.forEach(function(e){jc[e]=_c(e)});!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=fc(e),Gl.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var i=r(jl(pc(this.rules,t,n,r)),""),a=this.componentId+e;n.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&Gl.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();var Cc,Ec,Tc,Rc,Oc,Pc,zc;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Bl(),r=jl([n&&'nonce="'.concat(n,'"'),"".concat(Ds,'="true"'),"".concat(Us,'="').concat(Fs,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Rl(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw Rl(2);var n=e.instance.toString();if(!n)return[];var i=((t={})[Ds]="",t[Us]=Fs,t.dangerouslySetInnerHTML={__html:n},t),a=Bl();return a&&(i.nonce=a),[r.createElement("style",b({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Gl({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Rl(2);return r.createElement(oc,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Rl(3)}})(),"__sc-".concat(Ds,"__");const Ac=jc.div(Cc||(Cc=Do(["\n  min-width: 220px;\n  padding: 12px 16px;\n  border-radius: 12px;\n  background: rgba(25, 25, 25, 0.85);\n  backdrop-filter: blur(12px);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  color: white;\n  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.5);\n  cursor: default;\n  user-select: none;\n"]))),Ic=jc.div(Ec||(Ec=Do(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 4px;\n"]))),Nc=jc.div(Tc||(Tc=Do(["\n  font-size: 24px;\n  font-weight: 600;\n"]))),Lc=jc.div(Rc||(Rc=Do(["\n  font-size: 12px;\n  color: #9ca3af;\n"]))),Dc=jc.div(Oc||(Oc=Do(["\n  margin-top: 8px;\n  font-size: 11px;\n  color: #9ca3af;\n  display: flex;\n  justify-content: space-between;\n"]))),Mc=jc.span(Pc||(Pc=Do(["\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n"]))),Uc=jc.span(zc||(zc=Do(["\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n"]))),Fc=e=>{let{now:t}=e;const n=null!==t&&void 0!==t?t:new Date,r=n.getHours(),i=n.getMinutes().toString().padStart(2,"0"),a=(r+11)%12+1,o=r>=12?"PM":"AM",s=n.getDate(),l=n.toLocaleDateString(void 0,{weekday:"long"}),c=n.toLocaleDateString(void 0,{month:"long"}),u=n.getFullYear();return(0,ui.jsxs)(Ac,{children:[(0,ui.jsx)(Ic,{children:(0,ui.jsxs)(Nc,{children:[a,":",i," ",(0,ui.jsx)("span",{style:{fontSize:12},children:o})]})}),(0,ui.jsxs)(Lc,{children:[l,", ",c," ",s,", ",u]}),(0,ui.jsxs)(Dc,{children:[(0,ui.jsx)(Mc,{children:c.toUpperCase()}),(0,ui.jsx)(Uc,{children:l.toUpperCase()})]})]})};var Bc;const Wc=jc.div(Bc||(Bc=Do(["\n  position: absolute;\n  left: ","px;\n  top: ","px;\n  cursor: ",";\n  z-index: 100;\n\n  /* Critical: allows dragging even though WidgetsLayer has pointer-events: none */\n  pointer-events: auto;\n"])),e=>{let{x:t}=e;return t},e=>{let{y:t}=e;return t},e=>{let{locked:t}=e;return t?"default":"grab"}),qc="desktopClockWidgetPos",Hc=e=>{let{visible:t=!0,locked:n=!1}=e;const[i,a]=(0,r.useState)({x:40,y:40}),[o,s]=(0,r.useState)(!1),l=(0,r.useRef)({mouseX:0,mouseY:0,x:0,y:0});(0,r.useEffect)(()=>{if("undefined"===typeof window)return;const e=localStorage.getItem(qc);if(e)try{const t=JSON.parse(e);"number"===typeof t.x&&"number"===typeof t.y&&a(t)}catch(t){}},[]),(0,r.useEffect)(()=>{"undefined"!==typeof window&&localStorage.setItem(qc,JSON.stringify(i))},[i]);const[c,u]=(0,r.useState)(new Date);(0,r.useEffect)(()=>{const e=setInterval(()=>u(new Date),3e4);return()=>clearInterval(e)},[]);const d=e=>{if(!o||n)return;const t=e.clientX-l.current.mouseX,r=e.clientY-l.current.mouseY;a({x:l.current.x+t,y:l.current.y+r})},h=()=>s(!1);return(0,r.useEffect)(()=>{if(o)return window.addEventListener("mousemove",d),window.addEventListener("mouseup",h),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h)}},[o]),t?(0,ui.jsx)(Wc,{x:i.x,y:i.y,locked:n,onMouseDown:e=>{n||(s(!0),l.current={mouseX:e.clientX,mouseY:e.clientY,x:i.x,y:i.y})},children:(0,ui.jsx)(Fc,{now:c})}):null},Vc=e=>{let{onLaunchApp:t,settings:n}=e;const[i,a]=(0,r.useState)(null),{openContextMenu:o}=Zi(),s=(e,n)=>{e.preventDefault(),o(e,{payload:n,actions:[{label:"Open",onClick:()=>t(n.app)},{label:"Open in New Window",onClick:()=>t(n.app)},{label:"Pin to Taskbar",onClick:()=>console.log("Pin to Taskbar:",n)},{label:"Add to Favorites",onClick:()=>console.log("Add to Favorites:",n)},{label:"Remove from Desktop",onClick:()=>console.log("Remove from Desktop:",n)},{label:"Properties",onClick:()=>console.log("Properties:",n)}]})};return(0,ui.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",userSelect:"none"},children:[(0,ui.jsx)(Hc,{visible:null===n||void 0===n?void 0:n.showClockWidget,locked:null===n||void 0===n?void 0:n.lockClockWidget}),(0,ui.jsx)("div",{style:{position:"absolute",width:"80px",height:"80px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",zIndex:0},children:(0,ui.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 100%)",boxShadow:"inset 0 2px 8px rgba(0, 0, 0, 0.1)"}})}),Lo.map((e,n)=>{const r=((e,t)=>{const n=(360*e/t-90)*Math.PI/180;return{x:200*Math.cos(n),y:200*Math.sin(n)}})(n,Lo.length),o=i===n,l=o?1.4:1,c=o?56:40,u=o?120:90;return(0,ui.jsxs)("div",{onClick:n=>{n.shiftKey?s(n,e):t(e.app)},onContextMenu:t=>s(t,e),onMouseEnter:()=>a(n),onMouseLeave:()=>a(null),style:{position:"absolute",left:"calc(50% + ".concat(r.x,"px)"),top:"calc(50% + ".concat(r.y,"px)"),transform:"translate(-50%, -50%) scale(".concat(l,")"),width:"".concat(u,"px"),height:"".concat(u,"px"),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",zIndex:o?10:1},children:[(0,ui.jsxs)("div",{style:{position:"relative",width:"".concat(c+32,"px"),height:"".concat(c+32,"px"),display:"flex",alignItems:"center",justifyContent:"center"},children:[o&&(0,ui.jsxs)(ui.Fragment,{children:[(0,ui.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",borderRadius:"50%",background:"rgba(255, 255, 255, 0.4)",filter:"blur(20px)",animation:"pulse 2s ease-in-out infinite"}}),(0,ui.jsx)("div",{style:{position:"absolute",width:"120%",height:"120%",borderRadius:"50%",background:"radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%)",animation:"rotate 8s linear infinite"}})]}),(0,ui.jsx)("div",{style:{position:"relative",padding:"16px",background:o?"linear-gradient(135deg, rgba(128, 240, 188, 0.91) 0%, rgba(71, 240, 183, 0.73) 100%)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",borderRadius:"20px",border:o?"2px solid rgba(255, 255, 255, 0.5)":"2px solid rgba(255, 255, 255, 0.3)",boxShadow:o?"0 12px 40px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.5)":"0 8px 24px rgba(0, 0, 0, 0.15)",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:(0,ui.jsx)(e.icon,{size:c,color:"white",strokeWidth:o?2.5:2,style:{filter:o?"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3))":"none",transition:"all 0.4s ease"}})})]}),(0,ui.jsx)("span",{style:{color:"white",fontSize:o?"16px":"14px",fontWeight:o?"700":"600",textAlign:"center",textShadow:o?"0 4px 12px rgba(0, 0, 0, 0.5), 0 2px 4px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.3)",letterSpacing:o?"0.5px":"0px",transition:"all 0.4s ease",whiteSpace:"nowrap",opacity:o?1:.95},children:e.name}),o&&(0,ui.jsx)("div",{style:{position:"absolute",width:"2px",height:"".concat(Math.sqrt(r.x*r.x+r.y*r.y),"px"),background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.6), transparent)",transformOrigin:"top center",transform:"rotate(".concat(180*Math.atan2(r.y,r.x)/Math.PI+90,"deg)"),top:"50%",left:"50%",marginLeft:"-1px",animation:"fadeIn 0.3s ease-in-out",pointerEvents:"none"}})]},e.name)}),null!==i&&(0,ui.jsx)("div",{style:{position:"absolute",textAlign:"center",color:"white",fontSize:"24px",fontWeight:"700",textShadow:"0 4px 16px rgba(0, 0, 0, 0.5)",letterSpacing:"1px",animation:"fadeInScale 0.3s ease-out",pointerEvents:"none",zIndex:5},children:Lo[i].name}),(0,ui.jsx)("style",{children:"\n          @keyframes pulse {\n            0%, 100% {\n              opacity: 0.6;\n              transform: scale(1);\n            }\n            50% {\n              opacity: 1;\n              transform: scale(1.1);\n            }\n          }\n\n          @keyframes rotate {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n\n          @keyframes fadeInScale {\n            from {\n              opacity: 0;\n              transform: scale(0.8);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n        "})]})},Kc=e=>{let{onLaunchApp:t}=e;const{openContextMenu:n}=Zi(),r=(e,r)=>{e.preventDefault(),n(e,{payload:r,actions:[{label:"Open",onClick:()=>t(r.app)},{label:"Open in New Window",onClick:()=>t(r.app)},{label:"Pin to Taskbar",onClick:()=>console.log("Pin to Taskbar:",r)},{label:"Add to Favorites",onClick:()=>console.log("Add to Favorites:",r)},{label:"Remove from Desktop",onClick:()=>console.log("Remove from Desktop:",r)},{label:"Properties",onClick:()=>console.log("Properties:",r)}]})};return(0,ui.jsx)("div",{style:{padding:"32px",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"24px",alignContent:"start"},children:Lo.map(e=>(0,ui.jsxs)("div",{onClick:n=>{n.shiftKey?r(n,e):t(e.app)},onContextMenu:t=>r(t,e),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:[(0,ui.jsx)("div",{style:{padding:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",borderRadius:"12px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.3)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.2)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)",e.currentTarget.style.boxShadow="none"},children:(0,ui.jsx)(e.icon,{size:48,color:"white"})}),(0,ui.jsx)("span",{style:{color:"white",fontSize:"14px",fontWeight:"500",textAlign:"center",textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e.name})]},e.name))})},$c=y("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),Gc=y("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),Jc=e=>{let{window:t,activeWindow:n,setActiveWindow:i,onMinimize:a,onMaximize:o,onClose:s,onUpdatePosition:l,fileSystem:u,saveFile:d,createDirectory:h,deleteFile:p,reloadFileSystem:f,userId:g,currentPath:m,onOpenFile:y,createWindow:v,currentUser:b,updateTheme:x,updateDesktopLayout:w}=e;const[k,S]=(0,r.useState)({x:t.x,y:t.y}),[_,j]=(0,r.useState)(!1),C=(0,r.useRef)({x:0,y:0}),E=Io[t.app],T=E.Component;if((0,r.useEffect)(()=>{const e=e=>{if(_){const n={x:e.clientX-C.current.x,y:e.clientY-C.current.y};S(n),l(t.id,n.x,n.y)}},n=()=>j(!1);return _&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n)}},[_,t.id,l]),t.minimized)return null;const R=t.maximized?{left:0,top:0,width:"100%",height:"calc(100% - 48px)",position:"absolute"}:{left:k.x,top:k.y,width:t.width,height:t.height,position:"absolute"},O=c({windowId:t.id,fileSystem:u,saveFile:d,createDirectory:h,deleteFile:p,reloadFileSystem:f,userId:g,currentPath:m,onOpenFile:y,createWindow:v,currentUser:b,updateTheme:x,updateDesktopLayout:w},t);return(0,ui.jsxs)("div",{style:c(c({},R),{},{background:"white",borderRadius:"8px",boxShadow:"0 20px 60px rgba(0,0,0,0.2)",display:"flex",minWidth:"1280",minHeight:"1080",flexDirection:"column",overflow:"hidden",zIndex:n===t.id?10:0}),onMouseDown:()=>i(t.id),children:[(0,ui.jsxs)("div",{onMouseDown:e=>{e.target.closest(".window-content")||e.target.closest("button")||(j(!0),C.current={x:e.clientX-k.x,y:e.clientY-k.y},i(t.id))},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",cursor:"move",userSelect:"none",background:n===t.id?"#879b93d8":"#000000",color:n===t.id?"white":"#374151",opacity:"0.4"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,ui.jsx)(E.icon,{size:16}),(0,ui.jsx)("span",{style:{fontWeight:"600",fontSize:"18px"},children:t.title||E.title})]}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,ui.jsx)("button",{onClick:()=>a(t.id),style:{padding:"4px",background:"92bc98",border:"none",borderRadius:"12px",cursor:"pointer"},children:(0,ui.jsx)($c,{size:16})}),(0,ui.jsx)("button",{onClick:()=>o(t.id),style:{padding:"4px",background:"92bc98",border:"none",borderRadius:"12px",cursor:"pointer"},children:(0,ui.jsx)(Gc,{size:16})}),(0,ui.jsx)("button",{onClick:()=>s(t.id),style:{padding:"4px",background:"92bc98",border:"none",borderRadius:"12px",cursor:"pointer"},children:(0,ui.jsx)(Ia,{size:16})})]})]}),(0,ui.jsx)("div",{className:"window-content",style:{flex:1,overflow:"hidden"},children:(0,ui.jsx)(T,c({},O))})]})},Yc=y("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Qc=e=>{let{windows:t,activeWindow:n,currentUser:i,onRestoreWindow:a,onToggleAppMenu:o,onLogout:s,onLaunchApp:l,AppWindow:c}=e;const[u,d]=(0,r.useState)(new Date),h=li(),p=h?{position:"absolute",bottom:"12px",left:"50%",transform:"translateX(-50%)",width:"92%",height:"52px",background:"rgba(59, 58, 58, 0.73)",backdropFilter:"blur(22px) saturate(50%)",WebkitBackdropFilter:"blur(22px) saturate(50%)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.25)",boxShadow:"0 8px 24px rgba(0,0,0,0.35)",display:"flex",alignItems:"center",justifyContent:"space-around",padding:"0 12px",zIndex:9999}:{height:"52px",width:"100%",background:"rgba(59, 58, 58, 0.73)",backdropFilter:"blur(18px) saturate(180%)",WebkitBackdropFilter:"blur(18px) saturate(180%)",borderTop:"1px solid rgba(255, 255, 255, 0.25)",boxShadow:"0 -4px 16px rgba(0,0,0,0.35)",display:"flex",alignItems:"center",padding:"0 12px",gap:"8px",zIndex:9999},f={width:"48px",height:"48px",borderRadius:"16px",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"};return(0,ui.jsxs)("div",{style:p,children:[(0,ui.jsx)("button",{onClick:o,style:h?f:{background:"rgba(255, 255, 255, 0.25)",border:"0px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",transition:"all 0.2s"},children:(0,ui.jsx)("img",{src:"/logo.png",alt:"AirOS Logo",style:{width:h?40:64,height:h?40:64,imageRendering:"crisp-edges"}})}),!h&&(0,ui.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:"0 1 auto"},children:t.filter(e=>!e.minimized).map(e=>{var t;const r=null===(t=Io[e.app])||void 0===t?void 0:t.icon;return(0,ui.jsxs)("button",{onClick:()=>a(e.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 12px",borderRadius:"4px",background:n===e.id?"rgba(59,130,246,0.8)":"rgba(55,65,81,0.6)",color:n===e.id?"white":"#d1d5db",border:"none",cursor:"pointer",transition:"all 0.2s",maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap"},children:[r&&(0,ui.jsx)(r,{size:16}),(0,ui.jsx)("span",{style:{fontSize:"14px"},children:e.title||e.app})]},e.id)})}),!h&&(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginLeft:"auto"},children:[(0,ui.jsx)("button",{onClick:()=>l("Breeze"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(100, 100, 70, 0.8)",color:"white",borderRadius:"6px",fontSize:"16px",border:"none",cursor:"pointer",transition:"all 0.2s"},children:(0,ui.jsx)(v,{size:24,color:"white"})}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginLeft:"auto"},children:[(0,ui.jsx)("button",{onClick:()=>l("Calendar"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(100, 100, 70, 0.8)",color:"white",borderRadius:"6px",fontSize:"16px",border:"none",cursor:"pointer",transition:"all 0.2s"},children:(0,ui.jsx)(Ti,{size:24,color:"white"})}),(0,ui.jsxs)("div",{style:{color:"white",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"6px"},children:[(0,ui.jsx)(fi,{size:16}),(0,ui.jsx)("span",{children:null===i||void 0===i?void 0:i.email})]}),(0,ui.jsxs)("button",{onClick:s,style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(100, 100, 70, 0.8)",color:"white",borderRadius:"6px",fontSize:"16px",border:"none",cursor:"pointer",transition:"all 0.2s"},children:[(0,ui.jsx)(Yc,{size:18}),"Logout"]})]})]}),h&&(0,ui.jsx)("div",{style:f,onClick:s,children:(0,ui.jsx)(Yc,{size:28,color:"white"})})]})},Xc=y("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Zc=e=>{let{isOpen:t,onClose:n,onLaunchApp:i,onOpenSettings:a}=e;const[o,s]=(0,r.useState)(""),[l,u]=(0,r.useState)(null),d=(0,r.useRef)(null),h=(()=>{const e={};return Object.entries(No).forEach(t=>{let[n,r]=t;e[n]=c(c({},r),{},{apps:r.apps.map(e=>c({key:e},Io[e]))})}),e})();(0,r.useEffect)(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&n()};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,n]);const p=e=>{i(e),n(),s(""),u(null)},f=(()=>{if(!o)return null;const e=[];return Object.values(h).forEach(t=>{t.apps.forEach(t=>{t.name.toLowerCase().includes(o.toLowerCase())&&e.push(t)})}),e})();return t?(0,ui.jsxs)("div",{ref:d,style:{position:"fixed",bottom:"60px",left:"16px",width:"400px",maxHeight:"600px",background:"transparent",backdropFilter:"blur(20px)",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",zIndex:1e3,animation:"slideUp 0.2s ease-out"},children:[(0,ui.jsxs)("div",{style:{padding:"16px",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"transparent",backdropFilter:"blur(22px) saturate(150%)"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[(0,ui.jsx)("h2",{style:{color:"white",fontSize:"18px",fontWeight:"600",margin:0},children:l?h[l].name:"Applications"}),(0,ui.jsx)("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center"},children:(0,ui.jsx)(Ia,{size:20,color:"white"})})]}),(0,ui.jsxs)("div",{style:{position:"relative"},children:[(0,ui.jsx)(Xc,{size:18,color:"#ffffff",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),(0,ui.jsx)("input",{type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"Search apps...",autoFocus:!0,style:{width:"100%",padding:"10px 12px 10px 40px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]})]}),(0,ui.jsx)("div",{style:{flex:1,overflow:"auto",padding:"16px"},children:o&&f?f.length>0?(0,ui.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:f.map(e=>(0,ui.jsxs)("button",{onClick:()=>p(e.key),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",padding:"16px 8px",background:"transparent",backdropFilter:"blur(22px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",color:"white"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.51)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.transform="translateY(0)"},children:[(0,ui.jsx)(e.icon,{size:32,color:"white"}),(0,ui.jsx)("span",{style:{fontSize:"12px",textAlign:"center",fontWeight:"500"},children:e.name})]},e.key))}):(0,ui.jsxs)("div",{style:{textAlign:"center",padding:"32px",color:"#9ca3af"},children:['No apps found matching "',o,'"']}):l?(0,ui.jsxs)(ui.Fragment,{children:[(0,ui.jsx)("button",{onClick:()=>{u(null)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"transparent",backdropFilter:"blur(26px) saturate(150%)",borderRadius:"8px",color:"#9ca3af",cursor:"pointer",marginBottom:"16px",fontSize:"14px"},children:"\u2190 Back to categories"}),(0,ui.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:h[l].apps.map(e=>(0,ui.jsxs)("button",{onClick:()=>p(e.key),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",padding:"16px 8px",background:"transparent",backdropFilter:"blur(22px)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",color:"white"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.73)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.transform="translateY(0)"},children:[(0,ui.jsx)(e.icon,{size:32,color:"white"}),(0,ui.jsx)("span",{style:{fontSize:"12px",textAlign:"center",fontWeight:"500"},children:e.name})]},e.key))})]}):(0,ui.jsx)(ui.Fragment,{children:(0,ui.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Object.entries(h).map(e=>{let[t,n]=e;return(0,ui.jsxs)("button",{onClick:()=>u(t),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"rgba(156, 160, 156, 0.57)",backdropFilter:"blur(22px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease",color:"white"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(156, 160, 156, 0.87)",e.currentTarget.style.transform="translateX(4px)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.transform="translateX(0)"},children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,ui.jsx)("span",{style:{fontSize:"28px"},children:n.icon}),(0,ui.jsxs)("div",{style:{textAlign:"left"},children:[(0,ui.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"2px"},children:n.name}),(0,ui.jsxs)("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[n.apps.length," apps"]})]})]}),(0,ui.jsx)(Vi,{size:20,color:"#9ca3af"})]},t)})})})}),(0,ui.jsxs)("div",{style:{padding:"12px 16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",gap:"8px"},children:[(0,ui.jsx)("button",{onClick:()=>{a(),n()},style:{flex:1,padding:"8px",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",cursor:"pointer",fontWeight:"500",transition:"all 0.2s ease"},children:"Settings"}),(0,ui.jsx)("button",{style:{flex:1,padding:"8px",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",cursor:"pointer",fontWeight:"500",transition:"all 0.2s ease"},children:"About"})]}),(0,ui.jsx)("style",{children:"\n          @keyframes slideUp {\n            from {\n              opacity: 0;\n              transform: translateY(20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n        "})]}):null},eu=y("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),tu=y("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),nu=y("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),ru=y("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var iu,au,ou,su,lu,cu,uu,du,hu,pu,fu,gu,mu,yu,vu,bu,xu,wu,ku;const Su=jc.div(iu||(iu=Do(["\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.05);   /* subtle dimming */\n  backdrop-filter: blur(16px);       /* pure blur */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  animation: fadeIn 0.2s ease-out;\n"]))),_u=jc.div(au||(au=Do(["\n  width: 90%;\n  max-width: 900px;\n  max-height: 85vh;\n  background: rgba(30, 30, 30, 0.85); /* darker, more grounded */\n  border-radius: 16px;\n  box-shadow: 0 25px 80px rgba(0, 0, 0, 0.55);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  display: flex;\n  overflow: hidden;\n  animation: slideUp 0.3s ease-out;\n"]))),ju=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"],Cu=jc.div(ou||(ou=Do(["\n  width: 240px;\n  background: rgba(20, 20, 20, 0.65); /* darker to match main panel */\n  border-right: 1px solid rgba(255, 255, 255, 0.08);\n  padding: 24px 0;\n  display: flex;\n  flex-direction: column;\n"]))),Eu=jc.h2(su||(su=Do(["\n  color: white;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0 0 24px 24px;\n"]))),Tu=jc.button(lu||(lu=Do(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 12px 24px;\n  border: none;\n  cursor: pointer;\n  font-size: 14px;\n  text-align: left;\n  transition: all 0.2s;\n\n  background: ",";\n\n  border-left: ",";\n\n  color: ",";\n  font-weight: ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),e=>{let{active:t}=e;return t?"rgba(59, 130, 246, 0.25)":"rgba(255, 255, 255, 0.04)"},e=>{let{active:t}=e;return t?"3px solid #3b82f6":"3px solid transparent"},e=>{let{active:t}=e;return t?"#60a5fa":"#d1d5db"},e=>{let{active:t}=e;return t?"600":"400"},e=>{let{active:t}=e;return t?"rgba(59, 130, 246, 0.25)":"rgba(255, 255, 255, 0.08)"}),Ru=jc.div(cu||(cu=Do(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: rgba(50, 50, 50, 0.55); /* tuned grey */\n  backdrop-filter: blur(10px);\n"]))),Ou=jc.div(uu||(uu=Do(["\n  padding: 20px 24px;\n  background: rgba(255, 255, 255, 0.10); /* reduced opacity */\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Pu=jc.h3(du||(du=Do(["\n  color: white;\n  font-size: 18px;\n  font-weight: 600;\n  margin: 0;\n"]))),zu=jc.button(hu||(hu=Do(["\n  background: rgba(255, 255, 255, 0.15);\n  border: none;\n  border-radius: 8px;\n  padding: 8px;\n  cursor: pointer;\n  display: flex;\n"]))),Au=jc.div(pu||(pu=Do(["\n  flex: 1;\n  overflow: auto;\n  padding: 24px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),Iu=(jc.div(fu||(fu=Do(["\n  background: rgba(255, 255, 255, 0.10); /* tuned down */\n  border-radius: 12px;\n  padding: 16px;\n"]))),jc.div(gu||(gu=Do(["\n  padding: 16px 24px;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  background: rgba(255, 255, 255, 0.06);\n  display: flex;\n  justify-content: flex-end;\n"])))),Nu=jc.button(mu||(mu=Do(["\n  padding: 10px 24px;\n  background: #3b82f6;\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n"]))),Lu=jc.div(yu||(yu=Do(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px;\n  background: rgba(255, 255, 255, 0.10);\n  border-radius: 12px;\n"]))),Du=jc.div(vu||(vu=Do(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex: 1;\n"]))),Mu=jc.div(bu||(bu=Do(["\n  color: white;\n  font-weight: 600;\n  font-size: 14px;\n"]))),Uu=jc.div(xu||(xu=Do(["\n  color: #9ca3af;\n  font-size: 12px;\n  margin-top: 2px;\n"]))),Fu=jc.button(wu||(wu=Do(["\n  width: 48px;\n  height: 28px;\n  border-radius: 14px;\n  background: ",";\n  border: none;\n  cursor: pointer;\n  position: relative;\n  transition: background 0.3s;\n"])),e=>{let{checked:t}=e;return t?"#3b82f6":"rgba(255, 255, 255, 0.18)"}),Bu=jc.div(ku||(ku=Do(["\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: white;\n  position: absolute;\n  top: 4px;\n  left: ",";\n  transition: left 0.3s;\n"])),e=>{let{checked:t}=e;return t?"24px":"4px"}),Wu=e=>{let{icon:t,title:n,description:r,checked:i,onChange:a}=e;return(0,ui.jsxs)(Lu,{children:[(0,ui.jsxs)(Du,{children:[t,(0,ui.jsxs)("div",{children:[(0,ui.jsx)(Mu,{children:n}),(0,ui.jsx)(Uu,{children:r})]})]}),(0,ui.jsx)(Fu,{checked:i,onClick:()=>a(!i),children:(0,ui.jsx)(Bu,{checked:i})})]})},qu=e=>{var t,n,i;let{isOpen:a,onClose:o,settings:s,onUpdateSetting:l}=e;const[c,u]=(0,r.useState)("appearance");if(!a)return null;const d=[{id:"appearance",name:"Appearance",icon:xi},{id:"profile",name:"Profile",icon:fi},{id:"preferences",name:"Preferences",icon:uo},{id:"accessibility",name:"Accessibility",icon:Fa}];return(0,ui.jsx)(Su,{children:(0,ui.jsxs)(_u,{children:[(0,ui.jsxs)(Cu,{children:[(0,ui.jsx)(Eu,{children:"Settings"}),d.map(e=>(0,ui.jsxs)(Tu,{active:c===e.id,onClick:()=>u(e.id),children:[(0,ui.jsx)(e.icon,{size:18}),e.name]},e.id))]}),(0,ui.jsxs)(Ru,{children:[(0,ui.jsxs)(Ou,{children:[(0,ui.jsx)(Pu,{children:null===(t=d.find(e=>e.id===c))||void 0===t?void 0:t.name}),(0,ui.jsx)(zu,{onClick:o,children:(0,ui.jsx)(Ia,{size:20,color:"white"})})]}),(0,ui.jsx)(Au,{children:(0,ui.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,ui.jsxs)("div",{style:{padding:"20px 24px",background:"rgba(255, 255, 255, 0.31)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ui.jsx)("h3",{style:{color:"white",fontSize:"18px",fontWeight:"600",margin:0},children:null===(n=d.find(e=>e.id===c))||void 0===n?void 0:n.name}),(0,ui.jsx)("button",{onClick:o,style:{background:"rgba(255, 255, 255, 0.74)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",display:"flex"},children:(0,ui.jsx)(Ia,{size:20,color:"white"})})]}),(0,ui.jsxs)("div",{style:{flex:1,overflow:"auto",padding:"24px"},children:["appearance"===c&&(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[(0,ui.jsxs)("div",{children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,ui.jsx)(eu,{size:20,color:"#60a5fa"}),(0,ui.jsx)("h4",{style:{color:"white",fontSize:"16px",fontWeight:"600",margin:0},children:"Desktop Layout"})]}),(0,ui.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:["wheel","grid"].map(e=>(0,ui.jsxs)("button",{onClick:()=>l("desktopLayout",e),style:{padding:"16px",background:s.desktopLayout===e?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.05)",border:s.desktopLayout===e?"2px solid #3b82f6":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",cursor:"pointer",position:"relative"},children:[s.desktopLayout===e&&(0,ui.jsx)("div",{style:{position:"absolute",top:"8px",right:"8px",background:"#3b82f6",borderRadius:"50%",padding:"4px",display:"flex"},children:(0,ui.jsx)(tu,{size:16,color:"white"})}),(0,ui.jsx)("div",{style:{textAlign:"center",color:"white",fontWeight:"600"},children:"wheel"===e?"Wheel Layout":"Grid Layout"})]},e))})]}),(0,ui.jsxs)("div",{children:[(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,ui.jsx)(xi,{size:20,color:"#a855f7"}),(0,ui.jsx)("h4",{style:{color:"white",fontSize:"16px",fontWeight:"600",margin:0},children:"Color Theme"})]}),(0,ui.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"12px"},children:Object.entries(ci).map(e=>{let[t,n]=e;return(0,ui.jsxs)("button",{onClick:()=>l("theme",t),style:{padding:"12px",background:"rgba(197, 189, 189, 0.53)",border:s.theme===t?"2px solid #3b82f6":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",cursor:"pointer",position:"relative"},children:[s.theme===t&&(0,ui.jsx)("div",{style:{position:"absolute",top:"8px",right:"8px",background:"#3b82f6",borderRadius:"50%",padding:"4px",display:"flex",zIndex:1},children:(0,ui.jsx)(tu,{size:14,color:"white"})}),(0,ui.jsx)("div",{style:{width:"100%",height:"60px",background:n.gradient,borderRadius:"8px",marginBottom:"8px"}}),(0,ui.jsx)("div",{style:{color:"white",fontSize:"13px",fontWeight:"500",textAlign:"center"},children:n.name})]},t)})})]})]}),"profile"===c&&(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Display Name"}),(0,ui.jsx)("input",{type:"text",value:s.displayName,onChange:e=>l("displayName",e.target.value),placeholder:"Enter your display name",style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.51)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",fontSize:"14px",boxSizing:"border-box"}}),(0,ui.jsx)("p",{style:{color:"#9ca3af",fontSize:"12px",marginTop:"4px"},children:"This name will be displayed in the taskbar and terminal"})]}),(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Avatar Color"}),(0,ui.jsx)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:ju.map(e=>(0,ui.jsx)("button",{onClick:()=>l("avatarColor",e),style:{width:"48px",height:"48px",borderRadius:"50%",background:e,border:s.avatarColor===e?"3px solid white":"2px solid rgba(255, 255, 255, 0.36)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:s.avatarColor===e&&(0,ui.jsx)(tu,{size:24,color:"white"})},e))})]}),(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Preview"}),(0,ui.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",background:"rgba(255, 255, 255, 0.49)",borderRadius:"12px"},children:[(0,ui.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:s.avatarColor,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"20px",fontWeight:"700"},children:(s.displayName||"U")[0].toUpperCase()}),(0,ui.jsxs)("div",{children:[(0,ui.jsx)("div",{style:{color:"white",fontWeight:"600",fontSize:"16px"},children:s.displayName||"User"}),(0,ui.jsxs)("div",{style:{color:"#9ca3af",fontSize:"14px"},children:["@",(null===(i=s.displayName)||void 0===i?void 0:i.toLowerCase().replace(/\s+/g,""))||"user"]})]})]})]})]}),"preferences"===c&&(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Terminal Theme"}),(0,ui.jsxs)("select",{value:s.terminalTheme,onChange:e=>l("terminalTheme",e.target.value),style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.47)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",fontSize:"14px"},children:[(0,ui.jsx)("option",{value:"classic",children:"Classic Green"}),(0,ui.jsx)("option",{value:"dark",children:"Dark Mode"}),(0,ui.jsx)("option",{value:"light",children:"Light Mode"})]})]}),(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Default File View"}),(0,ui.jsxs)("select",{value:s.defaultFileView,onChange:e=>l("defaultFileView",e.target.value),style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.37)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",fontSize:"14px"},children:[(0,ui.jsx)("option",{value:"grid",children:"Grid View"}),(0,ui.jsx)("option",{value:"list",children:"List View"})]})]}),(0,ui.jsx)(Wu,{icon:(0,ui.jsx)(nu,{size:18,color:"#60a5fa"}),title:"Notifications",description:"Show system notifications",checked:s.notifications,onChange:e=>l("notifications",e)}),(0,ui.jsx)(Wu,{icon:(0,ui.jsx)(ru,{size:18,color:"#f59e0b"}),title:"Auto-save",description:"Automatically save file changes",checked:s.autoSave,onChange:e=>l("autoSave",e)}),(0,ui.jsx)(Wu,{icon:(0,ui.jsx)(Fa,{size:18,color:"#8b5cf6"}),title:"Show Welcome Screen",description:"Display welcome message on login",checked:s.showWelcome,onChange:e=>l("showWelcome",e)})]}),"accessibility"===c&&(0,ui.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Font Size"}),(0,ui.jsx)("div",{style:{display:"flex",gap:"12px"},children:["small","medium","large"].map(e=>(0,ui.jsx)("button",{onClick:()=>l("fontSize",e),style:{flex:1,padding:"12px",background:s.fontSize===e?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.05)",border:s.fontSize===e?"2px solid #3b82f6":"2px solid rgba(255, 255, 255, 0.33)",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"small"===e?"12px":"large"===e?"16px":"14px",fontWeight:"600",textTransform:"capitalize"},children:e},e))})]}),(0,ui.jsx)(Wu,{icon:(0,ui.jsx)(ru,{size:18,color:"#10b981"}),title:"Enable Animations",description:"Show smooth transitions and effects",checked:s.animationsEnabled,onChange:e=>l("animationsEnabled",e)}),(0,ui.jsxs)("div",{children:[(0,ui.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Preview"}),(0,ui.jsxs)("div",{style:{padding:"16px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",fontSize:"small"===s.fontSize?"12px":"large"===s.fontSize?"16px":"14px"},children:[(0,ui.jsx)("p",{style:{color:"white",margin:0},children:"The quick brown fox jumps over the lazy dog."}),(0,ui.jsx)("p",{style:{color:"#9ca3af",margin:"8px 0 0 0"},children:"This is how text will appear throughout the system."})]})]})]})]})]})}),(0,ui.jsx)(Iu,{children:(0,ui.jsx)(Nu,{onClick:o,children:"Done"})})]})]})})},Hu={overlay:{position:"fixed",inset:0,zIndex:999999,background:"transparent"},menu:{position:"absolute",minWidth:"220px",background:"rgba(40,40,40,0.75)",backdropFilter:"blur(14px) saturate(180%)",WebkitBackdropFilter:"blur(14px) saturate(180%)",borderRadius:"10px",padding:"6px 0",boxShadow:"0 8px 24px rgba(0,0,0,0.35)",animation:"fadeInScale 0.12s ease-out"},item:{padding:"8px 14px",fontSize:"14px",color:"white",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",transition:"background 0.15s"},icon:{opacity:.8,display:"flex",alignItems:"center"},separator:{height:"1px",background:"rgba(255,255,255,0.12)",margin:"6px 0"}},Vu=document.styleSheets[0];Vu.insertRule("\n@keyframes fadeInScale {\n  from { opacity: 0; transform: scale(0.95); }\n  to { opacity: 1; transform: scale(1); }\n}\n",Vu.cssRules.length);const Ku=()=>{const{menu:e,closeContextMenu:t}=Zi();return e.visible?(0,ui.jsx)("div",{onClick:t,style:Hu.overlay,children:(0,ui.jsx)("div",{style:c(c({},Hu.menu),{},{top:e.y,left:e.x}),onClick:e=>e.stopPropagation(),children:e.actions.map((e,n)=>e.separator?(0,ui.jsx)("div",{style:Hu.separator},n):(0,ui.jsxs)("div",{style:Hu.item,onClick:()=>{var n;t(),null===(n=e.onClick||e.action)||void 0===n||n()},children:[e.icon&&(0,ui.jsx)("span",{style:Hu.icon,children:e.icon}),(0,ui.jsx)("span",{children:e.label})]},n))})}):null},$u=e=>{let{visible:t,onClose:n,onSubmit:i,result:a,onOpenFile:o}=e;const[s,l]=(0,r.useState)("");return(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&n()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]),"files"===(null===a||void 0===a?void 0:a.type)?(0,ui.jsx)("div",{className:"search-results",children:a.results.map(e=>(0,ui.jsxs)("div",{className:"search-result-item",onClick:()=>o(e),children:[(0,ui.jsx)("img",{src:e.thumbnail||"/icons/file.png"}),(0,ui.jsx)("span",{children:e.name})]},e.id))}):t?(0,ui.jsx)("div",{style:Gu.overlay,children:(0,ui.jsx)("div",{style:Gu.box,children:(0,ui.jsx)("input",{autoFocus:!0,value:s,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&i(s),placeholder:"URL or search query... ([ESC] to cancel)",style:Gu.input})})}):null},Gu={overlay:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(8px)",zIndex:99999},box:{background:"rgba(40,40,40,0.85)",padding:"16px",borderRadius:"12px",width:"460px",align:"center",boxShadow:"0 8px 24px rgba(0,0,0,0.4)"},input:{width:"95%",padding:"8px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.1)",color:"white",fontSize:"16px",align:"center"}},Ju=()=>{const[e,t]=(0,r.useState)("login"),[n]=(0,r.useState)("/"),[i,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(!1),l=li(),[u,d]=(0,r.useState)(Ji.visible),{openContextMenu:h}=Zi(),{currentUser:p,isLoading:f,login:g,register:m,logout:y}=(()=>{const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{console.log("Starting session check...");const e=setTimeout(()=>{console.log("Safety timeout triggered - showing login screen"),i(!1)},3e3);try{const{data:e,error:n}=await dr.auth.getSession();console.log("Session check response:",{data:e,error:n}),n&&console.error("Supabase connection error:",n),null!==e&&void 0!==e&&e.session?(console.log("User session found:",e.session.user.email),t(e.session.user)):console.log("No active session found - showing login")}catch(n){console.error("Error during session check:",n)}finally{clearTimeout(e),console.log("Setting isLoading to false"),i(!1)}})();const{data:{subscription:e}}=dr.auth.onAuthStateChange(async(e,n)=>{t(n?n.user:null)});return()=>e.unsubscribe()},[]),{currentUser:e,isLoading:n,login:async(e,t)=>{try{const{error:n}=await dr.auth.signInWithPassword({email:e,password:t});if(n)throw n;return{success:!0}}catch(n){return{success:!1,error:n.message}}},register:async(e,t)=>{try{const{data:n,error:r}=await dr.auth.signUp({email:e,password:t});if(r)throw r;if(n.user)return{success:!0,message:"Account created! Check your email to confirm."}}catch(n){return{success:!1,error:n.message}}},logout:async()=>{await dr.auth.signOut(),t(null)}}})(),{fileSystem:b,saveFile:x,createDirectory:w,deleteFile:k,reloadFileSystem:S}=(e=>{const[t,n]=(0,r.useState)({});(0,r.useEffect)(()=>{e&&i()},[e]);const i=async()=>{await o(),await s()},a=async()=>{const t={"/":{type:"directory",children:[]}},{data:n,error:r}=await dr.from("files").select("*").eq("user_id",e);return r?(console.error("Supabase FS load error:",r),t):n&&0!==n.length?(n.forEach(e=>{t[e.path]={type:e.type,content:e.content,children:"directory"===e.type?[]:void 0}}),n.forEach(e=>{e.parent_path&&t[e.parent_path]&&(t[e.parent_path].children.includes(e.name)||t[e.parent_path].children.push(e.name))}),t):(await l(e),a())},o=async()=>{if(!e)return;const t=await a();t["/"]||(t["/"]={type:"directory",children:[]}),n(t)},s=async()=>{if(!e)return;const t=await a();for(const e in t){const i=t[e];if("/"!==e&&si.some(t=>e.startsWith(t)))if("directory"===i.type)try{await oi.fs.mkdir(e,{recursive:!0})}catch(n){}else try{await oi.fs.writeFile(e,i.content||"","utf-8")}catch(r){}}},l=async e=>{const t=[{path:"/",name:"root",type:"directory",parent_path:null},{path:"/Documents",name:"Documents",type:"directory",parent_path:"/"},{path:"/Pictures",name:"Pictures",type:"directory",parent_path:"/"},{path:"/Videos",name:"Videos",type:"directory",parent_path:"/"},{path:"/Desktop",name:"Desktop",type:"directory",parent_path:"/"},{path:"/Projects",name:"Projects",type:"directory",parent_path:"/"},{path:"/Dev",name:"Dev",type:"directory",parent_path:"/"}].map(t=>c(c({},t),{},{user_id:e}));await dr.from("files").insert(t)};return{fileSystem:t,saveFile:async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file";if(!e)return;const i=t.substring(0,t.lastIndexOf("/"))||"/",a=t.substring(t.lastIndexOf("/")+1);try{const{data:l}=await dr.from("files").select("id").eq("user_id",e).eq("path",t).single();if(l?await dr.from("files").update({content:n,type:r,updated_at:(new Date).toISOString()}).eq("id",l.id):await dr.from("files").insert({user_id:e,path:t,name:a,type:r,content:n,parent_path:i}),await o(),si.some(e=>t.startsWith(e)))try{await oi.fs.writeFile(t,null!==n&&void 0!==n?n:"","utf-8")}catch(s){console.warn("WebContainer mirror write failed:",s)}}catch(l){console.error("Error saving file:",l)}},createDirectory:async(t,n)=>{if(!e)return;const r="/"===t?"/".concat(n):"".concat(t,"/").concat(n);try{if(await dr.from("files").insert({user_id:e,path:r,name:n,type:"directory",parent_path:t}),await o(),si.some(e=>r.startsWith(e)))try{await oi.fs.mkdir(r,{recursive:!0})}catch(i){console.warn("WebContainer mirror mkdir failed:",i)}}catch(a){console.error("Error creating directory:",a)}},deleteFile:async t=>{if(e)try{if(await dr.from("files").delete().eq("user_id",e).eq("path",t),await o(),si.some(e=>t.startsWith(e)))try{await oi.fs.rm(t,{recursive:!0})}catch(n){console.warn("WebContainer mirror rm failed:",n)}}catch(r){console.error("Error deleting file:",r)}},reloadFileSystem:o,syncSupabaseIntoWebContainer:s}})(null===p||void 0===p?void 0:p.id),_=(e=>{const[t,n]=(0,r.useState)("default"),[i,a]=(0,r.useState)("wheel"),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)("#3b82f6"),[u,d]=(0,r.useState)("medium"),[h,p]=(0,r.useState)("classic"),[f,g]=(0,r.useState)(!0),[m,y]=(0,r.useState)(!0),[v,b]=(0,r.useState)(!0),[x,w]=(0,r.useState)(!0),[k,S]=(0,r.useState)("grid"),[_,j]=(0,r.useState)(!0),[C,E]=(0,r.useState)(!0),T=(0,r.useCallback)(async()=>{var t,r,i,o,l,u,h,f,m,v,x,k;const{data:_,error:C}=await dr.from("user_settings").select("settings").eq("id",e).single();if(C)return console.warn("No remote settings found, using defaults."),void E(!1);const T=_.settings||{};n(null!==(t=T.theme)&&void 0!==t?t:"default"),a(null!==(r=T.desktopLayout)&&void 0!==r?r:"wheel"),s(null!==(i=T.displayName)&&void 0!==i?i:""),c(null!==(o=T.avatarColor)&&void 0!==o?o:"#3b82f6"),d(null!==(l=T.fontSize)&&void 0!==l?l:"medium"),p(null!==(u=T.terminalTheme)&&void 0!==u?u:"classic"),g(null===(h=T.showWelcome)||void 0===h||h),y(null===(f=T.autoSave)||void 0===f||f),b(null===(m=T.notifications)||void 0===m||m),w(null===(v=T.animationsEnabled)||void 0===v||v),S(null!==(x=T.defaultFileView)&&void 0!==x?x:"grid"),j(null===(k=T.showTipsWidget)||void 0===k||k),E(!1)},[e]),R=(0,r.useCallback)(async t=>{await dr.from("user_settings").upsert({id:e,settings:t,updated_at:new Date})},[e]);return(0,r.useEffect)(()=>{e&&T()},[e,T]),(0,r.useEffect)(()=>{e&&!C&&R({theme:t,desktopLayout:i,displayName:o,avatarColor:l,fontSize:u,terminalTheme:h,showWelcome:f,autoSave:m,notifications:v,animationsEnabled:x,defaultFileView:k,showTipsWidget:_})},[t,i,o,l,u,h,f,m,v,x,k,_,e,C,R]),{theme:t,desktopLayout:i,displayName:o,avatarColor:l,fontSize:u,terminalTheme:h,showWelcome:f,autoSave:m,notifications:v,animationsEnabled:x,defaultFileView:k,showTipsWidget:_,updateTheme:e=>n(e),updateDesktopLayout:e=>a(e),updateDisplayName:e=>s(e),updateAvatarColor:e=>c(e),updateFontSize:e=>d(e),updateTerminalTheme:e=>p(e),updateShowWelcome:e=>g(e),updateAutoSave:e=>y(e),updateNotifications:e=>b(e),updateAnimationsEnabled:e=>w(e),updateDefaultFileView:e=>S(e),updateShowTipsWidget:e=>j(e),isLoading:C}})(null===p||void 0===p?void 0:p.id),{windows:j,activeWindow:C,setActiveWindow:E,createWindow:T,closeWindow:R,minimizeWindow:O,restoreWindow:P,maximizeWindow:z,updateWindowPosition:A}=(()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(0),[a,o]=(0,r.useState)(null);return{windows:e,activeWindow:a,setActiveWindow:o,createWindow:function(r){const a=c({id:n,app:r,x:100+30*n%400,y:100+30*n%300,width:800,height:600,minimized:!1,maximized:!1},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});t([...e,a]),o(n),i(n+1)},closeWindow:n=>{t(e.filter(e=>e.id!==n)),a===n&&o(e.length>1?e[e.length-2].id:null)},minimizeWindow:n=>{t(e.map(e=>e.id===n?c(c({},e),{},{minimized:!0}):e))},restoreWindow:n=>{t(e.map(e=>e.id===n?c(c({},e),{},{minimized:!1,maximized:!1}):e)),o(n)},maximizeWindow:n=>{t(e.map(e=>e.id===n?c(c({},e),{},{maximized:!e.maximized}):e))},updateWindowPosition:(n,r,i)=>{t(e.map(e=>e.id===n?c(c({},e),{},{x:r,y:i}):e))}}})(),{pinnedApps:I,pinToTaskbar:N,unpinFromTaskbar:L,isPinned:D}=(()=>{const e="airos_pinned_apps",[t,n]=(0,r.useState)([]);return(0,r.useEffect)(()=>{try{const t=localStorage.getItem(e);if(t){const e=JSON.parse(t);Array.isArray(e)&&n(e)}}catch(t){console.warn("Failed to load pinned apps from storage:",t)}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("Failed to save pinned apps to storage:",n)}},[t]),{pinnedApps:t,pinToTaskbar:e=>{n(t=>t.includes(e)?t:[...t,e])},unpinFromTaskbar:e=>{n(t=>t.filter(t=>t!==e))},togglePin:e=>{n(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},isPinned:e=>t.includes(e)}})();(0,r.useEffect)(()=>{var e,t,n,r;if(!p)return;const i=document.documentElement;null===(e=i.requestFullscreen)||void 0===e||e.call(i),null===(t=i.webkitRequestFullscreen)||void 0===t||t.call(i),null===(n=i.mozRequestFullScreen)||void 0===n||n.call(i),null===(r=i.msRequestFullscreen)||void 0===r||r.call(i)},[p]);const M=(0,r.useMemo)(()=>{return e=_.theme,ci[e]||ci.default;var e},[_.theme]);(0,r.useEffect)(()=>Ji.subscribe(()=>{d(Ji.visible)}),[]),(0,r.useEffect)(()=>{const e=e=>{e.ctrlKey&&"Space"===e.code&&(e.preventDefault(),Ji.show())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,r.useEffect)(()=>{const e=e=>{e.target.closest('input, textarea, [contenteditable="true"], [data-no-context]')||(e.preventDefault(),h(e,{type:"global"}))};return window.addEventListener("contextmenu",e),()=>window.removeEventListener("contextmenu",e)},[h]);const U=(0,r.useCallback)((e,t)=>{const n=b[t];if(!n)return console.warn("File not found:",t);const r=t.toLowerCase(),i=()=>{if("string"===typeof n.content&&n.content.startsWith("data:"))return n.content;const e=r.split(".").pop();return"data:".concat({mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",mov:"video/quicktime",mp3:"audio/mpeg",wav:"audio/wav",flac:"audio/flac",m4a:"audio/mp4",aac:"audio/aac"}[e]||"application/octet-stream",";base64,").concat(n.content||"")};/\.(jpg|jpeg|png|gif|svg|webp)$/i.test(r)?T("image",{title:e,src:i(),filePath:t}):/\.(mp4|webm|ogg|mov|mp3|wav|flac|m4a|aac)$/i.test(r)?T("video",{title:e,src:i(),width:1280,height:940}):T("text",{title:e,filePath:t,width:1800,height:1280})},[b,T]),F=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"Breeze"!==e?"files"!==e?"Browser"!==e?T(e,c({title:e},t)):T("Browser",c({title:"Browser",width:1200,height:800},t)):T("files",c({title:"File Manager"},t)):T("Breeze",{title:"Breeze: Messaging and Circles",width:900,height:650,icon:v,component:eo,props:c({currentUser:p},t)})},[T,p]),B=(0,r.useCallback)(()=>a(e=>!e),[]),W=(0,r.useCallback)(()=>s(!0),[]),q=(0,r.useCallback)(()=>{const e=j.find(e=>"calendar"===e.app);e?(E(e.id),e.minimized&&P(e.id)):T("calendar",{title:"Calendar",width:900,height:650})},[j,E,P,T]);return f?(0,ui.jsx)(pi,{onSkip:()=>{}}):p?(0,ui.jsxs)("div",{style:{width:"100%",height:"98.7vh",display:"flex",flexDirection:"column",background:M.gradient,overflow:"hidden",transition:"background 0.5s ease"},children:[(0,ui.jsxs)("div",{style:{flex:2,position:"relative"},children:["wheel"===_.desktopLayout?(0,ui.jsx)(Vc,{onLaunchApp:F,pinToTaskbar:N,settings:_,isPinned:D,unpinFromTaskbar:L,mobile:l}):(0,ui.jsx)(Kc,{onLaunchApp:F,pinToTaskbar:N,isPinned:D,mobile:l}),(0,ui.jsx)($u,{visible:u,onClose:()=>Ji.hide(),onSubmit:e=>Ji.submit(e,F)}),j.map(e=>(0,ui.jsx)(Jc,{window:e,activeWindow:C,setActiveWindow:E,onMinimize:O,onMaximize:z,onClose:R,onUpdatePosition:A,fileSystem:b,saveFile:x,createDirectory:w,deleteFile:k,reloadFileSystem:S,userId:null===p||void 0===p?void 0:p.id,currentPath:n,onOpenFile:U,createWindow:T,currentUser:p,updateTheme:_.updateTheme,updateDesktopLayout:_.updateDesktopLayout,mobile:l},e.id)),(0,ui.jsx)(Zc,{isOpen:i,onClose:()=>a(!1),onLaunchApp:F,onOpenSettings:W}),(0,ui.jsx)(qu,{isOpen:o,onClose:()=>s(!1),settings:_,onUpdateSetting:(e,t)=>{const n=_["update".concat(e.charAt(0).toUpperCase()+e.slice(1))];n&&n(t)}}),(0,ui.jsx)(Ku,{})]}),_.showTipsWidget&&(0,ui.jsx)(di,{onDisable:()=>_.updateShowTipsWidget(!1)}),(0,ui.jsx)(Qc,{windows:j,activeWindow:C,pinnedApps:I,currentUser:p,onRestoreWindow:P,onToggleAppMenu:B,onOpenCalendar:q,onLogout:y,onLaunchApp:F,mobile:l})]}):(0,ui.jsx)(mi,{onLogin:g,onRegister:m,loginMode:e,setLoginMode:t})},Yu=()=>(0,ui.jsx)(Xi,{children:(0,ui.jsx)(Ju,{})}),Qu=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)})};i.createRoot(document.getElementById("root")).render((0,ui.jsx)(Yu,{})),Qu()})();
//# sourceMappingURL=main.258c18d5.js.map