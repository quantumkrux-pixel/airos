/*! For license information please see main.6596454c.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),a=n(43),i=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function A(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:A(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return A(e(t))}catch(vs){}}return null}var I=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},D=[],M=-1;function U(e){return{current:e}}function F(e){0>M||(e.current=D[M],D[M]=null,M--)}function W(e,t){M++,D[M]=e.current,e.current=t}var B,q,H=U(null),V=U(null),K=U(null),$=U(null);function G(e,t){switch(W(K,t),W(V,e),W(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(H),W(H,e)}function J(){F(H),F(V),F(K)}function Y(e){null!==e.memoizedState&&W($,e);var t=H.current,n=bd(t,e.type);t!==n&&(W(V,e),W(H,n))}function Q(e){V.current===e&&(F(H),F(V)),$.current===e&&(F($),dh._currentValue=L)}function X(e){if(void 0===B)try{throw Error()}catch(vs){var t=vs.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",q=-1<vs.stack.indexOf("\n    at")?" (<anonymous>)":-1<vs.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(vs){var r=vs}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(vs){return"\nError generating stack: "+vs.message+"\n"+vs.stack}}var re=Object.prototype.hasOwnProperty,ae=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,oe=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof ge&&me(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(xe(e)/ke|0)|0},xe=Math.log,ke=Math.LN2;var Se=256,_e=262144,Ee=4194304;function je(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?a=je(r):0!==(o&=s)?a=je(o):n||0!==(n=s&~e)&&(a=je(n)):0!==(s=r&~i)?a=je(s):0!==o?a=je(o):n||0!==(n=r&~e)&&(a=je(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Oe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Re(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Ne(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=N.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function Ue(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var Fe=Math.random().toString(36).slice(2),We="__reactFiber$"+Fe,Be="__reactProps$"+Fe,qe="__reactContainer$"+Fe,He="__reactEvents$"+Fe,Ve="__reactListeners$"+Fe,Ke="__reactHandles$"+Fe,$e="__reactResources$"+Fe,Ge="__reactMarker$"+Fe;function Je(e){delete e[We],delete e[Be],delete e[He],delete e[Ve],delete e[Ke]}function Ye(e){var t=e[We];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[We]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Dd(e);null!==e;){if(n=e[We])return n;e=Dd(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[We]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Ze(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,nt={};function rt(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ot={},st={};function lt(e,t,n){if(a=t,re.call(st,a)||!re.call(ot,a)&&(it.test(a)?st[a]=!0:(ot[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function yt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,a,i,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?wt(e,o,dt(t)):null!=n?wt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function bt(e,t,n,r,a,i,o,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o),ft(e)}function wt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(I(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function _t(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&jt(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&jt(e,i,t[i])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ot=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Rt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function At(){}var It=null;function zt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Lt=null;function Dt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Be]||null;if(!a)throw Error(o(90));vt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Mt=!1;function Ut(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Nt||null!==Lt)&&(eu(),Nt&&(t=Nt,e=Lt,Lt=Nt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Wt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Wt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Xh){Bt=!1}var Ht=null,Vt=null,Kt=null;function $t(){if(Kt)return Kt;var e,t,n=Vt,r=n.length,a="value"in Ht?Ht.value:Ht.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Kt=a.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Yt(){return!1}function Qt(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Jt:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Qt(tn),rn=f({},tn,{view:0,detail:0}),an=Qt(rn),on=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Qt(on),ln=Qt(f({},on,{dataTransfer:0})),cn=Qt(f({},rn,{relatedTarget:0})),un=Qt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Qt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Qt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return mn}var vn=Qt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Qt(f({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Qt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),xn=Qt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Qt(f({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Qt(f({},tn,{newState:0,oldState:0})),_n=[9,13,27,32],En=Wt&&"CompositionEvent"in window,jn=null;Wt&&"documentMode"in document&&(jn=document.documentMode);var Cn=Wt&&"TextEvent"in window&&!jn,Tn=Wt&&(!En||jn&&8<jn&&11>=jn),On=String.fromCharCode(32),Rn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Ln(e,t,n,r){Nt?Lt?Lt.push(r):Lt=[r]:Nt=r,0<(t=ad(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Mn=null;function Un(e){Yu(e,0)}function Fn(e){if(pt(Xe(e)))return e}function Wn(e,t){if("change"===e)return t}var Bn=!1;if(Wt){var qn;if(Wt){var Hn="oninput"in document;if(!Hn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Hn="function"===typeof Vn.oninput}qn=Hn}else qn=!1;Bn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){Dn&&(Dn.detachEvent("onpropertychange",$n),Mn=Dn=null)}function $n(e){if("value"===e.propertyName&&Fn(Mn)){var t=[];Ln(t,Mn,e,zt(e)),Ut(Un,t)}}function Gn(e,t,n){"focusin"===e?(Kn(),Mn=n,(Dn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Kn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Mn)}function Yn(e,t){if("click"===e)return Fn(t)}function Qn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!re.call(t,a)||!Xn(e[a],t[a]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Wt&&"documentMode"in document&&11>=document.documentMode,or=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==or||or!==gt(r)||("selectionStart"in(r=or)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=ad(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function gr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Wt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var mr=gr("animationend"),yr=gr("animationiteration"),vr=gr("animationstart"),br=gr("transitionrun"),wr=gr("transitionstart"),xr=gr("transitioncancel"),kr=gr("transitionend"),Sr=new Map,_r="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Sr.set(e,t),rt(t,[e])}_r.push("scrollEnd");var jr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Tr=0,Or=0;function Rr(){for(var e=Tr,t=Or=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var a=Cr[t];Cr[t++]=null;var i=Cr[t];if(Cr[t++]=null,null!==r&&null!==a){var o=r.pending;null===o?a.next=a:(a.next=o.next,o.next=a),r.pending=a}0!==i&&zr(n,a,i)}}function Pr(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,Or|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Pr(e,t,n,r),Nr(e)}function Ir(e,t){return Pr(e,null,null,t),Nr(e)}function zr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-we(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Nr(e){if(50<Vc)throw Vc=0,Kc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Dr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,a,i){var s=0;if(r=e,"function"===typeof e)Ur(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Mr(31,n,t,a)).elementType=C,e.lanes=i,e;case y:return qr(n.children,a,i,t);case v:s=8,a|=24;break;case b:return(e=Mr(12,n,t,2|a)).elementType=b,e.lanes=i,e;case S:return(e=Mr(13,n,t,a)).elementType=S,e.lanes=i,e;case _:return(e=Mr(19,n,t,a)).elementType=_,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case w:s=9;break e;case k:s=11;break e;case E:s=14;break e;case j:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function qr(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Vr(e){var t=Mr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var $r=new WeakMap;function Gr(e,t){if("object"===typeof e&&null!==e){var n=$r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},$r.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Jr=[],Yr=0,Qr=null,Xr=0,Zr=[],ea=0,ta=null,na=1,ra="";function aa(e,t){Jr[Yr++]=Xr,Jr[Yr++]=Qr,Qr=e,Xr=t}function ia(e,t,n){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,ta=e;var r=na;e=ra;var a=32-we(r)-1;r&=~(1<<a),n+=1;var i=32-we(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,na=1<<32-we(t)+a|n<<a|r,ra=i+e}else na=1<<i|n<<a|r,ra=e}function oa(e){null!==e.return&&(aa(e,1),ia(e,1,0))}function sa(e){for(;e===Qr;)Qr=Jr[--Yr],Jr[Yr]=null,Xr=Jr[--Yr],Jr[Yr]=null;for(;e===ta;)ta=Zr[--ea],Zr[ea]=null,ra=Zr[--ea],Zr[ea]=null,na=Zr[--ea],Zr[ea]=null}function la(e,t){Zr[ea++]=na,Zr[ea++]=ra,Zr[ea++]=ta,na=t.id,ra=t.overflow,ta=e}var ca=null,ua=null,da=!1,ha=null,fa=!1,pa=Error(o(519));function ga(e){throw xa(Gr(Error(o(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pa}function ma(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[We]=e,t[Be]=r,n){case"dialog":Qu("cancel",t),Qu("close",t);break;case"iframe":case"object":case"embed":Qu("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)Qu(Gu[n],t);break;case"source":Qu("error",t);break;case"img":case"image":case"link":Qu("error",t),Qu("load",t);break;case"details":Qu("toggle",t);break;case"input":Qu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qu("invalid",t);break;case"textarea":Qu("invalid",t),St(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Qu("beforetoggle",t),Qu("toggle",t)),null!=r.onScroll&&Qu("scroll",t),null!=r.onScrollEnd&&Qu("scrollend",t),null!=r.onClick&&(t.onclick=At),t=!0):t=!1,t||ga(e,!0)}function ya(e){for(ca=e.return;ca;)switch(ca.tag){case 5:case 31:case 13:return void(fa=!1);case 27:case 3:return void(fa=!0);default:ca=ca.return}}function va(e){if(e!==ca)return!1;if(!da)return ya(e),da=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&ua&&ga(e),ya(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ua=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));ua=Ld(e)}else 27===n?(n=ua,Cd(e.type)?(e=Nd,Nd=null,ua=e):ua=n):ua=ca?zd(e.stateNode.nextSibling):null;return!0}function ba(){ua=ca=null,da=!1}function wa(){var e=ha;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),ha=null),e}function xa(e){null===ha?ha=[e]:ha.push(e)}var ka=U(null),Sa=null,_a=null;function Ea(e,t,n){W(ka,t._currentValue),t._currentValue=n}function ja(e){e._currentValue=ka.current,F(ka)}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var s=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Ca(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),Ca(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Oa(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=a.type;Xn(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===$.current){if(null===(s=a.alternate))throw Error(o(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}a=a.return}null!==e&&Ta(t,e,n,r),t.flags|=262144}function Ra(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pa(e){Sa=e,_a=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Aa(e){return za(Sa,e)}function Ia(e,t){return null===Sa&&Pa(e),za(e,t)}function za(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===_a){if(null===e)throw Error(o(308));_a=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _a=_a.next=t;return n}var Na="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},La=r.unstable_scheduleCallback,Da=r.unstable_NormalPriority,Ma={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ua(){return{controller:new Na,data:new Map,refCount:0}}function Fa(e){e.refCount--,0===e.refCount&&La(Da,function(){e.controller.abort()})}var Wa=null,Ba=0,qa=0,Ha=null;function Va(){if(0===--Ba&&null!==Wa){null!==Ha&&(Ha.status="fulfilled");var e=Wa;Wa=null,qa=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ka=z.S;z.S=function(e,t){zc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Wa){var n=Wa=[];Ba=0,qa=qu(),Ha={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ba++,t.then(Va,Va)}(0,t),null!==Ka&&Ka(e,t)};var $a=U(null);function Ga(){var e=$a.current;return null!==e?e:gc.pooledCache}function Ja(e,t){W($a,null===t?$a.current:t.pool)}function Ya(){var e=Ga();return null===e?null:{parent:Ma._currentValue,pool:e}}var Qa=Error(o(460)),Xa=Error(o(474)),Za=Error(o(542)),ei={then:function(){}};function ti(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ni(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(At,At),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oi(e=t.reason),e;default:if("string"===typeof t.status)t.then(At,At);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oi(e=t.reason),e}throw ai=t,Qa}}function ri(e){try{return(0,e._init)(e._payload)}catch(vs){if(null!==vs&&"object"===typeof vs&&"function"===typeof vs.then)throw ai=vs,Qa;throw vs}}var ai=null;function ii(){if(null===ai)throw Error(o(459));var e=ai;return ai=null,e}function oi(e){if(e===Qa||e===Za)throw Error(o(483))}var si=null,li=0;function ci(e){var t=li;return li+=1,null===si&&(si=[]),ni(si,e,t)}function ui(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function di(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===j&&ri(i)===t.type)?(ui(t=a(t,n.props),n),t.return=e,t):(ui(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=qr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return ui(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Kr(t,e.mode,n)).return=e,t;case j:return h(e,t=ri(t),n)}if(I(t)||R(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ci(t),n);if(t.$$typeof===x)return h(e,Ia(e,t),n);di(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?u(e,t,n,r):null;case j:return f(e,t,n=ri(n),r)}if(I(n)||R(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ci(n),r);if(n.$$typeof===x)return f(e,t,Ia(e,n),r);di(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return p(e,t,n,r=ri(r),a)}if(I(r)||R(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return p(e,t,n,ci(r),a);if(r.$$typeof===x)return p(e,t,n,Ia(t,r),a);di(t,r)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===j&&ri(b)===c.type){n(l,c.sibling),ui(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=qr(u.props.children,l.mode,d,u.key)).return=l,l=d):(ui(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return s(l);case j:return v(l,c,u=ri(u),d)}if(I(u))return function(a,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=f(a,d,s[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(a,d),o=i(y,o,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===s.length)return n(a,d),da&&aa(a,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(a,s[g],l))&&(o=i(d,o,g),null===u?c=d:u.sibling=d,u=d);return da&&aa(a,g),c}for(d=r(d);g<s.length;g++)null!==(m=p(d,a,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=i(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),da&&aa(a,g),c}(l,c,u,d);if(R(u)){if("function"!==typeof(b=R(u)))throw Error(o(150));return function(a,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(a,g,v.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(a,g),s=i(b,s,m),null===d?u=b:d.sibling=b,d=b,g=y}if(v.done)return n(a,g),da&&aa(a,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=h(a,v.value,c))&&(s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return da&&aa(a,m),u}for(g=r(g);!v.done;m++,v=l.next())null!==(v=p(g,a,m,v.value,c))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=i(v,s,m),null===d?u=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(a,e)}),da&&aa(a,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return v(l,c,ci(u),d);if(u.$$typeof===x)return v(l,c,Ia(l,u),d);di(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Hr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{li=0;var a=v(e,t,n,r);return si=null,a}catch(vs){if(vs===Qa||vs===Za)throw vs;var i=Mr(29,vs,null,e.mode);return i.lanes=r,i.return=e,i}}}var fi=hi(!0),pi=hi(!1),gi=!1;function mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Nr(e),zr(e,null,n),t}return Pr(e,r,t,n),Nr(e)}function wi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ze(e,n)}}function xi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ki=!1;function Si(){if(ki){if(null!==Ha)throw Ha}}function _i(e,t,n,r){ki=!1;var a=e.updateQueue;gi=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?i=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(o=0,u=c=l=null,s=i;;){var h=-536870913&s.lane,p=h!==s.lane;if(p?(yc&h)===h:(r&h)===h){0!==h&&h===qa&&(ki=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;h=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(y,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=m.payload)?g.call(y,d,h):g)||void 0===h)break e;d=f({},d,h);break e;case 2:gi=!0}}null!==(h=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=h;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===i&&(a.shared.lanes=0),Ec|=o,e.lanes=o,e.memoizedState=d}}function Ei(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ji(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ei(n[e],t)}var Ci=U(null),Ti=U(0);function Oi(e,t){W(Ti,e=Sc),W(Ci,t),Sc=e|t.baseLanes}function Ri(){W(Ti,Sc),W(Ci,Ci.current)}function Pi(){Sc=Ti.current,F(Ci),F(Ti)}var Ai=U(null),Ii=null;function zi(e){var t=e.alternate;W(Ui,1&Ui.current),W(Ai,e),null===Ii&&(null===t||null!==Ci.current||null!==t.memoizedState)&&(Ii=e)}function Ni(e){W(Ui,Ui.current),W(Ai,e),null===Ii&&(Ii=e)}function Li(e){22===e.tag?(W(Ui,Ui.current),W(Ai,e),null===Ii&&(Ii=e)):Di()}function Di(){W(Ui,Ui.current),W(Ai,Ai.current)}function Mi(e){F(Ai),Ii===e&&(Ii=null),F(Ui)}var Ui=U(0);function Fi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ad(n)||Id(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wi=0,Bi=null,qi=null,Hi=null,Vi=!1,Ki=!1,$i=!1,Gi=0,Ji=0,Yi=null,Qi=0;function Xi(){throw Error(o(321))}function Zi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function eo(e,t,n,r,a,i){return Wi=i,Bi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=null===e||null===e.memoizedState?ms:ys,$i=!1,i=n(r,a),$i=!1,Ki&&(i=no(t,n,r,a)),to(e),i}function to(e){z.H=gs;var t=null!==qi&&null!==qi.next;if(Wi=0,Hi=qi=Bi=null,Vi=!1,Ji=0,Yi=null,t)throw Error(o(300));null===e||zs||null!==(e=e.dependencies)&&Ra(e)&&(zs=!0)}function no(e,t,n,r){Bi=e;var a=0;do{if(Ki&&(Yi=null),Ji=0,Ki=!1,25<=a)throw Error(o(301));if(a+=1,Hi=qi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}z.H=bs,i=t(n,r)}while(Ki);return i}function ro(){var e=z.H,t=e.useState()[0];return t="function"===typeof t.then?co(t):t,e=e.useState()[0],(null!==qi?qi.memoizedState:null)!==e&&(Bi.flags|=1024),t}function ao(){var e=0!==Gi;return Gi=0,e}function io(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oo(e){if(Vi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vi=!1}Wi=0,Hi=qi=Bi=null,Ki=!1,Ji=Gi=0,Yi=null}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hi?Bi.memoizedState=Hi=e:Hi=Hi.next=e,Hi}function lo(){if(null===qi){var e=Bi.alternate;e=null!==e?e.memoizedState:null}else e=qi.next;var t=null===Hi?Bi.memoizedState:Hi.next;if(null!==t)Hi=t,qi=e;else{if(null===e){if(null===Bi.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(qi=e).memoizedState,baseState:qi.baseState,baseQueue:qi.baseQueue,queue:qi.queue,next:null},null===Hi?Bi.memoizedState=Hi=e:Hi=Hi.next=e}return Hi}function co(e){var t=Ji;return Ji+=1,null===Yi&&(Yi=[]),e=ni(Yi,e,t),t=Bi,null===(null===Hi?t.memoizedState:Hi.next)&&(t=t.alternate,z.H=null===t||null===t.memoizedState?ms:ys),e}function uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return co(e);if(e.$$typeof===x)return Aa(e)}throw Error(o(438,String(e)))}function ho(e){var t=null,n=Bi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Bi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Bi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function fo(e,t){return"function"===typeof t?t(e):t}function po(e){return go(lo(),qi,e)}function go(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(yc&h)===h:(Wi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===qa&&(d=!0);else{if((Wi&f)===f){u=u.next,f===qa&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,Bi.lanes|=f,Ec|=f}h=u.action,$i&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=i):c=c.next=f,Bi.lanes|=h,Ec|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Xn(i,e.memoizedState)&&(zs=!0,d&&null!==(n=Ha)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mo(e){var t=lo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);Xn(i,t.memoizedState)||(zs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function yo(e,t,n){var r=Bi,a=lo(),i=da;if(i){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Xn((qi||a).memoizedState,n);if(s&&(a.memoizedState=n,zs=!0),a=a.queue,Bo(wo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||null!==Hi&&1&Hi.memoizedState.tag){if(r.flags|=2048,Do(9,{destroy:void 0},bo.bind(null,r,a,n,t),null),null===gc)throw Error(o(349));i||0!==(127&Wi)||vo(r,t,n)}return n}function vo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Bi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Bi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bo(e,t,n,r){t.value=n,t.getSnapshot=r,xo(t)&&ko(e)}function wo(e,t,n){return n(function(){xo(t)&&ko(e)})}function xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function ko(e){var t=Ir(e,2);null!==t&&Jc(t,e,2)}function So(e){var t=so();if("function"===typeof e){var n=e;if(e=n(),$i){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t}function _o(e,t,n,r){return e.baseState=n,go(e,qi,"function"===typeof r?r:fo)}function Eo(e,t,n,r,a){if(hs(e))throw Error(o(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==z.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,jo(t,i)):(i.next=n.next,t.pending=n.next=i)}}function jo(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=z.T,o={};z.T=o;try{var s=n(a,r),l=z.S;null!==l&&l(o,s),Co(e,t,s)}catch(c){Oo(e,t,c)}finally{null!==i&&null!==o.types&&(i.types=o.types),z.T=i}}else try{Co(e,t,i=n(a,r))}catch(u){Oo(e,t,u)}}function Co(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){To(e,t,n)},function(n){return Oo(e,t,n)}):To(e,t,n)}function To(e,t,n){t.status="fulfilled",t.value=n,Ro(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,jo(e,n)))}function Oo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ro(t),t=t.next}while(t!==r)}e.action=null}function Ro(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function Ao(e,t){if(da){var n=gc.formState;if(null!==n){e:{var r=Bi;if(da){if(ua){t:{for(var a=ua,i=fa;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=zd(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){ua=zd(a.nextSibling),r="F!"===a.data;break e}}ga(r)}r=!1}r&&(t=n[0])}}return(n=so()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},n.queue=r,n=cs.bind(null,Bi,r),r.dispatch=n,r=So(!1),i=ds.bind(null,Bi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=so()).queue=a,n=Eo.bind(null,Bi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function Io(e){return zo(lo(),qi,e)}function zo(e,t,n){if(t=go(e,t,Po)[0],e=po(fo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=co(t)}catch(vs){if(vs===Qa)throw Za;throw vs}else r=t;var a=(t=lo()).queue,i=a.dispatch;return n!==t.memoizedState&&(Bi.flags|=2048,Do(9,{destroy:void 0},No.bind(null,a,n),null)),[r,i,e]}function No(e,t){e.action=t}function Lo(e){var t=lo(),n=qi;if(null!==n)return zo(t,n,e);lo(),t=t.memoizedState;var r=(n=lo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Do(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Bi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Bi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mo(){return lo().memoizedState}function Uo(e,t,n,r){var a=so();Bi.flags|=e,a.memoizedState=Do(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fo(e,t,n,r){var a=lo();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==qi&&null!==r&&Zi(r,qi.memoizedState.deps)?a.memoizedState=Do(t,i,n,r):(Bi.flags|=e,a.memoizedState=Do(1|t,i,n,r))}function Wo(e,t){Uo(8390656,8,e,t)}function Bo(e,t){Fo(2048,8,e,t)}function qo(e){var t=lo().memoizedState;return function(e){Bi.flags|=4;var t=Bi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Bi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Ho(e,t){return Fo(4,2,e,t)}function Vo(e,t){return Fo(4,4,e,t)}function Ko(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function $o(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Ko.bind(null,t,e),n)}function Go(){}function Jo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Zi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=lo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Zi(t,r[1]))return r[0];if(r=e(),$i){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Qo(e,t,n){return void 0===n||0!==(1073741824&Wi)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),Bi.lanes|=e,Ec|=e,n)}function Xo(e,t,n,r){return Xn(n,t)?n:null!==Ci.current?(e=Qo(e,n,r),Xn(e,t)||(zs=!0),e):0===(42&Wi)||0!==(1073741824&Wi)&&0===(261930&yc)?(zs=!0,e.memoizedState=n):(e=Gc(),Bi.lanes|=e,Ec|=e,t)}function Zo(e,t,n,r,a){var i=N.p;N.p=0!==i&&8>i?i:8;var o=z.T,s={};z.T=s,ds(e,!1,t,n);try{var l=a(),c=z.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)us(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),$c());else us(e,t,r,$c())}catch(u){us(e,t,{then:function(){},status:"rejected",reason:u},$c())}finally{N.p=i,null!==o&&null!==s.types&&(o.types=s.types),z.T=o}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(o(476));var a=ns(e).queue;Zo(e,a,t,L,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},$c())}function as(){return Aa(dh)}function is(){return lo().memoizedState}function os(){return lo().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$c(),r=bi(t,e=vi(n),n);return null!==r&&(Jc(r,t,n),wi(r,t,n)),t={cache:Ua()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=$c();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?fs(t,n):null!==(n=Ar(e,t,n,r))&&(Jc(n,e,r),ps(n,t,r))}function cs(e,t,n){us(e,t,n,$c())}function us(e,t,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))fs(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Xn(s,o))return Pr(e,t,a,0),null===gc&&Rr(),!1}catch(l){}if(null!==(n=Ar(e,t,a,r)))return Jc(n,e,r),ps(n,t,r),!0}return!1}function ds(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(o(479))}else null!==(t=Ar(e,n,r,2))&&Jc(t,e,2)}function hs(e){var t=e.alternate;return e===Bi||null!==t&&t===Bi}function fs(e,t){Ki=Vi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ps(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ze(e,n)}}var gs={readContext:Aa,use:uo,useCallback:Xi,useContext:Xi,useEffect:Xi,useImperativeHandle:Xi,useLayoutEffect:Xi,useInsertionEffect:Xi,useMemo:Xi,useReducer:Xi,useRef:Xi,useState:Xi,useDebugValue:Xi,useDeferredValue:Xi,useTransition:Xi,useSyncExternalStore:Xi,useId:Xi,useHostTransitionStatus:Xi,useFormState:Xi,useActionState:Xi,useOptimistic:Xi,useMemoCache:Xi,useCacheRefresh:Xi};gs.useEffectEvent=Xi;var ms={readContext:Aa,use:uo,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:Wo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){Uo(4,2,e,t)},useMemo:function(e,t){var n=so();t=void 0===t?null:t;var r=e();if($i){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=so();if(void 0!==n){var a=n(t);if($i){be(!0);try{n(t)}finally{be(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=ls.bind(null,Bi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},so().memoizedState=e},useState:function(e){var t=(e=So(e)).queue,n=cs.bind(null,Bi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Go,useDeferredValue:function(e,t){return Qo(so(),e,t)},useTransition:function(){var e=So(!1);return e=Zo.bind(null,Bi,e.queue,!0,!1),so().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Bi,a=so();if(da){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===gc)throw Error(o(349));0!==(127&yc)||vo(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Wo(wo.bind(null,r,i,e),[e]),r.flags|=2048,Do(9,{destroy:void 0},bo.bind(null,r,i,n,t),null),n},useId:function(){var e=so(),t=gc.identifierPrefix;if(da){var n=ra;t="_"+t+"R_"+(n=(na&~(1<<32-we(na)-1)).toString(32)+n),0<(n=Gi++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Qi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:as,useFormState:Ao,useActionState:Ao,useOptimistic:function(e){var t=so();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ds.bind(null,Bi,!0,n),n.dispatch=t,[e,t]},useMemoCache:ho,useCacheRefresh:function(){return so().memoizedState=ss.bind(null,Bi)},useEffectEvent:function(e){var t=so(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(o(440));return n.impl.apply(void 0,arguments)}}},ys={readContext:Aa,use:uo,useCallback:Jo,useContext:Aa,useEffect:Bo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:Yo,useReducer:po,useRef:Mo,useState:function(){return po(fo)},useDebugValue:Go,useDeferredValue:function(e,t){return Xo(lo(),qi.memoizedState,e,t)},useTransition:function(){var e=po(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:is,useHostTransitionStatus:as,useFormState:Io,useActionState:Io,useOptimistic:function(e,t){return _o(lo(),0,e,t)},useMemoCache:ho,useCacheRefresh:os};ys.useEffectEvent=qo;var bs={readContext:Aa,use:uo,useCallback:Jo,useContext:Aa,useEffect:Bo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:Yo,useReducer:mo,useRef:Mo,useState:function(){return mo(fo)},useDebugValue:Go,useDeferredValue:function(e,t){var n=lo();return null===qi?Qo(n,e,t):Xo(n,qi.memoizedState,e,t)},useTransition:function(){var e=mo(fo)[0],t=lo().memoizedState;return["boolean"===typeof e?e:co(e),t]},useSyncExternalStore:yo,useId:is,useHostTransitionStatus:as,useFormState:Lo,useActionState:Lo,useOptimistic:function(e,t){var n=lo();return null!==qi?_o(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ho,useCacheRefresh:os};function ws(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bs.useEffectEvent=qo;var xs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$c(),a=vi(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=bi(e,a,r))&&(Jc(t,e,r),wi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$c(),a=vi(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=bi(e,a,r))&&(Jc(t,e,r),wi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$c(),r=vi(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=bi(e,r,n))&&(Jc(t,e,n),wi(t,e,n))}};function ks(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(a,i))}function Ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xs.enqueueReplaceState(t,t.state,null)}function _s(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=f({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}function Es(e){jr(e)}function js(e){console.error(e)}function Cs(e){jr(e)}function Ts(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Os(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Rs(e,t,n){return(n=vi(n)).tag=3,n.payload={element:null},n.callback=function(){Ts(e,t)},n}function Ps(e){return(e=vi(e)).tag=3,e}function As(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){Os(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Os(t,n,r),"function"!==typeof a&&(null===Dc?Dc=new Set([this]):Dc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Is=Error(o(461)),zs=!1;function Ns(e,t,n,r){t.child=null===e?pi(t,null,n,r):fi(t,e.child,n,r)}function Ls(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Pa(t),r=eo(e,t,n,o,i,a),s=ao(),null===e||zs?(da&&s&&oa(t),t.flags|=1,Ns(e,t,r,a),t.child):(io(e,t,a),il(e,t,a))}function Ds(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Ur(i)||void 0!==i.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ms(e,t,i,r,a))}if(i=e.child,!ol(e,a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return il(e,t,a)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(Zn(i,r)&&e.ref===t.ref){if(zs=!1,t.pendingProps=r=i,!ol(e,a))return t.lanes=e.lanes,il(e,t,a);0!==(131072&e.flags)&&(zs=!0)}}return Vs(e,t,n,r,a)}function Us(e,t,n,r){var a=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~i}else r=0,t.child=null;return Ws(e,t,i,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ws(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ja(0,null!==i?i.cachePool:null),null!==i?Oi(t,i):Ri(),Li(t)}else null!==i?(Ja(0,i.cachePool),Oi(t,i),Di(),t.memoizedState=null):(null!==e&&Ja(0,null),Ri(),Di());return Ns(e,t,a,n),t.child}function Fs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ws(e,t,n,r,a){var i=Ga();return i=null===i?null:{parent:Ma._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ja(0,null),Ri(),Li(t),null!==e&&Oa(e,t,r,!0),t.childLanes=a,null}function Bs(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qs(e,t,n){return fi(t,e.child,null,n),(e=Bs(t,t.pendingProps)).flags|=2,Mi(t),t.memoizedState=null,e}function Hs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vs(e,t,n,r,a){return Pa(t),n=eo(e,t,n,r,void 0,a),r=ao(),null===e||zs?(da&&r&&oa(t),t.flags|=1,Ns(e,t,n,a),t.child):(io(e,t,a),il(e,t,a))}function Ks(e,t,n,r,a,i){return Pa(t),t.updateQueue=null,n=no(t,r,n,a),to(e),r=ao(),null===e||zs?(da&&r&&oa(t),t.flags|=1,Ns(e,t,n,i),t.child):(io(e,t,i),il(e,t,i))}function $s(e,t,n,r,a){if(Pa(t),null===t.stateNode){var i=Lr,o=n.contextType;"object"===typeof o&&null!==o&&(i=Aa(o)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=xs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},mi(t),o=n.contextType,i.context="object"===typeof o&&null!==o?Aa(o):Lr,i.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(ws(t,n,o,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(o=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),o!==i.state&&xs.enqueueReplaceState(i,i.state,null),_i(t,r,i,a),Si(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=_s(n,s);i.props=l;var c=i.context,u=n.contextType;o=Lr,"object"===typeof u&&null!==u&&(o=Aa(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==o)&&Ss(t,i,r,o),gi=!1;var h=t.memoizedState;i.state=h,_i(t,r,i,a),Si(),c=t.memoizedState,s||h!==c||gi?("function"===typeof d&&(ws(t,n,d,r),c=t.memoizedState),(l=gi||ks(t,n,l,r,h,c,o))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=o,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,yi(e,t),u=_s(n,o=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Lr,"object"===typeof c&&null!==c&&(l=Aa(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&Ss(t,i,r,l),gi=!1,h=t.memoizedState,i.state=h,_i(t,r,i,a),Si();var f=t.memoizedState;o!==d||h!==f||gi||null!==e&&null!==e.dependencies&&Ra(e.dependencies)?("function"===typeof s&&(ws(t,n,s,r),f=t.memoizedState),(u=gi||ks(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ra(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Hs(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=fi(t,e.child,null,a),t.child=fi(t,null,n,a)):Ns(e,t,n,a),t.memoizedState=i.state,e=t.child):e=il(e,t,a),e}function Gs(e,t,n,r){return ba(),t.flags|=256,Ns(e,t,n,r),t.child}var Js={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ys(e){return{baseLanes:e,cachePool:Ya()}}function Qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Xs(e,t,n){var r,a=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ui.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(da){if(i?zi(t):Di(),(e=ua)?null!==(e=null!==(e=Pd(e,fa))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ca=t,ua=null):e=null,null===e)throw ga(t);return Id(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Di(),l=el({mode:"hidden",children:l},i=t.mode),a=qr(a,i,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Ys(n),a.childLanes=Qs(e,r,n),t.memoizedState=Js,Fs(null,a)):(zi(t),Zs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(zi(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Di(),t.child=e.child,t.flags|=128,t=null):(Di(),l=a.fallback,i=t.mode,a=el({mode:"visible",children:a.children},i),(l=qr(l,i,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,fi(t,e.child,null,n),(a=t.child).memoizedState=Ys(n),a.childLanes=Qs(e,r,n),t.memoizedState=Js,t=Fs(null,a));else if(zi(t),Id(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(o(419))).stack="",a.digest=r,xa({value:a,source:null,stack:null}),t=tl(e,t,n)}else if(zs||Oa(e,t,n,!1),r=0!==(n&e.childLanes),zs||r){if(null!==(r=gc)&&(0!==(a=Ne(r,n))&&a!==c.retryLane))throw c.retryLane=a,Ir(e,a),Jc(r,e,a),Is;Ad(l)||su(),t=tl(e,t,n)}else Ad(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ua=zd(l.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Zs(t,a.children)).flags|=4096);return t}return i?(Di(),l=a.fallback,i=t.mode,u=(c=e.child).sibling,(a=Fr(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Fr(u,l):(l=qr(l,i,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Fs(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Ys(n):(null!==(i=l.cachePool)?(c=Ma._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Ya(),l={baseLanes:l.baseLanes|n,cachePool:i}),a.memoizedState=l,a.childLanes=Qs(e,r,n),t.memoizedState=Js,Fs(e.child,a)):(zi(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zs(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=Mr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return fi(t,e.child,null,n),(e=Zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function rl(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.treeForkCount=i)}function al(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;r=r.children;var o=Ui.current,s=0!==(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,W(Ui,o),Ns(e,t,r,n),r=da?Xr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Fi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),rl(t,!1,a,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Fi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}rl(t,!0,n,null,i,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Oa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ra(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)zs=!0;else{if(!ol(e,n)&&0===(128&t.flags))return zs=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),Ea(0,Ma,e.memoizedState.cache),ba();break;case 27:case 5:Y(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:Ea(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ni(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(zi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xs(e,t,n):(zi(t),null!==(e=il(e,t,n))?e.sibling:null);zi(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Oa(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return al(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),W(Ui,Ui.current),r)break;return null;case 22:return t.lanes=0,Us(e,t,n,t.pendingProps);case 24:Ea(0,Ma,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);zs=0!==(131072&e.flags)}else zs=!1,da&&0!==(1048576&t.flags)&&ia(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ri(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var a=e.$$typeof;if(a===k){t.tag=11,t=Ls(null,t,e,r,n);break e}if(a===E){t.tag=14,t=Ds(null,t,e,r,n);break e}}throw t=A(e)||e,Error(o(306,t,""))}Ur(e)?(r=_s(e,r),t.tag=1,t=$s(null,t,e,r,n)):(t.tag=0,t=Vs(null,t,e,r,n))}return t;case 0:return Vs(e,t,t.type,t.pendingProps,n);case 1:return $s(e,t,r=t.type,a=_s(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,yi(e,t),_i(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Ea(0,Ma,r),r!==i.cache&&Ta(t,[Ma],n,!0),Si(),r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Gs(e,t,r,n);break e}if(r!==a){xa(a=Gr(Error(o(424)),t)),t=Gs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ua=zd(e.firstChild),ca=t,da=!0,ha=null,fa=!0,n=pi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ba(),r===a){t=il(e,t,n);break e}Ns(e,t,r,n)}t=t.child}return t;case 26:return Hs(e,t),null===e?(n=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:da||(n=t.type,e=t.pendingProps,(r=yd(K.current).createElement(n))[We]=t,r[Be]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&da&&(r=t.stateNode=Md(t.type,t.pendingProps,K.current),ca=t,fa=!0,a=ua,Cd(t.type)?(Nd=a,ua=zd(r.firstChild)):ua=a),Ns(e,t,t.pendingProps.children,n),Hs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&da&&((a=r=ua)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=zd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fa))?(t.stateNode=r,ca=t,ua=zd(r.firstChild),fa=!1,a=!0):a=!1),a||ga(t)),Y(t),a=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,wd(a,i)?r=null:null!==s&&wd(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=eo(e,t,ro,null,null,n),dh._currentValue=a),Hs(e,t),Ns(e,t,r,n),t.child;case 6:return null===e&&da&&((e=n=ua)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=zd(e.nextSibling)))return null}return e}(n,t.pendingProps,fa))?(t.stateNode=n,ca=t,ua=null,e=!0):e=!1),e||ga(t)),null;case 13:return Xs(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fi(t,null,r,n):Ns(e,t,r,n),t.child;case 11:return Ls(e,t,t.type,t.pendingProps,n);case 7:return Ns(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ns(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ea(0,t.type,r.value),Ns(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Pa(t),r=r(a=Aa(a)),t.flags|=1,Ns(e,t,r,n),t.child;case 14:return Ds(e,t,t.type,t.pendingProps,n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 19:return al(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,a=0!==(128&t.flags);if(t.flags&=-129,null===e){if(da){if("hidden"===r.mode)return e=Bs(t,r),t.lanes=536870912,Fs(null,e);if(Ni(t),(e=ua)?null!==(e=null!==(e=Pd(e,fa))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ta?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,ca=t,ua=null):e=null,null===e)throw ga(t);return t.lanes=536870912,null}return Bs(t,r)}var i=e.memoizedState;if(null!==i){var s=i.dehydrated;if(Ni(t),a)if(256&t.flags)t.flags&=-257,t=qs(e,t,n);else{if(null===t.memoizedState)throw Error(o(558));t.child=e.child,t.flags|=128,t=null}else if(zs||Oa(e,t,n,!1),a=0!==(n&e.childLanes),zs||a){if(null!==(r=gc)&&0!==(s=Ne(r,n))&&s!==i.retryLane)throw i.retryLane=s,Ir(e,s),Jc(r,e,s),Is;su(),t=qs(e,t,n)}else e=i.treeContext,ua=zd(s.nextSibling),ca=t,da=!0,ha=null,fa=!1,null!==e&&la(t,e),(t=Bs(t,r)).flags|=4096;return t}return(e=Fr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Us(e,t,n,t.pendingProps);case 24:return Pa(t),r=Aa(Ma),null===e?(null===(a=Ga())&&(a=gc,i=Ua(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},mi(t),Ea(0,Ma,a)):(0!==(e.lanes&n)&&(yi(e,t),_i(t,null,null,n),Si()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Ea(0,Ma,r)):(r=i.cache,Ea(0,Ma,r),r!==a.cache&&Ta(t,[Ma],n,!0))),Ns(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,a){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&a)===a)if(e.stateNode.complete)e.flags|=8192;else{if(!au())throw ai=ei,Xa;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!au())throw ai=ei,Xa;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Re():536870912,e.lanes|=t,Oc|=t)}function hl(e,t){if(!da)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(sa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ja(Ma),J(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(va(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wa())),fl(t),null;case 26:var a=t.type,i=t.memoizedState;return null===e?(ll(t),null!==i?(fl(t),ul(t,i)):(fl(t),cl(t,a,0,0,n))):i?i!==e.memoizedState?(ll(t),fl(t),ul(t,i)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,a,0,0,n)),null;case 27:if(Q(t),n=K.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return fl(t),null}e=H.current,va(t)?ma(t):(e=Md(a,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(Q(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return fl(t),null}if(i=H.current,va(t))ma(t);else{var s=yd(K.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(i=s.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"===typeof r.is?s.createElement(a,{is:r.is}):s.createElement(a)}}i[We]=t,i[Be]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)i.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=i;e:switch(fd(i,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=K.current,va(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ca))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[We]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||ga(t,!0)}else(e=yd(e).createTextNode(r))[We]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=va(t),null!==n){if(null===e){if(!r)throw Error(o(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(557));e[We]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=wa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Mi(t),t):(Mi(t),null);if(0!==(128&t.flags))throw Error(o(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=va(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[We]=t}else ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),a=!1}else a=wa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Mi(t),t):(Mi(t),null)}return Mi(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return J(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return ja(t.type),fl(t),null;case 19:if(F(Ui),null===(r=t.memoizedState))return fl(t),null;if(a=0!==(128&t.flags),null===(i=r.rendering))if(a)hl(r,!1);else{if(0!==_c||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=Fi(e))){for(t.flags|=128,hl(r,!1),e=i.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wr(n,e),n=n.sibling;return W(Ui,1&Ui.current|2),da&&aa(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Nc&&(t.flags|=128,a=!0,hl(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Fi(i))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!da)return fl(t),null}else 2*le()-r.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,a=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Ui.current,W(Ui,a?1&n|2:1&n),da&&aa(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Mi(t),Pi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F($a),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ja(Ma),fl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function gl(e,t){switch(sa(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ja(Ma),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(Mi(t),null===t.alternate)throw Error(o(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Mi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Ui),null;case 4:return J(),null;case 10:return ja(t.type),null;case 22:case 23:return Mi(t),Pi(),null!==e&&F($a),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ja(Ma),null;default:return null}}function ml(e,t){switch(sa(t),t.tag){case 3:ja(Ma),J();break;case 26:case 27:case 5:Q(t);break;case 4:J();break;case 31:null!==t.memoizedState&&Mi(t);break;case 13:Mi(t);break;case 19:F(Ui);break;case 10:ja(t.type);break;case 22:case 23:Mi(t),Pi(),null!==e&&F($a);break;case 24:ja(Ma)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,o=n.inst;r=i(),o.destroy=r}n=n.next}while(n!==a)}}catch(s){_u(t,t.return,s)}}function vl(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,a=t;var l=n,c=s;try{c()}catch(u){_u(a,l,u)}}}r=r.next}while(r!==i)}}catch(u){_u(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ji(t,n)}catch(r){_u(e,e.return,r)}}}function wl(e,t,n){n.props=_s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){_u(e,t,r)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){_u(e,t,a)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){_u(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){_u(e,t,i)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){_u(e,e.return,a)}}function _l(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":i=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void vt(e,s,l,c,u,d,i,a);case"select":for(i in p=s=l=f=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||dd(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":f=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&dd(e,t,a,i,r,c)}return t=l,n=s,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,a)}for(s in r)if(a=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=a||null!=i))switch(s){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(o(91));break;default:a!==i&&dd(e,t,s,a,r,i)}return void kt(e,f,p);case"option":for(var g in n)if(f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else dd(e,t,g,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m)&&dd(e,t,m,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&hd(e,t,y,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&dd(e,t,v,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(a){_u(e,e.return,a)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function jl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=At));else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Ol(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);fd(t,r,n),t[We]=e,t[Be]=n}catch(i){_u(e,e.return,i)}}var Rl=!1,Pl=!1,Al=!1,Il="function"===typeof WeakSet?WeakSet:Set,zl=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Jl(e,n),4&r&&yl(5,n);break;case 1:if(Jl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){_u(n,n.return,o)}else{var a=_s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){_u(n,n.return,s)}}64&r&&bl(n),512&r&&xl(n,n.return);break;case 3:if(Jl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ji(e,t)}catch(o){_u(n,n.return,o)}}break;case 27:null===t&&4&r&&Ol(n);case 26:case 5:Jl(e,n),null===t&&4&r&&Sl(n),512&r&&xl(n,n.return);break;case 12:Jl(e,n);break;case 31:Jl(e,n),4&r&&Wl(e,n);break;case 13:Jl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Rl)){t=null!==t&&null!==t.memoizedState||Pl,a=Rl;var i=Pl;Rl=r,(Pl=t)&&!i?Ql(e,n,0!==(8772&n.subtreeFlags)):Jl(e,n),Rl=a,Pl=i}break;case 30:break;default:Jl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dl=null,Ml=!1;function Ul(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(i){}switch(n.tag){case 26:Pl||kl(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||kl(n,t);var r=Dl,a=Ml;Cd(n.type)&&(Dl=n.stateNode,Ml=!1),Ul(e,t,n),Ud(n.stateNode),Dl=r,Ml=a;break;case 5:Pl||kl(n,t);case 6:if(r=Dl,a=Ml,Dl=null,Ul(e,t,n),Ml=a,null!==(Dl=r))if(Ml)try{(9===Dl.nodeType?Dl.body:"HTML"===Dl.nodeName?Dl.ownerDocument.body:Dl).removeChild(n.stateNode)}catch(o){_u(n,t,o)}else try{Dl.removeChild(n.stateNode)}catch(o){_u(n,t,o)}break;case 18:null!==Dl&&(Ml?(Td(9===(e=Dl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Td(Dl,n.stateNode));break;case 4:r=Dl,a=Ml,Dl=n.stateNode.containerInfo,Ml=!0,Ul(e,t,n),Dl=r,Ml=a;break;case 0:case 11:case 14:case 15:vl(2,n,t),Pl||vl(4,n,t),Ul(e,t,n);break;case 1:Pl||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Ul(e,t,n),Pl=r;break;default:Ul(e,t,n)}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Vh(e)}catch(n){_u(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Vh(e)}catch(n){_u(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Il),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Il),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ou.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Dl=l.stateNode,Ml=!1;break e}break;case 5:Dl=l.stateNode,Ml=!1;break e;case 3:case 4:Dl=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===Dl)throw Error(o(160));Fl(i,s,a),Dl=null,Ml=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Vl=null;function Kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),$l(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),$l(e),512&r&&(Pl||null===n||kl(n,n.return)),64&r&&Rl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Vl;if(Hl(t,e),$l(e),512&r&&(Pl||null===n||kl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Ge]||i[We]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),fd(i,r,n),i[We]=e,et(i),r=i;break e;case"link":var s=rh("link","href",a).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}fd(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(s=rh("meta","content",a).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}fd(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(o(468,r))}i[We]=e,et(i),r=i}e.stateNode=r}else ah(a,e.type,e.stateNode);else e.stateNode=Xd(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?ah(a,e.type,e.stateNode):Xd(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&_l(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),$l(e),512&r&&(Pl||null===n||kl(n,n.return)),null!==n&&4&r&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),$l(e),512&r&&(Pl||null===n||kl(n,n.return)),32&e.flags){a=e.stateNode;try{_t(a,"")}catch(g){_u(e,e.return,g)}}4&r&&null!=e.stateNode&&_l(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(Al=!0);break;case 6:if(Hl(t,e),$l(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(g){_u(e,e.return,g)}}break;case 3:if(nh=null,a=Vl,Vl=Bd(t.containerInfo),Hl(t,e),Vl=a,$l(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(g){_u(e,e.return,g)}Al&&(Al=!1,Gl(e));break;case 4:r=Vl,Vl=Bd(e.stateNode.containerInfo),Hl(t,e),$l(e),Vl=r;break;case 12:default:Hl(t,e),$l(e);break;case 31:case 19:Hl(t,e),$l(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Hl(t,e),$l(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Ic=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Rl,d=Pl;if(Rl=u||a,Pl=d||c,Hl(t,e),Pl=d,Rl=u,$l(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||Rl||Pl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(g){_u(c,c.return,g)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(g){_u(c,c.return,g)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;a?Od(p,!0):Od(c.stateNode,!1)}catch(g){_u(c,c.return,g)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function $l(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var a=n.stateNode;Tl(e,jl(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(_t(i,""),n.flags&=-33),Tl(e,jl(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;Cl(e,jl(e),s);break;default:throw Error(o(161))}}catch(l){_u(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Yl(t);break;case 27:Ud(t.stateNode);case 26:case 5:kl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:Ql(a,i,n),yl(4,i);break;case 1:if(Ql(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){_u(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var s=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)Ei(l[a],s)}catch(c){_u(r,r.return,c)}}n&&64&o&&bl(i),xl(i,i.return);break;case 27:Ol(i);case 26:case 5:Ql(a,i,n),n&&null===r&&4&o&&Sl(i),xl(i,i.return);break;case 12:Ql(a,i,n);break;case 31:Ql(a,i,n),n&&4&o&&Wl(a,i);break;case 13:Ql(a,i,n),n&&4&o&&Bl(a,i);break;case 22:null===i.memoizedState&&Ql(a,i,n),xl(i,i.return);break;case 30:break;default:Ql(a,i,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fa(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&a&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e)));break;case 12:if(2048&a){ec(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){_u(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,null!==t.memoizedState?2&i._visibility?ec(e,t,n,r):rc(e,t):2&i._visibility?ec(e,t,n,r):(i._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&a&&Xl(o,t);break;case 24:ec(e,t,n,r),2048&a&&Zl(t.alternate,t)}}function nc(e,t,n,r,a){for(a=a&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:nc(i,o,s,l,a),yl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?nc(i,o,s,l,a):rc(i,o):(u._visibility|=2,nc(i,o,s,l,a)),a&&2048&c&&Xl(o.alternate,o);break;case 24:nc(i,o,s,l,a),a&&2048&c&&Zl(o.alternate,o);break;default:nc(i,o,s,l,a)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:rc(n,r),2048&a&&Xl(r.alternate,r);break;case 24:rc(n,r),2048&a&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ac=8192;function ic(e,t,n){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&ac&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var a=$d(r.href),i=t.querySelector(Gd(a));if(i)return null!==(t=i._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void et(i);i=t.ownerDocument||t,r=Jd(r),(a=Fd.get(a))&&eh(r,a),et(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Vl;Vl=Bd(e.stateNode.containerInfo),ic(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ac,ac=16777216,ic(e,t,n),ac=r):ic(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];zl=r,dc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];zl=r,dc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==zl;){var n=zl;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,zl=r;else e:for(n=e;null!==zl;){var a=(r=zl).sibling,i=r.return;if(Ll(r),r===n){zl=null;break e}if(null!==a){a.return=i,zl=a;break e}zl=i}}}var hc={getCacheForType:function(e){var t=Aa(Ma),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Aa(Ma).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,gc=null,mc=null,yc=0,vc=0,bc=null,wc=!1,xc=!1,kc=!1,Sc=0,_c=0,Ec=0,jc=0,Cc=0,Tc=0,Oc=0,Rc=null,Pc=null,Ac=!1,Ic=0,zc=0,Nc=1/0,Lc=null,Dc=null,Mc=0,Uc=null,Fc=null,Wc=0,Bc=0,qc=null,Hc=null,Vc=0,Kc=null;function $c(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==z.T?qu():Me()}function Gc(){if(0===Tc)if(0===(536870912&yc)||da){var e=_e;0===(3932160&(_e<<=1))&&(_e=262144),Tc=e}else Tc=536870912;return null!==(e=Ai.current)&&(e.flags|=32),Tc}function Jc(e,t,n){(e!==gc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Tc,!1)),Ae(e,n),0!==(2&pc)&&e===gc||(e===gc&&(0===(2&pc)&&(jc|=n),4===_c&&Zc(e,yc,Tc,!1)),Lu(e))}function Yc(e,t,n){if(0!==(6&pc))throw Error(o(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Te(e,t),a=r?function(e,t){var n=pc;pc|=2;var r=iu(),a=ou();gc!==e||yc!==t?(Lc=null,Nc=le()+500,nu(e,t)):xc=Te(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var i=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,i,1);break;case 2:case 9:if(ti(i)){vc=0,bc=null,hu(t);break}t=function(){2!==vc&&9!==vc||gc!==e||(vc=7),Lu(e)},i.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ti(i)?(vc=0,bc=null,hu(t)):(vc=0,bc=null,fu(e,t,i,7));break;case 5:var s=null;switch(mc.tag){case 26:s=mc.memoizedState;case 5:case 27:var l=mc;if(s?ih(s):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,pu(u)):mc=null}break t}}vc=0,bc=null,fu(e,t,i,5);break;case 6:vc=0,bc=null,fu(e,t,i,6);break;case 8:tu(),_c=6;break e;default:throw Error(o(462))}}uu();break}catch(d){ru(e,d)}return _a=Sa=null,z.H=r,z.A=a,pc=n,null!==mc?0:(gc=null,yc=0,Rr(),_c)}(e,t):lu(e,t,!0),i=r;;){if(0===a){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!i||Xc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=Rc;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,s).flags|=256),2!==(s=lu(l,s,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=i,jc|=i,a=4;break e}i=Pc,Pc=a,null!==i&&(null===Pc?Pc=i:Pc.push.apply(Pc,i))}a=s}if(i=!1,2!==a)continue}}if(1===a){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Tc,!wc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(a=Ic+300-le())){if(Zc(r,t,Tc,!wc),0!==Ce(r,0,!0))break e;Wc=t,r.timeoutHandle=kd(Qc.bind(null,r,n,Pc,Lc,Ac,t,Tc,jc,Oc,wc,i,"Throttled",-0,0),a)}else Qc(r,n,Pc,Lc,Ac,t,Tc,jc,Oc,wc,i,null,-0,0)}break}a=lu(e,t,!1),i=!1}Lu(e)}function Qc(e,t,n,r,a,i,o,s,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){oc(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:At});var p=(62914560&i)===i?Ic-le():(4194048&i)===i?zc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===oh&&(oh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],i=a.transferSize,o=a.initiatorType,s=a.duration;if(i&&s&&pd(o)){for(o=0,s=a.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(i+o)/(a.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var a=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>oh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}(d,p)))return Wc=i,e.cancelPendingCommit=p(mu.bind(null,e,t,i,n,r,a,o,s,l,u,d,null,h,f)),void Zc(e,i,o,!c)}mu(e,t,i,n,r,a,o,s,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Xn(i(),a))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Cc,t&=~jc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-we(a),o=1<<i;r[i]=-1,a&=~o}0!==n&&Ie(e,n,t)}function eu(){return 0!==(6&pc)||(Du(0,!1),!1)}function tu(){if(null!==mc){if(0===vc)var e=mc.return;else _a=Sa=null,oo(e=mc),si=null,li=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc=0,tu(),gc=e,mc=n=Fr(e.current,null),yc=t,vc=0,bc=null,wc=!1,xc=Te(e,t),kc=!1,Oc=Tc=Cc=jc=Ec=_c=0,Pc=Rc=null,Ac=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-we(r),i=1<<a;t|=e[a],r&=~i}return Sc=t,Rr(),n}function ru(e,t){Bi=null,z.H=gs,t===Qa||t===Za?(t=ii(),vc=3):t===Xa?(t=ii(),vc=4):vc=t===Is?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===mc&&(_c=1,Ts(e,Gr(t,e.current)))}function au(){var e=Ai.current;return null===e||((4194048&yc)===yc?null===Ii:((62914560&yc)===yc||0!==(536870912&yc))&&e===Ii)}function iu(){var e=z.H;return z.H=gs,null===e?gs:e}function ou(){var e=z.A;return z.A=hc,e}function su(){_c=4,wc||(4194048&yc)!==yc&&null!==Ai.current||(xc=!0),0===(134217727&Ec)&&0===(134217727&jc)||null===gc||Zc(gc,yc,Tc,!1)}function lu(e,t,n){var r=pc;pc|=2;var a=iu(),i=ou();gc===e&&yc===t||(Lc=null,nu(e,t)),t=!1;var o=_c;e:for(;;)try{if(0!==vc&&null!==mc){var s=mc,l=bc;switch(vc){case 8:tu(),o=6;break e;case 3:case 2:case 9:case 6:null===Ai.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,s,l,c),n&&xc){o=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,s,l,c)}}cu(),o=_c;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,_a=Sa=null,pc=r,z.H=a,z.A=i,null===mc&&(gc=null,yc=0,Rr()),o}function cu(){for(;null!==mc;)du(mc)}function uu(){for(;null!==mc&&!oe();)du(mc)}function du(e){var t=sl(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ks(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Ks(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:oo(t);default:ml(n,t),t=sl(n,t=mc=Wr(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?pu(e):mc=t}function fu(e,t,n,r){_a=Sa=null,oo(t),si=null,li=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Oa(t,n,a,!0),null!==(n=Ai.current)){switch(n.tag){case 31:case 13:return null===Ii?su():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ei?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,a)),!1;case 22:return n.flags|=65536,r===ei?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,a)),!1}throw Error(o(435,n.tag))}return Eu(e,r,a),su(),!1}if(da)return null!==(t=Ai.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==pa&&xa(Gr(e=Error(o(422),{cause:r}),n))):(r!==pa&&xa(Gr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=Gr(r,n),xi(e,a=Rs(e.stateNode,r,a)),4!==_c&&(_c=2)),!1;var i=Error(o(520),{cause:r});if(i=Gr(i,n),null===Rc?Rc=[i]:Rc.push(i),4!==_c&&(_c=2),null===t)return!0;r=Gr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,xi(n,e=Rs(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Dc||!Dc.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,As(a=Ps(a),e,n,r),xi(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,yc))return _c=1,Ts(e,Gr(n,e.current)),void(mc=null)}catch(i){if(null!==a)throw mc=a,i;return _c=1,Ts(e,Gr(n,e.current)),void(mc=null)}32768&t.flags?(da||1===r?e=!0:xc||0!==(536870912&yc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ai.current)&&13===r.tag&&(r.flags|=16384))),gu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void gu(t,wc);e=t.return;var n=pl(t.alternate,t,Sc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===_c&&(_c=5)}function gu(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);_c=6,mc=null}function mu(e,t,n,r,a,i,s,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Mc);if(0!==(6&pc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-we(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ie(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(o&~t))}(e,n,i|=Or,s,l,c),e===gc&&(mc=gc=null,yc=0),Fc=t,Uc=e,Wc=n,Bc=i,qc=a,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ae(he,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=z.T,z.T=null,a=N.p,N.p=2,s=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,gd=wh,ar(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==i||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===i&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:e,selectionRange:n},wh=!1,zl=t;null!==zl;)if(e=(t=zl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,zl=e;else for(;null!==zl;){switch(i=(t=zl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var g=_s(n.type,a);e=r.getSnapshotBeforeUpdate(g,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){_u(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Rd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,zl=e;break}zl=t.return}}(e,t)}finally{pc=s,N.p=a,z.T=r}}Mc=1,yu(),vu(),bu()}}function yu(){if(1===Mc){Mc=0;var e=Uc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=z.T,z.T=null;var r=N.p;N.p=2;var a=pc;pc|=4;try{Kl(t,e);var i=md,o=rr(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&ar(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,g=Math.min(l.start,p),m=void 0===l.end?g:Math.min(l.end,p);!f.extend&&g>m&&(o=m,m=g,g=o);var y=tr(s,g),v=tr(s,m);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),g>m?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!gd,md=gd=null}finally{pc=a,N.p=r,z.T=n}}e.current=t,Mc=2}}function vu(){if(2===Mc){Mc=0;var e=Uc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=z.T,z.T=null;var r=N.p;N.p=2;var a=pc;pc|=4;try{Nl(e,t.alternate,t)}finally{pc=a,N.p=r,z.T=n}}Mc=3}}function bu(){if(4===Mc||3===Mc){Mc=0,se();var e=Uc,t=Fc,n=Wc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,Fc=Uc=null,wu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(Dc=null),De(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=z.T,a=N.p,N.p=2,z.T=null;try{for(var i=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];i(s.value,{componentStack:s.stack})}}finally{z.T=t,N.p=a}}0!==(3&Wc)&&xu(),Lu(e),a=e.pendingLanes,0!==(261930&n)&&0!==(42&a)?e===Kc?Vc++:(Vc=0,Kc=e):Vc=0,Du(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fa(t)))}function xu(){return yu(),vu(),bu(),ku()}function ku(){if(5!==Mc)return!1;var e=Uc,t=Bc;Bc=0;var n=De(Wc),r=z.T,a=N.p;try{N.p=32>n?32:n,z.T=null,n=qc,qc=null;var i=Uc,s=Wc;if(Mc=0,Fc=Uc=null,Wc=0,0!==(6&pc))throw Error(o(331));var l=pc;if(pc|=4,cc(i.current),tc(i,i.current,s,n),pc=l,Du(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,i)}catch(c){}return!0}finally{N.p=a,z.T=r,wu(e,t)}}function Su(e,t,n){t=Gr(n,t),null!==(e=bi(e,t=Rs(e.stateNode,t,2),2))&&(Ae(e,2),Lu(e))}function _u(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Dc||!Dc.has(r))){e=Gr(n,e),null!==(r=bi(t,n=Ps(2),2))&&(As(n,r,t,e),Ae(r,2),Lu(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(kc=!0,a.add(n),e=ju.bind(null,e,t,n),t.then(e,e))}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(yc&n)===n&&(4===_c||3===_c&&(62914560&yc)===yc&&300>le()-Ic?0===(2&pc)&&nu(e,0):Cc|=n,Oc===yc&&(Oc=0)),Lu(e)}function Cu(e,t){0===t&&(t=Re()),null!==(e=Ir(e,t))&&(Ae(e,t),Lu(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Ou(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cu(e,n)}var Ru=null,Pu=null,Au=!1,Iu=!1,zu=!1,Nu=0;function Lu(e){e!==Pu&&null===e.next&&(null===Pu?Ru=Pu=e:Pu=Pu.next=e),Iu=!0,Au||(Au=!0,Ed(function(){0!==(6&pc)?ae(ue,Mu):Uu()}))}function Du(e,t){if(!zu&&Iu){zu=!0;do{for(var n=!1,r=Ru;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var o=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326741&(i&=a&~(o&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Bu(r,i))}else i=yc,0===(3&(i=Ce(r,r===gc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,i)||(n=!0,Bu(r,i));r=r.next}}while(n);zu=!1}}function Mu(){Uu()}function Uu(){Iu=Au=!1;var e=0;0!==Nu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Nu);for(var t=le(),n=null,r=Ru;null!==r;){var a=r.next,i=Fu(r,t);0===i?(r.next=null,null===n?Ru=a:n.next=a,null===a&&(Pu=n)):(n=r,(0!==e||0!==(3&i))&&(Iu=!0)),r=a}0!==Mc&&5!==Mc||Du(e,!1),0!==Nu&&(Nu=0)}function Fu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var o=31-we(i),s=1<<o,l=a[o];-1===l?0!==(s&n)&&0===(s&r)||(a[o]=Oe(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=yc,n=Ce(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),De(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Wu.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function Wu(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Ce(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Wu.bind(null,e):null)}function Bu(e,t){if(xu())return null;Yc(e,t,!0)}function qu(){if(0===Nu){var e=qa;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Nu=e}return Nu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ku=0;Ku<_r.length;Ku++){var $u=_r[Ku];Er($u.toLowerCase(),"on"+($u[0].toUpperCase()+$u.slice(1)))}Er(mr,"onAnimationEnd"),Er(yr,"onAnimationIteration"),Er(vr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(br,"onTransitionRun"),Er(wr,"onTransitionStart"),Er(xr,"onTransitionCancel"),Er(kr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ju=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){jr(u)}a.currentTarget=null,i=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=c;try{i(a)}catch(u){jr(u)}a.currentTarget=null,i=l}}}}function Qu(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ju.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Xu("selectionchange",!1,t))}}function td(e,t,n,r){switch(Ch(t)){case 2:var a=xh;break;case 8:a=kh;break;default:a=Sh}n=a.bind(null,t,n,e),a=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===a)return;o=o.return}for(;null!==s;){if(null===(o=Ye(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=i=o;continue e}s=s.parentNode}}r=r.return}Ut(function(){var r=i,a=zt(n),o=[];e:{var s=Sr.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case mr:case yr:case vr:c=un;break;case kr:c=xn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,g=r;null!==g;){var m=g;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===f||null!=(m=Ft(g,f))&&d.push(rd(g,m,p)),h)break;g=g.return}0<d.length&&(s=new c(s,u,null,n,a),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[qe])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,m="onMouseLeave",f="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,m="onPointerLeave",f="onPointerEnter",g="pointer"),h=null==c?s:Xe(c),p=null==u?s:Xe(u),(s=new d(m,g+"leave",c,n,a)).target=h,s.relatedTarget=p,m=null,Ye(a)===r&&((d=new d(f,g+"enter",u,n,a)).target=p,d.relatedTarget=h,m=d),h=m,c&&u)e:{for(d=id,g=u,p=0,m=f=c;m;m=d(m))p++;m=0;for(var y=g;y;y=d(y))m++;for(;0<p-m;)f=d(f),p--;for(;0<m-p;)g=d(g),m--;for(;p--;){if(f===g||null!==g&&f===g.alternate){d=f;break e}f=d(f),g=d(g)}d=null}else d=null;null!==c&&od(o,s,c,d,!1),null!==u&&null!==h&&od(o,h,u,d,!0)}if("select"===(c=(s=r?Xe(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=Wn;else if(Nn(s))if(Bn)v=Qn;else{v=Jn;var b=Gn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(v=Wn):v=Yn;switch(v&&(v=v(e,r))?Ln(o,v,n,a):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&wt(s,"number",s.value)),b=r?Xe(r):window,e){case"focusin":(Nn(b)||"true"===b.contentEditable)&&(or=b,sr=r,lr=null);break;case"focusout":lr=sr=or=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(o,n,a);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":ur(o,n,a)}var w;if(En)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else In?Pn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Tn&&"ko"!==n.locale&&(In||"onCompositionStart"!==x?"onCompositionEnd"===x&&In&&(w=$t()):(Vt="value"in(Ht=a)?Ht.value:Ht.textContent,In=!0)),0<(b=ad(r,x)).length&&(x=new hn(x,e,null,n,a),o.push({event:x,listeners:b}),w?x.data=w:null!==(w=An(n))&&(x.data=w))),(w=Cn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(Rn=!0,On);case"textInput":return(e=t.data)===On&&Rn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!En&&Pn(e,t)?(e=$t(),Kt=Vt=Ht=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=ad(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,a),o.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Hu((a[Be]||null).action),o=r.submitter;o&&null!==(t=(t=o[Be]||null)?Hu(t.formAction):o.getAttribute("formAction"))&&(i=t,o=null);var s=new nn("action","action",null,r,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Nu){var e=o?Vu(a,o):new FormData(a);ts(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=o?Vu(a,o):new FormData(a),ts(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(o,e,r,n,a)}Yu(o,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ad(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Ft(e,n))&&r.unshift(rd(e,a,i)),null!=(a=Ft(e,t))&&r.push(rd(e,a,i))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,a?null!=(c=Ft(n,i))&&o.unshift(rd(n,c,l)):a||null!=(c=Ft(n,i))&&o.push(rd(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var sd=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||_t(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&_t(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Ct(e,r,i);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&dd(e,t,"name",a.name,a,null),dd(e,t,"formEncType",a.formEncType,a,null),dd(e,t,"formMethod",a.formMethod,a,null),dd(e,t,"formTarget",a.formTarget,a,null)):(dd(e,t,"encType",a.encType,a,null),dd(e,t,"method",a.method,a,null),dd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=At);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qu("beforetoggle",e),Qu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Ot.get(n)||n,r)}}function hd(e,t,n,r,a,i){switch(n){case"style":Ct(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?_t(e,r):("number"===typeof r||"bigint"===typeof r)&&_t(e,""+r);break;case"onScroll":null!=r&&Qu("scroll",e);break;case"onScrollEnd":null!=r&&Qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=At);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Be]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qu("error",e),Qu("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:dd(e,t,r,s,n,null)}}return i&&dd(e,t,"srcSet",n.srcSet,n,null),void(a&&dd(e,t,"src",n.src,n,null));case"input":Qu("invalid",e);var l=r=s=i=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:dd(e,t,a,d,n,null)}}return void bt(e,r,l,c,u,s,i,!1);case"select":for(i in Qu("invalid",e),a=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:dd(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!a,void(null!=t?xt(e,!!a,t,!1):null!=n&&xt(e,!!a,n,!0));case"textarea":for(s in Qu("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:dd(e,t,s,l,n,null)}return void St(e,a,i,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else dd(e,t,c,a,n,null);return;case"dialog":Qu("beforetoggle",e),Qu("toggle",e),Qu("cancel",e),Qu("close",e);break;case"iframe":case"object":Qu("load",e);break;case"video":case"audio":for(a=0;a<Gu.length;a++)Qu(Gu[a],e);break;case"image":Qu("error",e),Qu("load",e);break;case"details":Qu("toggle",e);break;case"embed":case"source":case"link":Qu("error",e),Qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:dd(e,t,u,a,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&hd(e,t,d,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&dd(e,t,l,a,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,md=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var kd="function"===typeof setTimeout?setTimeout:void 0,Sd="function"===typeof clearTimeout?clearTimeout:void 0,_d="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof _d?function(e){return _d.resolve(null).then(e).catch(jd)}:kd;function jd(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)||"/&"===n){if(0===r)return e.removeChild(a),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[Ge]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=o}}else"body"===n&&Ud(e.ownerDocument.body);n=a}while(n);Vh(t)}function Od(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Rd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Rd(n),Je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=zd(e.nextSibling)))return null}return e}function Ad(e){return"$?"===e.data||"$~"===e.data}function Id(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function zd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Nd=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return zd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Dd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Md(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var Fd=new Map,Wd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=N.d;N.d={f:function(){var e=qd.f(),t=eu();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):qd.r(e)},D:function(e){qd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Hd;if(r&&e&&t){var a='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+yt(n.imageSizes)+'"]')):a+='[href="'+yt(e)+'"]';var i=a;switch(t){case"style":i=$d(e);break;case"script":i=Yd(e)}Fd.has(i)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Gd(i))||"script"===t&&r.querySelector(Qd(i))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Yd(e)}if(!Fd.has(i)&&(e=f({rel:"modulepreload",href:e},t),Fd.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(i)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),i=r.get(a);i||((i=n.querySelector(Qd(a)))||(e=f({src:e,async:!0},t),(t=Fd.get(a))&&th(e,t),et(i=n.createElement("script")),fd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){qd.S(e,t,n);var r=Hd;if(r&&e){var a=Ze(r).hoistableStyles,i=$d(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Gd(i)))s.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(i))&&eh(e,n);var l=o=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}},M:function(e,t){qd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,a=Yd(e),i=r.get(a);i||((i=n.querySelector(Qd(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=Fd.get(a))&&th(e,t),et(i=n.createElement("script")),fd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Hd="undefined"===typeof document?null:document;function Vd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var a=yt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Wd.has(a)||(Wd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Kd(e,t,n,r){var a,i,s,l,c=(c=K.current)?Bd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=$d(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=$d(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(a=c,i=e,s=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),fd(i,"link",s),et(i),a.head.appendChild(i))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function $d(e){return'href="'+yt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function Jd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+yt(e)+'"]'}function Qd(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",a),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":a=$d(n.href);var i=e.querySelector(Gd(a));if(i)return t.state.loading|=4,t.instance=i,et(i),i;r=Jd(n),(a=Fd.get(a))&&eh(r,a),et(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(i,"link",r),t.state.loading|=4,Zd(i,n.precedence,e),t.instance=i;case"script":return i=Yd(n.src),(a=e.querySelector(Qd(i)))?(t.instance=a,et(a),a):(r=n,(a=Fd.get(i))&&th(r=f({},n),a),et(a=(e=e.ownerDocument||e).createElement("script")),fd(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,a=nh=new Map;a.set(n,r)}else(r=(a=nh).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Ge]||i[We]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var o=i.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(i):r.set(o,[i])}}return r}function ah(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var oh=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,sh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(a=t.instance).getAttribute("data-precedence"),(i=n.get(o)||r)===r&&n.set(null,a),n.set(o,a),this.count++,r=sh.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var dh={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function hh(e,t,n,r,a,i,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,a,i,o,s,l,c,u,d){return e=new hh(e,t,n,o,l,c,u,d,s),t=1,!0===i&&(t|=24),i=Mr(3,null,null,t),e.current=i,i.stateNode=e,(t=Ua()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},mi(i),e}function ph(e){return e?e=Lr:Lr}function gh(e,t,n,r,a,i){a=ph(a),null===r.context?r.context=a:r.pendingContext=a,(r=vi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=bi(e,r,t))&&(Jc(n,0,t),wi(n,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Ir(e,67108864);null!==t&&Jc(t,0,67108864),yh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=$c(),n=Ir(e,t=Le(t));null!==n&&Jc(n,0,t),yh(e,t)}}var wh=!0;function xh(e,t,n,r){var a=z.T;z.T=null;var i=N.p;try{N.p=2,Sh(e,t,n,r)}finally{N.p=i,z.T=a}}function kh(e,t,n,r){var a=z.T;z.T=null;var i=N.p;try{N.p=8,Sh(e,t,n,r)}finally{N.p=i,z.T=a}}function Sh(e,t,n,r){if(wh){var a=_h(r);if(null===a)nd(e,t,r,Eh,n),Lh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Oh=Dh(Oh,e,t,n,r,a),!0;case"dragenter":return Rh=Dh(Rh,e,t,n,r,a),!0;case"mouseover":return Ph=Dh(Ph,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ah.set(i,Dh(Ah.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ih.set(i,Dh(Ih.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<Nh.indexOf(e)){for(;null!==a;){var i=Qe(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var o=je(i.pendingLanes);if(0!==o){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-we(o);s.entanglements[1]|=l,o&=~l}Lu(i),0===(6&pc)&&(Nc=le()+500,Du(0,!1))}}break;case 31:case 13:null!==(s=Ir(i,2))&&Jc(s,0,2),eu(),yh(i,2)}if(null===(i=_h(r))&&nd(e,t,r,Eh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else nd(e,t,r,null,n)}}function _h(e){return jh(e=zt(e))}var Eh=null;function jh(e){if(Eh=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Eh=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Th=!1,Oh=null,Rh=null,Ph=null,Ah=new Map,Ih=new Map,zh=[],Nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Oh=null;break;case"dragenter":case"dragleave":Rh=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":Ah.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(t.pointerId)}}function Dh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=Qe(t))&&vh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mh(e){var t=Ye(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_h(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&vh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function Fh(e,t,n){Uh(e)&&n.delete(t)}function Wh(){Th=!1,null!==Oh&&Uh(Oh)&&(Oh=null),null!==Rh&&Uh(Rh)&&(Rh=null),null!==Ph&&Uh(Ph)&&(Ph=null),Ah.forEach(Fh),Ih.forEach(Fh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wh)))}var qh=null;function Hh(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===jh(r||n))continue;break}var i=Qe(n);null!==i&&(e.splice(t,3),t-=3,ts(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Vh(e){function t(t){return Bh(t,e)}null!==Oh&&Bh(Oh,e),null!==Rh&&Bh(Rh,e),null!==Ph&&Bh(Ph,e),Ah.forEach(t),Ih.forEach(t);for(var n=0;n<zh.length;n++){var r=zh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<zh.length&&null===(n=zh[0]).blockedOn;)Mh(n),null===n.blockedOn&&zh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],o=a[Be]||null;if("function"===typeof i)o||Hh(n);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Be]||null)s=o.formAction;else if(null!==jh(a))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Hh(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return a=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==a&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==a&&(a(),a=null)}}}function $h(e){this._internalRoot=e}function Gh(e){this._internalRoot=e}Gh.prototype.render=$h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));gh(t.current,$c(),e,t,null,null)},Gh.prototype.unmount=$h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gh(e.current,2,null,e,null,null),eu(),t[qe]=null}},Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zh.length&&0!==t&&t<zh[n].priority;n++);zh.splice(n,0,e),0===n&&Mh(e)}};var Jh=a.version;if("19.2.3"!==Jh)throw Error(o(527,Jh,"19.2.3"));N.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return d(a),e;if(i===r)return d(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ye=Qh.inject(Yh),ve=Qh}catch(Zh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",a=Es,i=js,l=Cs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,a,i,l,Kh),e[qe]=t.current,ed(e),new $h(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,a="",i=Es,l=js,c=Cs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,a,u,i,l,c,Kh)).context=ph(null),n=t.current,(a=vi(r=Le(r=$c()))).callback=null,bi(n,a,r),n=r,t.current.lanes=n,Ae(t,n),Lu(t),e[qe]=t.current,ed(e),new Gh(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=w.prototype=new b;x.constructor=w,m(x,v.prototype),x.isPureReactComponent=!0;var k=Array.isArray;function S(){}var _={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function j(e,t,r){var a=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==a?a:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function R(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return R((u=e._init)(e._payload),t,a,i,o)}}if(u)return o=o(e),u=""===i?"."+O(e,0):i,k(o)?(a="",null!=u&&(a=u.replace(T,"$&/")+"/"),R(o,t,a,"",function(e){return e})):null!=o&&(C(o)&&(l=o,c=a+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=j(l.type,c,l.props)),t.push(o)),1;u=0;var d,f=""===i?".":i+":";if(k(e))for(var g=0;g<e.length;g++)u+=R(i=e[g],t,a,s=f+O(i,g),o);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(i=e.next()).done;)u+=R(i=i.value,t,a,s=f+O(i,g++),o);else if("object"===s){if("function"===typeof e.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],a=0;return R(e,r,"","",function(e){return t.call(n,e,a++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},z={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=z,t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.key&&(a=""+t.key),t)!E.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];r.children=o}return j(e.type,a,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var o=arguments.length-2;if(1===o)a.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];a.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===a[r]&&(a[r]=o[r]);return j(e,i,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.T,n={};_.T=n;try{var r=e(),a=_.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(S,I)}catch(i){I(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),_.T=t}},t.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},t.use=function(e){return _.H.use(e)},t.useActionState=function(e,t,n){return _.H.useActionState(e,t,n)},t.useCallback=function(e,t){return _.H.useCallback(e,t)},t.useContext=function(e){return _.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return _.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return _.H.useEffect(e,t)},t.useEffectEvent=function(e){return _.H.useEffectEvent(e)},t.useId=function(){return _.H.useId()},t.useImperativeHandle=function(e,t,n){return _.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.H.useMemo(e,t)},t.useOptimistic=function(e,t){return _.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return _.H.useReducer(e,t,n)},t.useRef=function(e){return _.H.useRef(e)},t.useState=function(e){return _.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.H.useTransition()},t.version="19.2.3"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(m=!1,x(e),!g)if(null!==r(c))g=!0,_||(_=!0,S());else{var t=r(u);null!==t&&A(k,t.startTime-e)}}var S,_=!1,E=-1,j=5,C=-1;function T(){return!!y||!(t.unstable_now()-C<j)}function O(){if(y=!1,_){var e=t.unstable_now();C=e;var n=!0;try{e:{g=!1,m&&(m=!1,b(E),E=-1),p=!0;var i=f;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,x(e),n=!0;break t}h===r(c)&&a(c),x(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&A(k,l.startTime-e),n=!1}}break e}finally{h=null,f=i,p=!1}n=void 0}}finally{n?S():_=!1}}}if("function"===typeof w)S=function(){w(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=O,S=function(){P.postMessage(null)}}else S=function(){v(O,0)};function A(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(m?(b(E),E=-1):m=!0,A(k,i-o))):(e.sortIndex=s,n(c,e),g||p||(g=!0,_||(_=!0,S()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".eadda7e2.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="airos:";n.l=(r,a,i,o)=>{if(e[r])e[r].push(a);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,i,[o,s,l]=r,c=0;if(o.some(t=>0!==e[t])){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)l(n)}for(t&&t(r);c<o.length;c++)i=o[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkairos=self.webpackChunkairos||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var r=n(43),a=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const d=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],g=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:l,iconNode:d}=e,g=u(e,p);return(0,r.createElement)("svg",c(c(c({ref:t},f),{},{width:a,height:a,stroke:n,strokeWidth:o?24*Number(i)/Number(a):i,className:h("lucide",s)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(g)&&{"aria-hidden":"true"}),g),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),m=["className"],y=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{className:i}=n,o=u(n,m);return(0,r.createElement)(g,c({ref:a,iconNode:t,className:h("lucide-".concat((s=d(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},o));var s});return n.displayName=d(e),n},v=y("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},b.apply(this,arguments)};function w(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function x(e,t,n,r){return new(n||(n=Promise))(function(a,i){function o(e){try{l(r.next(e))}catch(t){i(t)}}function s(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}l((r=r.apply(e,t||[])).next())})}Object.create;function k(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;class S extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class _ extends S{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class E extends S{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class j extends S{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var C;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(C||(C={}));class T{constructor(e){let{headers:t={},customFetch:n,region:r=C.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return x(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;let a,i;try{const{headers:o,method:s,body:l,signal:c,timeout:u}=n;let d={},{region:h}=n;h||(h=t.region);const f=new URL("".concat(t.url,"/").concat(e));let p;h&&"any"!==h&&(d["x-region"]=h,f.searchParams.set("forceFunctionRegion",h)),l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):"string"===typeof l?(d["Content-Type"]="text/plain",p=l):"undefined"!==typeof FormData&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)):p=!l||"string"===typeof l||"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!==typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let g=c;u&&(i=new AbortController,a=setTimeout(()=>i.abort(),u),c?(g=i.signal,c.addEventListener("abort",()=>i.abort())):g=i.signal);const m=yield t.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},d),t.headers),o),body:p,signal:g}).catch(e=>{throw new _(e)}),y=m.headers.get("x-relay-error");if(y&&"true"===y)throw new E(m);if(!m.ok)throw new j(m);let v,b=(null!==(r=m.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return v="application/json"===b?yield m.json():"application/octet-stream"===b||"application/pdf"===b?yield m.blob():"text/event-stream"===b?m:"multipart/form-data"===b?yield m.formData():yield m.text(),{data:v,error:null,response:m}}catch(o){return{data:null,error:o,response:o instanceof j||o instanceof E?o.context:void 0}}finally{a&&clearTimeout(a)}}()})}}var O=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},R=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,a=null,i=e.status,o=e.statusText;if(e.ok){var s,l;if("HEAD"!==n.method){var c;const t=await e.text();""===t||(r="text/csv"===n.headers.get("Accept")||n.headers.get("Accept")&&(null===(c=n.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const u=null===(s=n.headers.get("Prefer"))||void 0===s?void 0:s.match(/count=(exact|planned|estimated)/),d=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");u&&d&&d.length>1&&(a=parseInt(d[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(r)&&(r.length>1?(t={code:"PGRST116",details:"Results contain ".concat(r.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,a=null,i=406,o="Not Acceptable"):r=1===r.length?r[0]:null)}else{var u;const a=await e.text();try{t=JSON.parse(a),Array.isArray(t)&&404===e.status&&(r=[],t=null,i=200,o="OK")}catch(d){404===e.status&&""===a?(i=204,o="No Content"):t={message:a}}if(t&&n.isMaybeSingle&&(null===t||void 0===t||null===(u=t.details)||void 0===u?void 0:u.includes("0 rows"))&&(t=null,i=200,o="OK"),t&&n.shouldThrowOnError)throw new O(t)}return{error:t,data:r,count:a,status:i,statusText:o}});return this.shouldThrowOnError||(r=r.catch(e=>{var t;let n="";const r=null===e||void 0===e?void 0:e.cause;if(r){var a,i,o,s;const t=null!==(a=null===r||void 0===r?void 0:r.message)&&void 0!==a?a:"",l=null!==(i=null===r||void 0===r?void 0:r.code)&&void 0!==i?i:"";n="".concat(null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),n+="\n\nCaused by: ".concat(null!==(s=null===r||void 0===r?void 0:r.name)&&void 0!==s?s:"Error",": ").concat(t),l&&(n+=" (".concat(l,")")),(null===r||void 0===r?void 0:r.stack)&&(n+="\n".concat(r.stack))}else{var l;n=null!==(l=null===e||void 0===e?void 0:e.stack)&&void 0!==l?l:""}return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:n,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},P=class extends R{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=a?"".concat(a,".order"):"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),i="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(i,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:i="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.get("Accept"))&&void 0!==o?o:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(i,'; for="').concat(l,'"; options=').concat(s,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const A=new RegExp("[,()]");var I=class extends P{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&A.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}notIn(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&A.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const i=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(i,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}},z=class{constructor(e,t){let{headers:n={},schema:r,fetch:a}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=null!==t&&void 0!==t?t:{},a=n?"HEAD":"GET";let i=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!i?"":('"'===e&&(i=!i),e)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",o),r&&l.append("Prefer","count=".concat(r)),new I({method:a,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{url:a,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer","count=".concat(t)),n||i.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));a.searchParams.set("columns",e.join(","))}}return new I({method:"POST",url:a,headers:i,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i;const{url:o,headers:s}=this.cloneRequestState();if(s.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&o.searchParams.set("on_conflict",t),r&&s.append("Prefer","count=".concat(r)),a||s.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));o.searchParams.set("columns",e.join(","))}}return new I({method:"POST",url:o,headers:s,schema:this.schema,body:e,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{url:r,headers:a}=this.cloneRequestState();return t&&a.append("Prefer","count=".concat(t)),new I({method:"PATCH",url:r,headers:a,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer","count=".concat(e)),new I({method:"DELETE",url:n,headers:r,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch})}},N=class e{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new z(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i;let o;const s=new URL("".concat(this.url,"/rpc/").concat(e));let l;const c=e=>null!==e&&"object"===typeof e&&(!Array.isArray(e)||e.some(c)),u=n&&Object.values(t).some(c);u?(o="POST",l=t):n||r?(o=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;s.searchParams.append(t,n)})):(o="POST",l=t);const d=new Headers(this.headers);return u?d.set("Prefer",a?"count=".concat(a,",return=minimal"):"return=minimal"):a&&d.set("Prefer","count=".concat(a)),new I({method:o,url:s,headers:d,schema:this.schemaName,body:l,fetch:null!==(i=this.fetch)&&void 0!==i?i:fetch})}};const L=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},D="realtime-js/".concat("2.90.1"),M="1.0.0",U=M,F=1e4;var W,B,q,H,V,K;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(W||(W={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(B||(B={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(q||(q={})),function(e){e.websocket="websocket"}(H||(H={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(V||(V={}));class ${constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:{},a=(new TextEncoder).encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,n){var r,a;const i=e.topic,o=null!==(r=e.ref)&&void 0!==r?r:"",s=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(s.length>255)throw new Error("joinRef length ".concat(s.length," exceeds maximum of 255"));if(o.length>255)throw new Error("ref length ".concat(o.length," exceeds maximum of 255"));if(i.length>255)throw new Error("topic length ".concat(i.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(u.length>255)throw new Error("metadata length ".concat(u.length," exceeds maximum of 255"));const d=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+o.length+i.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,s.length),f.setUint8(p++,o.length),f.setUint8(p++,i.length),f.setUint8(p++,l.length),f.setUint8(p++,u.length),f.setUint8(p++,t),Array.from(s,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(o,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(i,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(u,e=>f.setUint8(p++,e.charCodeAt(0)));var g=new Uint8Array(h.byteLength+n.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(n),h.byteLength),g.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const n=JSON.parse(e),[r,a,i,o,s]=n;return t({join_ref:r,ref:a,topic:i,event:o,payload:s})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2),i=t.getUint8(3),o=t.getUint8(4);let s=this.HEADER_LENGTH+4;const l=n.decode(e.slice(s,s+r));s+=r;const c=n.decode(e.slice(s,s+a));s+=a;const u=n.decode(e.slice(s,s+i));s+=i;const d=e.slice(s,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,f={type:this.BROADCAST_EVENT,event:c,payload:h};return i>0&&(f.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return t.includes(n)})):{}}}class G{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(K||(K={}));const J=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,a)=>(n[a]=Y(a,e,t,r),n),{}):{}},Y=(e,t,n,r)=>{const a=t.find(t=>t.name===e),i=null===a||void 0===a?void 0:a.type,o=n[e];return i&&!r.includes(i)?Q(i,o):X(o)},Q=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return ne(t,n)}switch(e){case K.bool:return Z(t);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return ee(t);case K.json:case K.jsonb:return te(t);case K.timestamp:return re(t);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:default:return X(t)}},X=e=>e,Z=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ee=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},te=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},ne=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(fs){r=a?a.split(","):[]}return r.map(e=>Q(t,e))}return e},re=e=>"string"===typeof e?e.replace(" ","T"):e,ae=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ie{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oe,se,le,ce;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(oe||(oe={}));class ue{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ue.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=ue.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=ue.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),i=this.transformState(t),o={},s={};return this.map(a,(e,t)=>{i[e]||(s[e]=t)}),this.map(i,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),i=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);i.length>0&&(o[e]=i),l.length>0&&(s[e]=l)}else o[e]=t}),this.syncDiff(a,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const i=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),i.length>0){const n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(i,(t,n)=>{let a=e[t];if(!a)return;const i=n.map(e=>e.presence_ref);a=a.filter(e=>i.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(se||(se={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(le||(le={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(ce||(ce={}));class de{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,a;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=B.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ie(this,q.join,this.params,this.timeout),this.rejoinTimer=new G(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=B.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=B.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=B.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=B.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=B.errored,this.rejoinTimer.scheduleTimeout())}),this._on(q.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ue(this),this.broadcastEndpointURL=ae(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==B.closed){const{config:{broadcast:i,presence:o,private:s}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[le.PRESENCE]&&this.bindings[le.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:s};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(ce.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(ce.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,i=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:o,schema:s,table:l,filter:c}}=a,u=n&&n[r];if(!(u&&u.event===o&&de.isFilterValueEqual(u.schema,s)&&de.isFilterValueEqual(u.table,l)&&de.isFilterValueEqual(u.filter,c)))return this.unsubscribe(),this.state=B.errored,void(null===e||void 0===e||e(ce.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));i.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=i,void(e&&e(ce.SUBSCRIBED))}null===e||void 0===e||e(ce.SUBSCRIBED)}).receive("error",t=>{this.state=B.errored,null===e||void 0===e||e(ce.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(ce.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===B.joined&&e===le.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization="Bearer ".concat(this.socket.accessTokenValue));const i={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===o.status)return{success:!0};let s=o.statusText;try{const e=await o.json();s=e.error||e.message||s}catch(l){}return Promise.reject(new Error(s))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,i;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(i=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===i?void 0:i.ack)||n("ok"),o.receive("ok",()=>n("ok")),o.receive("error",()=>n("error")),o.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=B.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(q.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new ie(this,q.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=B.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),i}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new ie(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const i=e.toLocaleLowerCase(),{close:o,error:s,leave:l,join:c}=q;if(n&&[o,s,l,c].indexOf(i)>=0&&n!==this._joinRef())return;let u=this._onMessage(i,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===i}).map(e=>e.callback(u,n)):null===(a=this.bindings[i])||void 0===a||a.filter(e=>{var n,r,a,o,s,l,c,u;if(["broadcast","presence","postgres_changes"].includes(i)){if("id"in e){const i=e.id,l=null===(n=e.filter)||void 0===n?void 0:n.event;return i&&(null===(r=t.ids)||void 0===r?void 0:r.includes(i))&&("*"===l||(null===l||void 0===l?void 0:l.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))&&(!(null===(o=e.filter)||void 0===o?void 0:o.table)||e.filter.table===(null===(s=t.data)||void 0===s?void 0:s.table))}{const n=null===(c=null===(l=null===e||void 0===e?void 0:e.filter)||void 0===l?void 0:l.event)||void 0===c?void 0:c.toLocaleLowerCase();return"*"===n||n===(null===(u=null===t||void 0===t?void 0:t.event)||void 0===u?void 0:u.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===i}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:i}=e,o={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:i};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===B.closed}_isJoined(){return this.state===B.joined}_isJoining(){return this.state===B.joining}_isLeaving(){return this.state===B.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&de.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(q.close,{},e)}_onError(e){this._on(q.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=B.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=J(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=J(e.columns,e.old_record)),t}}const he=()=>{},fe=25e3,pe=10,ge=100,me=[1e3,2e3,5e3,1e4];class ye{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F,this.transport=null,this.heartbeatIntervalMs=fe,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=he,this.ref=0,this.reconnectTimer=null,this.vsn=U,this.logger=he,this.conn=null,this.sendBuffer=[],this.serializer=new $,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(H.websocket),this.httpEndpoint=ae(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case W.connecting:return V.Connecting;case W.open:return V.Open;case W.closing:return V.Closing;default:return V.Closed}}isConnected(){return this.connectionState()===V.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new de("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,i=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},ge)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(s){this.log("error","error in heartbeat callback",s)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:n,payload:r,ref:a}=e,i=a?"(".concat(a,")"):"",o=r.status||"";this.log("receive","".concat(o," ").concat(t," ").concat(n," ").concat(i).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===W.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===W.open||this.conn.readyState===W.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(q.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!1;if(t)e=t,n=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),e=this.accessTokenValue}else e=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:D};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(q.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new G(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pe)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,i,o,s,l,c,u,d,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:F,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:fe,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(i=null===e||void 0===e?void 0:e.accessToken)&&void 0!==i?i:null,this.heartbeatCallback=null!==(o=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==o?o:he,this.vsn=null!==(s=null===e||void 0===e?void 0:e.vsn)&&void 0!==s?s:U,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>me[e-1]||1e4,this.vsn){case M:this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null===e||void 0===e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case"2.0.0":this.encode=null!==(d=null===e||void 0===e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}var ve=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(n=t.icebergType)||void 0===n?void 0:n.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function be(e){var t;const n=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:r,path:a,query:i,body:o,headers:s}=t;const l=function(e,t,n){const r=new URL(t,e);if(n)for(const[a,i]of Object.entries(n))void 0!==i&&r.searchParams.set(a,i);return r.toString()}(e.baseUrl,a,i),u=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),d=await n(l,{method:r,headers:c(c(c({},o?{"Content-Type":"application/json"}:{}),u),s),body:o?JSON.stringify(o):void 0}),h=await d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),p=f&&h?JSON.parse(h):h;if(!d.ok){var g;const e=f?p:void 0,t=null===e||void 0===e?void 0:e.error;throw new ve(null!==(g=null===t||void 0===t?void 0:t.message)&&void 0!==g?g:"Request failed with status ".concat(d.status),{status:d.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:d.status,headers:d.headers,data:p}}}}function we(e){return e.join("\x1f")}var xe=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:we(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(we(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(we(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(we(e.namespace))}),!0}catch(t){if(t instanceof ve&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ve&&409===n.status)return;throw n}}};function ke(e){return e.join("\x1f")}var Se=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables"),body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){var n;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(n=null===t||void 0===t?void 0:t.purge)&&void 0!==n&&n)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(ke(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(n){if(n instanceof ve&&404===n.status)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ve&&409===n.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},_e=class{constructor(e){var t;let n="v1";e.catalogName&&(n+="/".concat(e.catalogName));const r=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=be({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new xe(this.client,n),this.tableOps=new Se(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var Ee=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function je(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var Ce=class extends Ee{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Te=class extends Ee{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Oe=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Re=e=>{if(Array.isArray(e))return e.map(e=>Re(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=Re(r)}),t};function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}function Ie(e,t,n){return(t=Ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach(function(t){Ie(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Le=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},De=async(e,t,n)=>{e instanceof await Response&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then(n=>{const r=e.status||500,a=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new Ce(Le(n),r,a))}).catch(e=>{t(new Te(Le(e),e))}):t(new Te(Le(e),e))},Me=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Ne({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Ne(Ne({},a),n)):a};async function Ue(e,t,n,r,a,i){return new Promise((o,s)=>{e(n,Me(t,r,a,i)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>o(e)).catch(e=>De(e,s,r))})}async function Fe(e,t,n,r){return Ue(e,"GET",t,n,r)}async function We(e,t,n,r,a){return Ue(e,"POST",t,r,a,n)}async function Be(e,t,n,r,a){return Ue(e,"PUT",t,r,a,n)}async function qe(e,t,n,r,a){return Ue(e,"DELETE",t,r,a,n)}var He=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}}};let Ve;Ve=Symbol.toStringTag;var Ke=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ve]="BlobDownloadBuilder",this.promise=null}asStream(){return new He(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}}};const $e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ge={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Je=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Oe(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var a=this;try{let i;const o=Ne(Ne({},Ge),r);let s=Ne(Ne({},a.headers),"POST"===e&&{"x-upsert":String(o.upsert)});const l=o.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",a.encodeMetadata(l)),i.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(l))):(i=n,s["cache-control"]="max-age=".concat(o.cacheControl),s["content-type"]=o.contentType,l&&(s["x-metadata"]=a.toBase64(a.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&i instanceof ReadableStream||i&&"object"===typeof i&&"pipe"in i&&"function"===typeof i.pipe)&&!o.duplex&&(o.duplex="half")),(null===r||void 0===r?void 0:r.headers)&&(s=Ne(Ne({},s),r.headers));const c=a._removeEmptyFolders(t),u=a._getFinalPath(c),d=await("PUT"==e?Be:We)(a.fetch,"".concat(a.url,"/object/").concat(u),i,Ne({headers:s},(null===o||void 0===o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(je(i))return{data:null,error:i};throw i}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),s=new URL(a.url+"/object/upload/sign/".concat(o));s.searchParams.set("token",t);try{let e;const t=Ne({upsert:Ge.upsert},r),o=Ne(Ne({},a.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,o["cache-control"]="max-age=".concat(t.cacheControl),o["content-type"]=t.contentType),{data:{path:i,fullPath:(await Be(a.fetch,s.toString(),e,{headers:o})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const a=Ne({},n.headers);(null===t||void 0===t?void 0:t.upsert)&&(a["x-upsert"]="true");const i=await We(n.fetch,"".concat(n.url,"/object/upload/sign/").concat(r),{},{headers:a}),o=new URL(n.url+i.url),s=o.searchParams.get("token");if(!s)throw new Ee("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await We(r.fetch,"".concat(r.url,"/object/move"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(je(a))return{data:null,error:a};throw a}}async copy(e,t,n){var r=this;try{return{data:{path:(await We(r.fetch,"".concat(r.url,"/object/copy"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(je(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,n){var r=this;try{let a=r._getFinalPath(e),i=await We(r.fetch,"".concat(r.url,"/object/sign/").concat(a),Ne({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:r.headers});const o=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return i={signedUrl:encodeURI("".concat(r.url).concat(i.signedURL).concat(o))},{data:i,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(je(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,n){var r=this;try{const a=await We(r.fetch,"".concat(r.url,"/object/sign/").concat(r.bucketId),{expiresIn:t,paths:e},{headers:r.headers}),i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:a.map(e=>Ne(Ne({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(r.url).concat(e.signedURL).concat(i)):null})),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(je(a))return{data:null,error:a};throw a}}download(e,t){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"",i=this._getFinalPath(e);return new Ke(()=>Fe(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(i).concat(a),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Re(await Fe(t.fetch,"".concat(t.url,"/object/info/").concat(n),{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await async function(e,t,n,r){return Ue(e,"HEAD",t,Ne(Ne({},n),{},{noResolveJson:!0}),r)}(t.fetch,"".concat(t.url,"/object/").concat(n),{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(je(r)&&r instanceof Te){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const i="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&r.push(o);let s=r.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(i,"/public/").concat(n).concat(s))}}}async remove(e){var t=this;try{return{data:await qe(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const a=Ne(Ne(Ne({},$e),t),{},{prefix:e||""});return{data:await We(r.fetch,"".concat(r.url,"/object/list/").concat(r.bucketId),a,{headers:r.headers},n),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(je(a))return{data:null,error:a};throw a}}async listV2(e,t){var n=this;try{const r=Ne({},e);return{data:await We(n.fetch,"".concat(n.url,"/object/list-v2/").concat(n.bucketId),r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const Ye="2.90.1",Qe={"X-Client-Info":"storage-js/".concat(Ye)};var Xe=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.shouldThrowOnError=!1;const a=new URL(e);(null===r||void 0===r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ne(Ne({},Qe),t),this.fetch=Oe(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Fe(t.fetch,"".concat(t.url,"/bucket").concat(n),{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Fe(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var n=this;try{return{data:await We(n.fetch,"".concat(n.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Be(n.fetch,"".concat(n.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await We(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await qe(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ze=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ne(Ne({},Qe),t),this.fetch=Oe(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await We(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&n.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&n.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&n.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&n.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&n.set("search",e.search);const r=n.toString(),a=r?"".concat(t.url,"/bucket?").concat(r):"".concat(t.url,"/bucket");return{data:await Fe(t.fetch,a,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await qe(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new Ee("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new _e({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){const n=e[t];return"function"!==typeof n?n:async function(){try{for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return{data:await n.apply(e,a),error:null}}catch(o){if(r)throw o;return{data:null,error:o}}}}})}};const et={"X-Client-Info":"storage-js/".concat(Ye),"Content-Type":"application/json"};var tt=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function nt(e){return"object"===typeof e&&null!==e&&"__isStorageVectorsError"in e}var rt=class extends tt{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},at=class extends tt{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const it=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},ot=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),st=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Ne({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,Ne(Ne({},a),n)):a};async function lt(e,t,n,r,a,i){return new Promise((o,s)=>{e(n,st(t,r,a,i)).then(e=>{if(!e.ok)throw e;if(null===r||void 0===r?void 0:r.noResolveJson)return e;const t=e.headers.get("content-type");return t&&t.includes("application/json")?e.json():{}}).then(e=>o(e)).catch(e=>(async(e,t,n)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===n||void 0===n?void 0:n.noResolveJson)){const n=e.status||500,r=e;if("function"===typeof r.json)r.json().then(e=>{const r=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||n+"";t(new rt(ot(e),n,r))}).catch(()=>{const e=n+"";t(new rt(r.statusText||"HTTP ".concat(n," error"),n,e))});else{const e=n+"";t(new rt(r.statusText||"HTTP ".concat(n," error"),n,e))}}else t(new at(ot(e),e))})(e,s,r))})}async function ct(e,t,n,r,a){return lt(e,"POST",t,r,a,n)}var ut=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ne(Ne({},et),t),this.fetch=it(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await ct(n.fetch,"".concat(n.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await ct(n.fetch,"".concat(n.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(nt(r))return{data:null,error:r};throw r}}},dt=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ne(Ne({},et),t),this.fetch=it(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ct(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return{data:await ct(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ct(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}},ht=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ne(Ne({},et),t),this.fetch=it(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await ct(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(nt(n))return{data:null,error:n};throw n}}},ft=class extends ht{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new pt(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},pt=class extends ut{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){return(()=>super.createIndex)().call(this,Ne(Ne({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,Ne(Ne({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new gt(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},gt=class extends dt{constructor(e,t,n,r,a){super(e,t,a),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,Ne(Ne({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},mt=class extends Xe{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Je(this.url,this.headers,e,this.fetch)}get vectors(){return new ft(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ze(this.url+"/iceberg",this.headers,this.fetch)}};const yt="2.90.1",vt=3e4,bt=9e4,wt={"X-Client-Info":"gotrue-js/".concat(yt)},xt="X-Supabase-Api-Version",kt={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},St=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class _t extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Et(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class jt extends _t{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Ct extends _t{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Tt extends _t{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Ot extends Tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Rt extends Tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pt extends Tt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class At extends Tt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class It extends Tt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zt extends Tt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nt extends Tt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Lt(e){return Et(e)&&"AuthRetryableFetchError"===e.name}class Dt extends Tt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Mt extends Tt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ft=" \t\n\r=".split(""),Wt=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ft.length;t+=1)e[Ft[t].charCodeAt(0)]=-2;for(let t=0;t<Ut.length;t+=1)e[Ut[t].charCodeAt(0)]=t;return e})();function Bt(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Ut[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Ut[e]),t.queuedBits-=6}}function qt(e,t,n){const r=Wt[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ht(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let o=0;o<e.length;o+=1)qt(e.charCodeAt(o),a,i);return t.join("")}function Vt(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Kt(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Vt(r,t)}}function $t(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)qt(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Gt(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Bt(e,n,r)),Bt(null,n,r),t.join("")}const Jt=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Yt={tested:!1,writable:!1},Qt=()=>{if(!Jt())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Yt.tested)return Yt.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yt.tested=!0,Yt.writable=!0}catch(t){Yt.tested=!0,Yt.writable=!1}return Yt.writable};const Xt=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Zt=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},en=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},tn=async(e,t)=>{await e.removeItem(t)};class nn{constructor(){this.promise=new nn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function rn(e){const t=e.split(".");if(3!==t.length)throw new Mt("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!St.test(t[n]))throw new Mt("JWT not in base64url format");return{header:JSON.parse(Ht(t[0])),payload:JSON.parse(Ht(t[1])),signature:$t(t[2]),raw:{header:t[0],payload:t[1]}}}function an(e){return("0"+e.toString(16)).substr(-2)}async function on(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,an).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Zt(e,"".concat(t,"-code-verifier"),a);const i=await on(r);return[i,r===i?"plain":"s256"]}nn.promiseConstructor=Promise;const ln=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const cn=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function un(e){if(!cn.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dn(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function hn(e){return JSON.parse(JSON.stringify(e))}const fn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pn=[502,503,504];async function gn(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Nt(fn(e),0);if(pn.includes(e.status))throw new Nt(fn(e),e.status);let r,a;try{r=await e.json()}catch(o){throw new Ct(fn(o),o)}const i=function(e){const t=e.headers.get(xt);if(!t)return null;if(!t.match(ln))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(o){return null}}(e);if(i&&i.getTime()>=kt.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new Dt(fn(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Ot}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new Dt(fn(r),e.status,r.weak_password.reasons);throw new jt(fn(r),e.status||500,a)}async function mn(e,t,n,r){var a;const i=Object.assign({},null===r||void 0===r?void 0:r.headers);i[xt]||(i[xt]=kt.name),(null===r||void 0===r?void 0:r.jwt)&&(i.Authorization="Bearer ".concat(r.jwt));const o=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,n,r,a,i){const o=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,i);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new Nt(fn(l),0)}s.ok||await gn(s);if(null===r||void 0===r?void 0:r.noResolveJson)return s;try{return await s.json()}catch(l){await gn(l)}}(e,t,n+s,{headers:i,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function yn(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function vn(e){const t=yn(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function bn(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function wn(e){return{data:e,error:null}}function xn(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i}=e,o=w(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:i},user:Object.assign({},o)},error:null}}function kn(e){return e}const Sn=["global","local","others"];class _n{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Xt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn[0];if(Sn.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(Sn.join(", ")));try{return await mn(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await mn(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:bn})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=w(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await mn(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:xn,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Et(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await mn(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:bn})}catch(t){if(Et(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await mn(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:kn});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Et(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){un(e);try{return await mn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:bn})}catch(t){if(Et(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){un(e);try{return await mn(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:bn})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];un(e);try{return await mn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:bn})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){un(e.userId);try{const{data:t,error:n}=await mn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Et(t))return{data:null,error:t};throw t}}async _deleteFactor(e){un(e.userId),un(e.id);try{return{data:await mn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,a,i,o,s;try{const l={nextPage:null,lastPage:0,total:0},c=await mn(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:kn});if(c.error)throw c.error;const u=await c.json(),d=null!==(i=c.headers.get("x-total-count"))&&void 0!==i?i:0,h=null!==(s=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==s?s:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Et(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await mn(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Et(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await mn(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Et(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await mn(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await mn(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Et(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await mn(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(Et(t))return{data:null,error:t};throw t}}}function En(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const jn=!!(globalThis&&Qt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Cn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Tn extends Cn{}async function On(e,t,n){jn&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),jn&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw jn&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tn('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(jn)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}jn&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{jn&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}function Rn(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function Pn(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class An extends Error{constructor(e){let{message:t,code:n,cause:r,name:a}=e;var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(i=null!==a&&void 0!==a?a:r instanceof Error?r.name:void 0)&&void 0!==i?i:"Unknown Error",this.code=n}}class In extends An{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function zn(e){let{error:t,options:n}=e;var r,a,i;const{publicKey:o}=n;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new An({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=o.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new An({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(a=o.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new An({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(i=o.authenticatorSelection)||void 0===i?void 0:i.userVerification))return new An({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new An({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new An({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===o.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new An({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new An({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Wn(e))return new An({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(o.rp.id!==e)return new An({message:'The RP ID "'.concat(o.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new An({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new An({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new An({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Nn(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new An({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new An({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Wn(e))return new An({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new An({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new An({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new An({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const Ln=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function Dn(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,a=w(e,["challenge","user","excludeCredentials"]),i=$t(t).buffer,o=Object.assign(Object.assign({},n),{id:$t(n.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];s.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:$t(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Mn(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=w(e,["challenge","allowCredentials"]),a=$t(t).buffer,i=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];i.allowCredentials[e]=Object.assign(Object.assign({},t),{id:$t(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return i}function Un(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Gt(new Uint8Array(e.response.attestationObject)),clientDataJSON:Gt(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Fn(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Gt(new Uint8Array(a.authenticatorData)),clientDataJSON:Gt(new Uint8Array(a.clientDataJSON)),signature:Gt(new Uint8Array(a.signature)),userHandle:a.userHandle?Gt(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Wn(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Bn(){var e,t;return!!(Jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const qn={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hn={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Vn(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];for(const o of a)if(o)for(const r in o){const a=o[r];if(void 0!==a)if(Array.isArray(a))n[r]=a;else if(t(a))n[r]=a;else if(e(a)){const t=n[r];e(t)?n[r]=Vn(t,a):n[r]=Vn(a)}else n[r]=a}return n}class Kn{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:a,signal:i}=e;try{const{data:e,error:o}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:o};const s=null!==i&&void 0!==i?i:Ln.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;t.name||(t.name="".concat(t.id,":").concat(a)),t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return Vn(qn,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:i}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new In("Browser returned unexpected credential type",t)}:{data:null,error:new In("Empty credential response",t)}}catch(t){return{data:null,error:zn({error:t,options:e})}}}({publicKey:r,signal:s});return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:i}}case"request":{const r=function(e,t){return Vn(Hn,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:i}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new In("Browser returned unexpected credential type",t)}:{data:null,error:new In("Empty credential response",t)}}catch(t){return{data:null,error:Nn({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:s}));return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:i}}}}catch(o){return Et(o)?{data:null,error:o}:{data:null,error:new Ct("Unexpected error in challenge",o)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:i}={}}=e;if(!r)return{data:null,error:new _t("rpId is required for WebAuthn authentication")};try{if(!Bn())return{data:null,error:new Ct("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:a},signal:i},{request:t});if(!e)return{data:null,error:o};const{webauthn:s}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:s.type,rpId:r,rpOrigins:a,credential_response:s.credential_response}})}catch(o){return Et(o)?{data:null,error:o}:{data:null,error:new Ct("Unexpected error in authenticate",o)}}}async _register(e,t){let{friendlyName:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:i}={}}=e;if(!r)return{data:null,error:new _t("rpId is required for WebAuthn registration")};try{if(!Bn())return{data:null,error:new Ct("Browser does not support WebAuthn",null)};const{data:e,error:o}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:o};const{data:s,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:i},{create:t});return s?this._verify({factorId:e.id,challengeId:s.challengeId,webauthn:{rpId:r,rpOrigins:a,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:l}}catch(o){return Et(o)?{data:null,error:o}:{data:null,error:new Ct("Unexpected error in register",o)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const $n={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wt,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Gn(e,t,n){return await n()}const Jn={};class Yn{get jwks(){var e,t;return null!==(t=null===(e=Jn[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Jn[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},$n),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=Yn.nextInstanceID[this.storageKey])&&void 0!==t?t:0,Yn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&Jt()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new _n({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Xt(a.fetch),this.lock=a.lock||Gn,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Jt()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=On:this.lock=Gn,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kn(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Qt()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=En(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=En(this.memoryStorage)),Jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(yt,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(Jt()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Jt()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return Et(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return{error:a}}const{session:i,redirectType:o}=r;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Et(t)?this._returnResult({error:t}):this._returnResult({error:new Ct("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await mn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:yn}),{data:i,error:o}=a;if(o||!i)return this._returnResult({data:{user:null,session:null},error:o});const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(a){if(Et(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:i}=e;let o=null,s=null;"pkce"===this.flowType&&([o,s]=await sn(this.storage,this.storageKey)),a=await mn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:s},xform:yn})}else{if(!("phone"in e))throw new Pt("You must provide either an email or phone number and a password");{const{phone:t,password:i,options:o}=e;a=await mn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:i,data:null!==(n=null===o||void 0===o?void 0:o.data)&&void 0!==n?n:{},channel:null!==(r=null===o||void 0===o?void 0:o.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:yn})}}const{data:i,error:o}=a;if(o||!i)return await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:o});const s=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(a){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),Et(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:vn})}else{if(!("phone"in e))throw new Pt("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:vn})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new Rt;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(Et(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,a,i,o,s,l,c,u,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:u,wallet:d,statement:p,options:g}=e;let m;if(Jt())if("object"===typeof d)m=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");m=e.ethereum}else{if("object"!==typeof d||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=d}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href),v=await m.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!v||0===v.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Rn(v[0]);let w=null===(n=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!w){const e=await m.request({method:"eth_chainId"});w=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(o));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=Rn(e.address),p=u?"".concat(u,"://").concat(r):r,g=e.statement?"".concat(e.statement,"\n"):"",m="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(g);let y="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(o?"\nNonce: ".concat(o):"","\nIssued At: ").concat(i.toISOString());if(a&&(y+="\nExpiration Time: ".concat(a.toISOString())),s&&(y+="\nNot Before: ".concat(s.toISOString())),l&&(y+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}y+=e}return"".concat(m,"\n").concat(y)}({domain:y.host,address:b,statement:p,uri:y.href,version:"1",chainId:w,nonce:null===(r=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(i=null===(a=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==i?i:new Date,expirationTime:null===(o=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===o?void 0:o.expirationTime,notBefore:null===(s=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===s?void 0:s.notBefore,requestId:null===(l=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===g||void 0===g?void 0:g.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await m.request({method:"personal_sign",params:[Pn(h),b]})}try{const{data:t,error:n}=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:yn});if(n)throw n;if(!t||!t.session||!t.user){const e=new Rt;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(p){if(Et(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,n,r,a,i,o,s,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:g,options:m}=e;let y;if(Jt())if("object"===typeof h)y=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");y=e.solana}else{if("object"!==typeof h||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=h}const v=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href);if("signIn"in y&&y.signIn){const e=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===m||void 0===m?void 0:m.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),g?{statement:g}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in y)||"function"!==typeof y.signMessage||!("publicKey"in y)||"object"!==typeof y||!y.publicKey||!("toBase58"in y.publicKey)||"function"!==typeof y.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(v.host," wants you to sign in with your Solana account:"),y.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1","URI: ".concat(v.href),"Issued At: ".concat(null!==(r=null===(n=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(m.signInWithSolana.notBefore)]:[],...(null===(i=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===i?void 0:i.expirationTime)?["Expiration Time: ".concat(m.signInWithSolana.expirationTime)]:[],...(null===(o=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===o?void 0:o.chainId)?["Chain ID: ".concat(m.signInWithSolana.chainId)]:[],...(null===(s=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===s?void 0:s.nonce)?["Nonce: ".concat(m.signInWithSolana.nonce)]:[],...(null===(l=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(m.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===m||void 0===m?void 0:m.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...m.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await y.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Gt(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:yn});if(n)throw n;if(!t||!t.session||!t.user){const e=new Rt;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(g){if(Et(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(e){const t=await en(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{if(!n&&"pkce"===this.flowType)throw new zt;const{data:t,error:a}=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yn});if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;if(!t||!t.session||!t.user){const e=new Rt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a})}catch(a){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),Et(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:i}=e,o=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:yn}),{data:s,error:l}=o;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s||!s.session||!s.user){const e=new Rt;return this._returnResult({data:{user:null,session:null},error:e})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:s,error:l})}catch(t){if(Et(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,a,i;try{if("email"in e){const{email:r,options:a}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await sn(this.storage,this.storageKey));const{error:s}=await mn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:t,options:n}=e,{data:o,error:s}=await mn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(i=null===n||void 0===n?void 0:n.channel)&&void 0!==i?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:s})}throw new Pt("You must provide either an email or phone number.")}catch(o){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),Et(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:i,error:o}=await mn(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:yn});if(o)throw o;if(!i){throw new Error("An error occurred on token verification.")}const s=i.session,l=i.user;return(null===s||void 0===s?void 0:s.access_token)&&(await this._saveSession(s),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",s)),this._returnResult({data:{user:l,session:s},error:null})}catch(r){if(Et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r,a,i;try{let o=null,s=null;"pkce"===this.flowType&&([o,s]=await sn(this.storage,this.storageKey));const l=await mn(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:wn});return(null===(a=l.data)||void 0===a?void 0:a.url)&&Jt()&&!(null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(o){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),Et(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ot;const{error:r}=await mn(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(Et(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:i}=await mn(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:i,error:o}=await mn(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o})}throw new Pt("You must provide either an email or phone number and a type")}catch(t){if(Et(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await en(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<bt;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await en(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=dn()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"===typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!==typeof n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await mn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:bn}):await this._useSession(async e=>{var t,n,r;const{data:a,error:i}=e;if(i)throw i;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await mn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:bn}):{data:{user:null},error:new Ot}})}catch(t){if(Et(t))return function(e){return Et(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await tn(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new Ot;const i=r.session;let o=null,s=null;"pkce"===this.flowType&&null!=e.email&&([o,s]=await sn(this.storage,this.storageKey));const{data:l,error:c}=await mn(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:i.access_token,xform:bn});if(c)throw c;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),Et(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ot;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:i}=rn(e.access_token);if(i.exp&&(n=i.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:i}=await this._getUser(e.access_token);if(i)throw i;a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(Et(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Ot;const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(Et(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Jt())throw new At("No browser detected.");if(e.error||e.error_description||e.error_code)throw new At(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new It("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new At("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new It("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:i,expires_in:o,expires_at:s,token_type:l}=e;if(!a||!o||!i||!l)throw new At("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;s&&(d=parseInt(s));const h=d-c;1e3*h<=vt&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:g}=await this._getUser(a);if(g)throw g;const m={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(n){if(Et(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await en(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({error:a});const i=null===(n=r.session)||void 0===n?void 0:n.access_token;if(i){const{error:t}=await this.admin.signOut(i,e);if(t&&(!function(e){return Et(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await tn(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await sn(this.storage,this.storageKey,!0));try{return await mn(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),Et(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(Et(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,i,o;const{data:s,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await mn(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(i=s.session)||void 0===i?void 0:i.access_token)&&void 0!==o?o:void 0})});if(r)throw r;return Jt()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null})}catch(n){if(Et(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:a}}=t;if(r)throw r;const{options:i,provider:o,token:s,access_token:l,nonce:c}=e,u=await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===a||void 0===a?void 0:a.access_token)&&void 0!==n?n:void 0,body:{provider:o,id_token:s,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:yn}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new Rt})}catch(r){if(await tn(this.storage,"".concat(this.storageKey,"-code-verifier")),Et(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)throw i;return await mn(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(Et(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await mn(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:yn})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&Lt(t)&&Date.now()+n-a<vt},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(a){if(!r(i,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),Et(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Jt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await en(this.storage,this.storageKey);if(a&&this.userStorage){let t=await en(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Zt(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:dn()}else if(a&&!a.user&&!a.user){const e=await en(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await tn(this.storage,this.storageKey+"-user"),await Zt(this.storage,this.storageKey,a)):a.user=dn()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const i=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<bt;if(this._debug(n,"session has".concat(i?"":" not"," expired with margin of ").concat(bt,"s")),i){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),Lt(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new nn;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Ot;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),Et(a)){const e={data:null,error:a};return Lt(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(a){r.push(a)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tn(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Zt(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=hn(e);await Zt(this.storage,this.storageKey,r)}else{const e=hn(t);await Zt(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tn(this.storage,this.storageKey),await tn(this.storage,this.storageKey+"-code-verifier"),await tn(this.storage,this.storageKey+"-user"),this.userStorage&&await tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Jt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vt);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"===typeof t&&"function"===typeof t.unref?t.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/vt);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(vt,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof Cn))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await sn(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?this._returnResult({data:null,error:a}):await mn(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(Et(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:i}=t;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:s,error:l}=await mn(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===s.type&&(null===(r=null===s||void 0===s?void 0:s.totp)||void 0===r?void 0:r.qr_code)&&(s.totp.qr_code="data:image/svg+xml;utf-8,".concat(s.totp.qr_code)),this._returnResult({data:s,error:null}))})}catch(t){if(Et(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const i=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Un(e.webauthn.credential_response):Fn(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:s}=await mn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:i,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?this._returnResult({data:null,error:s}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:s}))})}catch(t){if(Et(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const i=await mn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if("webauthn"!==o.type)return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Dn(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Mn(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Et(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(a),"verified"===a.status&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:n},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=rn(n.access_token);let i=null;a.aal&&(i=a.aal);let o=i;(null!==(t=null===(e=n.user.factors)||void 0===e?void 0:e.filter(e=>"verified"===e.status))&&void 0!==t?t:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await mn(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(t){if(Et(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new Ot});const i=await mn(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return i.data&&i.data.redirect_url&&Jt()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new Ot});const i=await mn(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return i.data&&i.data.redirect_url&&Jt()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await mn(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Ot})})}catch(e){if(Et(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await mn(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ot})})}catch(t){if(Et(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await mn(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:a,signature:i,raw:{header:o,payload:s}}=rn(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:i},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,i,function(e){const t=[];return Kt(e,e=>t.push(e)),new Uint8Array(t)}("".concat(o,".").concat(s))))throw new Mt("Invalid JWT signature");return{data:{claims:a,header:r,signature:i},error:null}}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}}}Yn.nextInstanceID={};const Qn=Yn;let Xn="";Xn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Zn={headers:{"X-Client-Info":"supabase-js-".concat(Xn,"/").concat("2.90.1")}},er={schema:"public"},tr={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nr={};function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e){var t=function(e,t){if("object"!=rr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rr(t)?t:t+""}function ir(e,t,n){return(t=ar(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach(function(t){ir(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const lr=(e,t,n)=>{const r=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n),a=Headers;return async(n,i)=>{var o;const s=null!==(o=await t())&&void 0!==o?o:e;let l=new a(null===i||void 0===i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(s)),r(n,sr(sr({},i),{},{headers:l}))}};var cr=class extends Qn{constructor(e){super(e)}},ur=class{constructor(e,t,n){var r,a;this.supabaseUrl=e,this.supabaseKey=t;const i=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o="sb-".concat(i.hostname.split(".")[0],"-auth-token"),s=function(e,t){var n,r;const{db:a,auth:i,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:sr(sr({},l),a),auth:sr(sr({},c),i),realtime:sr(sr({},u),o),storage:{},global:sr(sr(sr({},d),s),{},{headers:sr(sr({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===s||void 0===s?void 0:s.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:er,realtime:nr,auth:sr(sr({},tr),{},{storageKey:o}),global:Zn});var l;(this.storageKey=null!==(r=s.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=s.global.headers)&&void 0!==a?a:{},s.accessToken)?(this.accessToken=s.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=s.auth)&&void 0!==l?l:{},this.headers,s.global.fetch);this.fetch=lr(t,this._getAccessToken.bind(this),s.global.fetch),this.realtime=this._initRealtimeClient(sr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},s.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new N(new URL("rest/v1",i).href,{headers:this.headers,schema:s.db.schema,fetch:this.fetch}),this.storage=new mt(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),s.accessToken||this._listenForAuthEvents()}get functions(){return new T(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,n=this;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:n.supabaseKey}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,userStorage:s,storageKey:l,flowType:c,lock:u,debug:d,throwOnError:h}=e;const f={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new cr({url:this.authUrl.href,headers:sr(sr({},f),t),storageKey:l,autoRefreshToken:r,persistSession:a,detectSessionInUrl:i,storage:o,userStorage:s,flowType:c,lock:u,debug:d,throwOnError:h,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new ye(this.realtimeUrl.href,sr(sr({},e),{},{params:sr(sr({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}};(function(){if("undefined"!==typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(void 0===t||null===t)return!1;const n=t.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dr=((e,t,n)=>new ur(e,t,n))("https://albdrcyjmfrbzbzopfpu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFsYmRyY3lqbWZyYnpiem9wZnB1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1Mzk2MTAsImV4cCI6MjA4MzExNTYxMH0.M7SVuHxQCKu9nYeXTXvjEaFQ-HZhGzFy9TQCQu6Y-nU");class hr{constructor(){s(this,"_bus",new EventTarget)}listen(e){function t(t){e(t.data)}return this._bus.addEventListener("message",t),()=>this._bus.removeEventListener("message",t)}fireEvent(e){this._bus.dispatchEvent(new MessageEvent("message",{data:e}))}}const fr=new Error;fr.stack="";const pr=new hr;const gr={};let mr=null;const yr={get editorOrigin(){var e;null==mr&&(mr=new URL(null!==(e=globalThis.WEBCONTAINER_API_IFRAME_URL)&&void 0!==e?e:"https://stackblitz.com").origin);return mr},set editorOrigin(e){mr=new URL(e).origin},setQueryParam(e,t){gr[e]=t},get url(){const e=new URL(this.editorOrigin);e.pathname="/headless";for(const t in gr)e.searchParams.set(t,gr[t]);return e.searchParams.set("version","1.6.1"),e}};const vr={initialized:!1,bootCalled:!1,authComplete:function(){let e,t;function n(){t=new Promise(t=>e=t)}return n(),{get promise(){return t},resolve:t=>e(t),reset:n}}(),clientId:"",oauthScope:"",broadcastChannel:null,get editorOrigin(){return yr.editorOrigin},tokens:null};new hr,new hr;function br(e){if(!e)throw new Error("Oops! Tokens is not defined when it always should be.")}var wr;!function(e){e.UncaughtException="PREVIEW_UNCAUGHT_EXCEPTION",e.UnhandledRejection="PREVIEW_UNHANDLED_REJECTION",e.ConsoleError="PREVIEW_CONSOLE_ERROR"}(wr||(wr={}));var xr=Object.defineProperty,kr={};((e,t)=>{for(var n in t)xr(e,n,{get:t[n],enumerable:!0})})(kr,{createEndpoint:()=>_r,expose:()=>Or,proxy:()=>Dr,proxyMarker:()=>Sr,releaseProxy:()=>Er,transfer:()=>Lr,transferHandlers:()=>Tr,windowEndpoint:()=>Mr,wrap:()=>Pr});var Sr=Symbol("Comlink.proxy"),_r=Symbol("Comlink.endpoint"),Er=Symbol("Comlink.releaseProxy"),jr=Symbol("Comlink.thrown"),Cr=e=>"object"===typeof e&&null!==e||"function"===typeof e,Tr=new Map([["proxy",{canHandle:e=>Cr(e)&&e[Sr],serialize(e){const{port1:t,port2:n}=new MessageChannel;return Or(e,t),[n,[n]]},deserialize:e=>(e.start(),Pr(e))}],["throw",{canHandle:e=>Cr(e)&&jr in e,serialize(e){let t,{value:n}=e;return t=n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function Or(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;t.addEventListener("message",function n(r){if(!r||!r.data)return;const{id:a,type:i,path:o}=Object.assign({path:[]},r.data),s=(r.data.argumentList||[]).map(Fr);let l;try{const t=o.slice(0,-1).reduce((e,t)=>e[t],e),n=o.reduce((e,t)=>e[t],e);switch(i){case 0:l=n;break;case 1:t[o.slice(-1)[0]]=Fr(r.data.value),l=!0;break;case 2:l=n.apply(t,s);break;case 3:l=Dr(new n(...s));break;case 4:{const{port1:t,port2:n}=new MessageChannel;Or(e,n),l=Lr(t,[t])}break;case 5:l=void 0}}catch(c){l={value:c,[jr]:0}}Promise.resolve(l).catch(e=>({value:e,[jr]:0})).then(e=>{const[r,o]=Ur(e);t.postMessage(Object.assign(Object.assign({},r),{id:a}),o),5===i&&(t.removeEventListener("message",n),Rr(t))})}),t.start&&t.start()}function Rr(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function Pr(e,t){return Ir(e,[],t)}function Ar(e){if(e)throw new Error("Proxy has been released and is not useable")}function Ir(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1;const r=new Proxy(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},{get(a,i){if(Ar(n),i===Er)return()=>Wr(e,{type:5,path:t.map(e=>e.toString())}).then(()=>{Rr(e),n=!0});if("then"===i){if(0===t.length)return{then:()=>r};const n=Wr(e,{type:0,path:t.map(e=>e.toString())}).then(Fr);return n.then.bind(n)}return Ir(e,[...t,i])},set(r,a,i){Ar(n);const[o,s]=Ur(i);return Wr(e,{type:1,path:[...t,a].map(e=>e.toString()),value:o},s).then(Fr)},apply(r,a,i){Ar(n);const o=t[t.length-1];if(o===_r)return Wr(e,{type:4}).then(Fr);if("bind"===o)return Ir(e,t.slice(0,-1));const[s,l]=zr(i);return Wr(e,{type:2,path:t.map(e=>e.toString()),argumentList:s},l).then(Fr)},construct(r,a){Ar(n);const[i,o]=zr(a);return Wr(e,{type:3,path:t.map(e=>e.toString()),argumentList:i},o).then(Fr)}});return r}function zr(e){const t=e.map(Ur);return[t.map(e=>e[0]),(n=t.map(e=>e[1]),Array.prototype.concat.apply([],n))];var n}var Nr=new WeakMap;function Lr(e,t){return Nr.set(e,t),e}function Dr(e){return Object.assign(e,{[Sr]:!0})}function Mr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";return{postMessage:(t,r)=>e.postMessage(t,n,r),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function Ur(e){for(const[t,n]of Tr)if(n.canHandle(e)){const[r,a]=n.serialize(e);return[{type:3,name:t,value:r},a]}return[{type:0,value:e},Nr.get(e)||[]]}function Fr(e){switch(e.type){case 3:return Tr.get(e.name).deserialize(e.value);case 0:return e.value}}function Wr(e,t,n){return new Promise(r=>{const a=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");e.addEventListener("message",function t(n){n.data&&n.data.id&&n.data.id===a&&(e.removeEventListener("message",t),r(n.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:a},t),n)})}const Br=[wr.ConsoleError,wr.UncaughtException,wr.UnhandledRejection];function qr(e){const t=Object.create(null);return e?Object.assign(t,e):t}const Hr=new TextDecoder("latin1");function Vr(e){const t={d:{}};for(const n of Object.keys(e)){const r=e[n];if("file"in r){if("symlink"in r.file){t.d[n]={f:{l:r.file.symlink}};continue}const e=r.file.contents,a="string"===typeof e?e:Hr.decode(e),i="string"===typeof e?{}:{b:!0};t.d[n]={f:c({c:a},i)};continue}const a=Vr(r.directory);t.d[n]=a}return t}function Kr(e){const t=qr();if("f"in e)throw new Error("It is not possible to export a single file in the JSON format.");if("d"in e)for(const n of Object.keys(e.d)){const r=e.d[n];"d"in r?t[n]=qr({directory:Kr(r)}):"f"in r&&("c"in r.f?t[n]=qr({file:qr({contents:r.f.b?$r(r.f.c):r.f.c})}):"l"in r.f&&(t[n]=qr({file:qr({symlink:r.f.l})})))}return t}function $r(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].charCodeAt(0);return t}let Gr=null,Jr=null,Yr={};const Qr=new TextDecoder,Xr=new TextEncoder;class Zr{constructor(e,t,n,r){var a;s(this,"_instance",void 0),s(this,"_runtimeInfo",void 0),s(this,"fs",void 0),s(this,"_tornDown",!1),s(this,"_unsubscribeFromTokenChangedListener",()=>{}),this._instance=e,this._runtimeInfo=r,this.fs=new ra(t),vr.initialized&&(this._unsubscribeFromTokenChangedListener=(a=e=>{this._instance.setCredentials({accessToken:e,editorOrigin:vr.editorOrigin})},pr.listen(a)),(async()=>{await vr.authComplete.promise,this._tornDown||(br(vr.tokens),await this._instance.setCredentials({accessToken:vr.tokens.access,editorOrigin:vr.editorOrigin}))})().catch(e=>{console.error(e)}))}async spawn(e,t,n){var r,a,i,o;let s,l=[];Array.isArray(t)?l=t:n=t;let c,u,d=new ReadableStream;if(!1!==(null===(r=n)||void 0===r?void 0:r.output)){const e=function(){let e=null;const t=new ReadableStream({start(t){e=t}});return{stream:t,push:t=>{var n,r;null!=t?null===(n=e)||void 0===n||n.enqueue(t):(null===(r=e)||void 0===r||r.close(),e=null)}}}();s=e.push,d=e.stream}const h=ia(aa(s)),f=ia(aa(c)),p=ia(aa(u)),g=await this._instance.run({command:e,args:l,cwd:null===(a=n)||void 0===a?void 0:a.cwd,env:null===(i=n)||void 0===i?void 0:i.env,terminal:null===(o=n)||void 0===o?void 0:o.terminal},f,p,h);return new na(g,d,undefined,undefined)}async export(e,t){var n;const r={format:null!==(n=null===t||void 0===t?void 0:t.format)&&void 0!==n?n:"json",includes:null===t||void 0===t?void 0:t.includes,excludes:null===t||void 0===t?void 0:t.excludes,external:!0},a=await this._instance.serialize(e,r);if("json"===r.format){return Kr(JSON.parse(Qr.decode(a)))}return a}on(e,t){if("preview-message"===e){const e=t;t=t=>{var n;null!=(n=t)&&"object"===typeof n&&"type"in n&&Br.includes(n.type)&&e(t)}}const{listener:n,subscribe:r}=function(e){let t=!1,n=()=>{};const r=function(){t||e(...arguments)};return{subscribe:e=>(e.then(e=>{n=e,t&&n()}),()=>{t=!0,n()}),listener:r}}(t);return r(this._instance.on(e,kr.proxy(n)))}mount(e,t){const n=e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):Xr.encode(JSON.stringify(Vr(e)));return this._instance.loadFiles(kr.transfer(n,[n.buffer]),{mountPoints:null===t||void 0===t?void 0:t.mountPoint})}setPreviewScript(e,t){return this._instance.setPreviewScript(e,t)}get path(){return this._runtimeInfo.path}get workdir(){return this._runtimeInfo.cwd}teardown(){if(this._tornDown)throw new Error("WebContainer already torn down");this._tornDown=!0,this._unsubscribeFromTokenChangedListener();Zr._teardownPromise=(async()=>{try{await this.fs._teardown(),await this._instance.teardown()}finally{this._instance[kr.releaseProxy](),Zr._instance===this&&(Zr._instance=null)}})()}static async boot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await this._teardownPromise,Zr._teardownPromise=null;const{workdirName:t}=e;if(window.crossOriginIsolated&&"none"===e.coep&&console.warn("A Cross-Origin-Embedder-Policy header is required in cross origin isolated environments.\nSet the 'coep' option to 'require-corp'."),null!==t&&void 0!==t&&t.includes("/")||".."===t||"."===t)throw new Error("workdirName should be a valid folder name");for(vr.bootCalled=!0;Gr;)await Gr;if(Zr._instance)throw new Error("Only a single WebContainer instance can be booted");const n=async function(e){const{serverPromise:t}=function(e){if(null!=Jr)return e.coep!==Yr.coep&&(console.warn("Attempting to boot WebContainer with 'coep: ".concat(e.coep,"'")),console.warn("First boot had 'coep: ".concat(Yr.coep,"', new settings will not take effect!"))),{serverPromise:Jr};e.coep&&yr.setQueryParam("coep",e.coep);e.experimentalNode&&yr.setQueryParam("experimental_node","1");const t=document.createElement("iframe");t.style.display="none",t.setAttribute("allow","cross-origin-isolated");const n=yr.url;t.src=n.toString();const{origin:r}=n;return Yr=c({},e),Jr=new Promise(e=>{const t=t=>{if(t.origin!==r)return;const{data:n}=t;"init"!==n.type?"warning"!==n.type||console[n.level].call(console,n.message):e(kr.wrap(t.ports[0]))};window.addEventListener("message",t)}),document.body.insertBefore(t,null),{serverPromise:Jr}}(e),n=await t,r=await n.build({host:window.location.host,version:"1.6.1",workdirName:e.workdirName,forwardPreviewErrors:e.forwardPreviewErrors}),[a,i,o]=await Promise.all([r.fs(),r.previewScript(),r.runtimeInfo()]);return new Zr(r,a,i,o)}(e);Gr=n.catch(()=>{});try{const e=await n;return Zr._instance=e,e}finally{Gr=null}}}s(Zr,"_instance",null),s(Zr,"_teardownPromise",null);class ea{constructor(e,t){s(this,"name",void 0),s(this,"_type",void 0),this.name=e,this._type=t}isFile(){return 1===this._type}isDirectory(){return 2===this._type}}class ta{constructor(e,t,n,r){s(this,"_apiClient",void 0),s(this,"_path",void 0),s(this,"_options",void 0),s(this,"_listener",void 0),s(this,"_wrappedListener",void 0),s(this,"_watcher",void 0),s(this,"_closed",!1),this._apiClient=e,this._path=t,this._options=n,this._listener=r,this._apiClient._watchers.add(this),this._wrappedListener=(e,t)=>{this._listener&&!this._closed&&this._listener(e,t)},this._apiClient._fs.watch(this._path,this._options,ia(this._wrappedListener)).then(e=>{if(this._watcher=e,this._closed)return this._teardown()}).catch(console.error)}async close(){this._closed||(this._closed=!0,this._apiClient._watchers.delete(this),await this._teardown())}async _teardown(){var e;await(null===(e=this._watcher)||void 0===e?void 0:e.close().finally(()=>{var e;null===(e=this._watcher)||void 0===e||e[kr.releaseProxy]()}))}}class na{constructor(e,t,n,r){s(this,"output",void 0),s(this,"input",void 0),s(this,"exit",void 0),s(this,"_process",void 0),s(this,"stdout",void 0),s(this,"stderr",void 0),this.output=t,this._process=e,this.input=new WritableStream({write:e=>{var t;null===(t=this._getProcess())||void 0===t||t.write(e).catch(()=>{})}}),this.exit=this._onExit(),this.stdout=n,this.stderr=r}kill(){var e;null===(e=this._process)||void 0===e||e.kill()}resize(e){var t;null===(t=this._getProcess())||void 0===t||t.resize(e)}async _onExit(){try{return await this._process.onExit}finally{var e;null===(e=this._process)||void 0===e||e[kr.releaseProxy](),this._process=null}}_getProcess(){return null==this._process&&console.warn("This process already exited"),this._process}}class ra{constructor(e){s(this,"_fs",void 0),s(this,"_watchers",new Set([])),this._fs=e}rm(){return this._fs.rm(...arguments)}async readFile(e,t){return await this._fs.readFile(e,t)}async rename(e,t){return await this._fs.rename(e,t)}async writeFile(e,t,n){if(t instanceof Uint8Array){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);t=kr.transfer(new Uint8Array(e),[e])}await this._fs.writeFile(e,t,n)}async readdir(e,t){const n=await this._fs.readdir(e,t);if("string"===typeof n[0])return n;if(function(e){return e[0]instanceof Uint8Array}(n))return n;return n.map(e=>new ea(e.name,e["Symbol(type)"]))}async mkdir(e,t){return await this._fs.mkdir(e,t)}watch(e,t,n){return"function"===typeof t&&(n=t,t=null),new ta(this,e,t,n)}async _teardown(){this._fs[kr.releaseProxy](),await Promise.all([...this._watchers].map(e=>e.close()))}}function aa(e){if(null!=e)return t=>{t instanceof Uint8Array?e(Qr.decode(t)):null==t&&e(null)}}function ia(e){if(null!=e)return kr.proxy(e)}let oa=null;const sa=["/Projects","/Dev","/App"],la=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=()=>{const e=window.innerWidth<=768,n="ontouchstart"in window||navigator.maxTouchPoints>0;t(e||n)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e},ca={default:{name:"Skyline",gradient:"linear-gradient(135deg, #3340f3 0%, #0f5576 50%, #2aa473 100%)",primary:"#3b82f6",secondary:"#8b5cf6",accent:"#ec4899"},sunset:{name:"Sunset Orange",gradient:"linear-gradient(135deg, #f97316 0%, #1f1a13 50%, #dc2626 100%)",primary:"#f97316",secondary:"#ef4444",accent:"#dc2626"},midnight:{name:"Scorpio",gradient:"linear-gradient(to bottom left, #53360e 0%, #1e2025 50%, #482956 100%)",primary:"#6366f1",secondary:"#7c3aed",accent:"#5b21b6"},cherry:{name:"Orion",gradient:"linear-gradient(135deg, #2c100c 0%, #150b2b 50%, #f5c115 100%)",primary:"#f472b6",secondary:"#ec4899",accent:"#db2777"},ocean:{name:"Bomb Pop",gradient:"linear-gradient(135deg, #690909 0%, #0284c7 50%, #ffffff 100%)",primary:"#0ea5e9",secondary:"#0284c7",accent:"#ffffff"},volcano:{name:"Volcanic",gradient:"linear-gradient(135deg, #3f0b04 0%, #925d14 50%, #ea580c 100%)",primary:"#fb923c",secondary:"#f97316",accent:"#ea580c"},lavender:{name:"Royal",gradient:"linear-gradient(135deg, #160329 0%, #a855f7 50%, #9333ea 100%)",primary:"#c084fc",secondary:"#a855f7",accent:"#9333ea"}};var ua=n(579);const da=e=>{let{onSkip:t}=e;return(0,ua.jsxs)("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #667eea 50%, #fafafaff 100%)",gap:"20px"},children:[(0,ua.jsx)("div",{style:{color:"white",fontSize:"24px"},children:"Loading AirOS..."}),(0,ua.jsx)("div",{style:{color:"white",fontSize:"14px"},children:"Check browser console (F12) for connection details"}),t&&(0,ua.jsx)("button",{onClick:t,style:{padding:"12px 24px",background:"white",color:"#667eea",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"500"},children:"Skip to Login (Debug)"})]})},ha=y("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),fa=y("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),pa=e=>{let{onLogin:t,onRegister:n,loginMode:a,setLoginMode:i}=e;const[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)("");return(0,ua.jsx)("div",{style:{width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(#0b5394 100%)"},children:(0,ua.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.95)",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",padding:"32px",width:"384px"},children:[(0,ua.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,ua.jsx)("div",{style:{width:"80px",height:"80px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"50%",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ua.jsx)(ha,{size:40,color:"white"})}),(0,ua.jsx)("h1",{style:{fontSize:"30px",fontWeight:"bold",color:"#1f2937",marginBottom:"8px"},children:"AirOS"}),(0,ua.jsx)("p",{style:{color:"#6b7280"},children:"login"===a?"Sign in to continue":"Create your account"})]}),(0,ua.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(""),f("");const r="login"===a?await t(o,l):await n(o,l);r.success?r.message&&f(r.message):d(r.error)},style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,ua.jsxs)("div",{children:[(0,ua.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Email"}),(0,ua.jsxs)("div",{style:{position:"relative"},children:[(0,ua.jsx)(ha,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},size:20}),(0,ua.jsx)("input",{type:"email",value:o,onChange:e=>s(e.target.value),style:{width:"100%",paddingLeft:"40px",paddingRight:"16px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"},placeholder:"Enter your email",required:!0})]})]}),(0,ua.jsxs)("div",{children:[(0,ua.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Password"}),(0,ua.jsxs)("div",{style:{position:"relative"},children:[(0,ua.jsx)(fa,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"},size:20}),(0,ua.jsx)("input",{type:"password",value:l,onChange:e=>c(e.target.value),style:{width:"100%",paddingLeft:"40px",paddingRight:"16px",paddingTop:"8px",paddingBottom:"8px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",boxSizing:"border-box"},placeholder:"Enter password",required:!0})]})]}),u&&(0,ua.jsx)("div",{style:{background:"#fef2f2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px 16px",borderRadius:"8px",fontSize:"14px"},children:u}),h&&(0,ua.jsx)("div",{style:{background:"#f0fdf4",border:"1px solid #86efac",color:"#16a34a",padding:"12px 16px",borderRadius:"8px",fontSize:"14px"},children:h}),(0,ua.jsx)("button",{type:"submit",style:{width:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"12px",borderRadius:"8px",fontWeight:"500",border:"none",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:"login"===a?"Sign In":"Create Account"})]}),(0,ua.jsx)("div",{style:{marginTop:"24px",textAlign:"center"},children:(0,ua.jsx)("button",{onClick:()=>{i("login"===a?"register":"login"),d(""),f("")},style:{color:"#667eea",fontSize:"14px",fontWeight:"500",background:"none",border:"none",cursor:"pointer"},children:"login"===a?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},ga=y("code-xml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),ma=y("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),ya=y("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),va=y("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),ba=y("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),wa=y("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),xa=y("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),ka=y("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Sa=y("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),_a=y("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]),Ea=y("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),ja=y("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),Ca=y("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),Ta=y("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),Oa=y("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),Ra=y("text-align-center",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]]),Pa=y("text-align-end",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]]),Aa=y("text-align-justify",[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]]),Ia=y("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]),za=y("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Na=y("clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]),La=e=>{let{icon:t,onClick:n,title:r,disabled:a=!1}=e;return(0,ua.jsx)("button",{onClick:n,disabled:a,title:r,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",background:"transparent",border:"none",borderRadius:"4px",cursor:a?"not-allowed":"pointer",opacity:a?.4:1,transition:"background 0.2s"},onMouseEnter:e=>{a||(e.currentTarget.style.background="#f3f4f6")},onMouseLeave:e=>{e.currentTarget.style.background="transparent"},children:t})},Da=e=>{let{saveFile:t,currentPath:n,filePath:a,fileSystem:i}=e;const[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)("untitled.txt"),[u,d]=(0,r.useState)(!0),[h,f]=(0,r.useState)(""),p=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(a&&i[a]){const e=i[a];s(e.content||""),c(a.split("/").pop())}},[a,i]);const g=async()=>{const e=a||("/"===n?"/".concat(l):"".concat(n,"/").concat(l));t&&await t(e,o),d(!0)},m=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;document.execCommand(e,!1,n),null===(t=p.current)||void 0===t||t.focus()};return(0,r.useEffect)(()=>{const e=e=>{e.ctrlKey&&"s"===e.key?(e.preventDefault(),g()):e.ctrlKey&&"b"===e.key?(e.preventDefault(),m("bold")):e.ctrlKey&&"i"===e.key?(e.preventDefault(),m("italic")):e.ctrlKey&&"u"===e.key&&(e.preventDefault(),m("underline"))},t=p.current;return t&&t.addEventListener("keydown",e),()=>{t&&t.removeEventListener("keydown",e)}},[]),(0,r.useEffect)(()=>{const e=()=>{const e=window.getSelection();f((null===e||void 0===e?void 0:e.toString())||"")};return document.addEventListener("selectionchange",e),()=>{document.removeEventListener("selectionchange",e)}},[]),(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"white"},children:[(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",borderBottom:"2px solid #e5e7eb",background:"#f9fafb"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,ua.jsx)("input",{type:"text",value:l,onChange:e=>{c(e.target.value),d(!1)},style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",fontWeight:"500"}}),(0,ua.jsxs)("button",{onClick:g,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",background:u?"#10b981":"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:[(0,ua.jsx)(Ea,{size:16}),u?"Saved":"Save"]})]}),(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",flexWrap:"wrap"},children:[(0,ua.jsxs)("div",{style:{display:"flex",gap:"2px",padding:"2px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ua.jsx)(La,{icon:(0,ua.jsx)(ja,{size:16}),onClick:()=>m("bold"),title:"Bold (Ctrl+B)"}),(0,ua.jsx)(La,{icon:(0,ua.jsx)(Ca,{size:16}),onClick:()=>m("italic"),title:"Italic (Ctrl+I)"}),(0,ua.jsx)(La,{icon:(0,ua.jsx)(Ta,{size:16}),onClick:()=>m("underline"),title:"Underline (Ctrl+U)"})]}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"2px",padding:"2px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ua.jsx)(La,{icon:(0,ua.jsx)(Oa,{size:16}),onClick:()=>m("justifyLeft"),title:"Align Left"}),(0,ua.jsx)(La,{icon:(0,ua.jsx)(Ra,{size:16}),onClick:()=>m("justifyCenter"),title:"Align Center"}),(0,ua.jsx)(La,{icon:(0,ua.jsx)(Pa,{size:16}),onClick:()=>m("justifyRight"),title:"Align Right"}),(0,ua.jsx)(La,{icon:(0,ua.jsx)(Aa,{size:16}),onClick:()=>m("justifyFull"),title:"Justify"})]}),(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ua.jsx)(Ia,{size:14,color:"#6b7280"}),(0,ua.jsxs)("select",{onChange:e=>{return t=e.target.value,void m("fontSize",t);var t},style:{padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"13px",background:"white",cursor:"pointer"},defaultValue:"3",children:[(0,ua.jsx)("option",{value:"1",children:"8pt"}),(0,ua.jsx)("option",{value:"2",children:"10pt"}),(0,ua.jsx)("option",{value:"3",children:"12pt"}),(0,ua.jsx)("option",{value:"4",children:"14pt"}),(0,ua.jsx)("option",{value:"5",children:"18pt"}),(0,ua.jsx)("option",{value:"6",children:"24pt"}),(0,ua.jsx)("option",{value:"7",children:"36pt"})]})]}),(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ua.jsx)("span",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"500"},children:"Color"}),(0,ua.jsx)("input",{type:"color",onChange:e=>m("foreColor",e.target.value),style:{width:"32px",height:"24px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"},defaultValue:"#000000"})]}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"2px",padding:"2px",background:"white",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[(0,ua.jsx)(La,{icon:(0,ua.jsx)(za,{size:16}),onClick:()=>{document.execCommand("copy")},title:"Copy (Ctrl+C)",disabled:!h}),(0,ua.jsx)(La,{icon:(0,ua.jsx)(Na,{size:16}),onClick:async()=>{try{const e=await navigator.clipboard.readText();document.execCommand("insertText",!1,e)}catch(e){console.error("Failed to paste:",e)}},title:"Paste (Ctrl+V)"})]})]})]}),(0,ua.jsx)("div",{ref:p,contentEditable:!0,onInput:()=>{var e;const t=(null===(e=p.current)||void 0===e?void 0:e.innerHTML)||"";s(t),d(!1)},dangerouslySetInnerHTML:{__html:o},style:{flex:1,padding:"24px",fontSize:"14px",lineHeight:"1.6",outline:"none",overflow:"auto",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'}}),(0,ua.jsxs)("div",{style:{padding:"8px 16px",background:"#f9fafb",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px",color:"#6b7280"},children:[(0,ua.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,ua.jsxs)("span",{children:["Characters: ",o.replace(/<[^>]*>/g,"").length]}),(0,ua.jsxs)("span",{children:["Words: ",o.replace(/<[^>]*>/g,"").split(/\s+/).filter(Boolean).length]})]}),(0,ua.jsx)("div",{children:h&&(0,ua.jsxs)("span",{children:["Selected: ",h.length," characters"]})})]})]})},Ma=y("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ua=y("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),Fa=y("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Wa=y("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Ba=y("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),qa=(0,r.createContext)(),Ha=e=>{let{children:t}=e;const[n,a]=(0,r.useState)({visible:!1,x:0,y:0,actions:[],payload:null});return(0,ua.jsx)(qa.Provider,{value:{menu:n,openContextMenu:(e,t)=>{e.preventDefault(),a({visible:!0,x:e.clientX,y:e.clientY,actions:t.actions,payload:t.payload||null})},closeContextMenu:()=>{a(e=>c(c({},e),{},{visible:!1}))}},children:t})},Va=()=>(0,r.useContext)(qa),Ka=e=>{let{fileSystem:t,saveFile:n,createDirectory:a,deleteFile:i,reloadFileSystem:o,onOpenFile:s}=e;const[l,c]=(0,r.useState)("/"),[u,d]=(0,r.useState)([]),[h,f]=(0,r.useState)(null),[p,g]=(0,r.useState)(""),[m,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)(0),[w,x]=(0,r.useState)(null),{openContextMenu:k}=Va();(0,r.useEffect)(()=>{(()=>{const e=t[l];if(!e||"directory"!==e.type)return d([]),void x(null);const n=(e.children||[]).map(e=>{const n="/"===l?"/".concat(e):"".concat(l,"/").concat(e),r=t[n];return{name:e,path:n,type:(null===r||void 0===r?void 0:r.type)||"file"}});d(n),x(null)})()},[t,l]);const S=l.split("/").filter(Boolean),_=async()=>{if(!p.trim())return;const e="/"===l?"/".concat(p.trim()):"".concat(l,"/").concat(p.trim());"folder"===h?await a(l,p.trim()):await n(e,"","file"),f(null),g(""),await o()};return(0,ua.jsxs)("div",{style:{display:"flex",height:"100%",background:"#f3f4f6"},children:[(0,ua.jsxs)("div",{style:{width:"220px",background:"#e5e7eb",borderRight:"1px solid #d1d5db",padding:"12px",display:"flex",flexDirection:"column",gap:"12px"},children:[(0,ua.jsx)("h3",{style:{fontSize:"14px",fontWeight:"700",color:"#374151"},children:"Locations"}),["/","/Documents","/Pictures","/Videos","/Desktop","/Projects","/Dev","/App"].map(e=>(0,ua.jsx)("div",{onClick:()=>c(e),style:{padding:"8px",borderRadius:"6px",cursor:"pointer",background:l===e?"#d1d5db":"transparent",fontSize:"14px",color:"#374151"},children:"/"===e?"Root":e.replace("/","")},e))]}),(0,ua.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"row"},children:[(0,ua.jsxs)("div",{style:{flex:3,display:"flex",flexDirection:"column"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",borderBottom:"1px solid #d1d5db",background:"#f9fafb"},children:[(0,ua.jsx)("button",{onClick:()=>{if("/"===l)return;const e=l.split("/").filter(Boolean);e.pop();const t=e.length?"/".concat(e.join("/")):"/";c(t)},style:{padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db",background:"white",cursor:"pointer"},children:(0,ua.jsx)(Ma,{size:16})}),(0,ua.jsx)("button",{onClick:()=>c("/"),style:{padding:"4px",borderRadius:"4px",border:"1px solid #d1d5db",background:"white",cursor:"pointer"},children:(0,ua.jsx)(Ua,{size:16})}),(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,ua.jsx)("span",{onClick:()=>c("/"),style:{cursor:"pointer",color:"#2563eb",fontWeight:"600"},children:"/"}),S.map((e,t)=>{const n="/"+S.slice(0,t+1).join("/");return(0,ua.jsxs)(r.Fragment,{children:[(0,ua.jsx)(Fa,{size:14,color:"#6b7280"}),(0,ua.jsx)("span",{onClick:()=>c(n),style:{cursor:"pointer",color:"#2563eb"},children:e})]},n)})]}),(0,ua.jsx)("div",{style:{flex:1}}),(0,ua.jsx)("button",{onClick:()=>f("folder"),style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #d1d5db",background:"#eef2ff",cursor:"pointer",fontSize:"12px"},children:"New Folder"}),(0,ua.jsx)("button",{onClick:()=>f("file"),style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #d1d5db",background:"#e0f2fe",cursor:"pointer",fontSize:"12px"},children:"New File"}),(0,ua.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #3b82f6",background:"#eff6ff",color:"#1d4ed8",cursor:"pointer",fontSize:"12px"},children:[(0,ua.jsx)(Wa,{size:14}),"Upload",(0,ua.jsx)("input",{type:"file",multiple:!0,style:{display:"none"},onChange:e=>(async e=>{if(!e.length)return;y(!0),b(0);let t=0;for(const r of e){const a=await r.arrayBuffer(),i=btoa(new Uint8Array(a).reduce((e,t)=>e+String.fromCharCode(t),"")),o=r.type||"application/octet-stream",s="data:".concat(o,";base64,").concat(i),c="/"===l?"/".concat(r.name):"".concat(l,"/").concat(r.name);await n(c,s,"file"),t++,b(Math.round(t/e.length*100))}y(!1),b(0),await o()})(Array.from(e.target.files))})]})]}),h&&(0,ua.jsxs)("div",{style:{padding:"8px",background:"#fef3c7",borderBottom:"1px solid #fcd34d",display:"flex",gap:"8px"},children:[(0,ua.jsx)("input",{value:p,onChange:e=>g(e.target.value),placeholder:"New ".concat(h," name..."),style:{flex:1,padding:"6px",border:"1px solid #d1d5db",borderRadius:"4px"},onKeyDown:e=>{"Enter"===e.key&&_()}}),(0,ua.jsx)("button",{onClick:_,style:{padding:"6px 12px",background:"#3b82f6",color:"white",borderRadius:"4px",border:"none"},children:"Create"}),(0,ua.jsx)("button",{onClick:()=>{f(null),g("")},style:{padding:"6px 12px",background:"#d1d5db",borderRadius:"4px",border:"none"},children:"Cancel"})]}),m&&(0,ua.jsxs)("div",{style:{padding:"12px",background:"#dbeafe"},children:[(0,ua.jsxs)("div",{style:{marginBottom:"8px",color:"#1e40af"},children:["Uploading... ",v,"%"]}),(0,ua.jsx)("div",{style:{width:"100%",height:"4px",background:"#bfdbfe",borderRadius:"2px"},children:(0,ua.jsx)("div",{style:{width:"".concat(v,"%"),height:"100%",background:"#3b82f6"}})})]}),(0,ua.jsxs)("div",{style:{flex:1,overflow:"auto",padding:"16px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[u.map(e=>{const r=w&&w.path===e.path;return(0,ua.jsxs)("div",{onClick:t=>{"directory"===e.type?(c(e.path),x(null)):(s(e.name,e.path),x(e))},onContextMenu:r=>{((e,r)=>{e.preventDefault();const a=t[r.path];k(e,{payload:r,actions:[{label:"Open",onClick:()=>{"directory"===r.type?c(r.path):s(r.name,r.path)}},{label:"Open in New Window",onClick:()=>s(r.name,r.path)},{label:"Rename",onClick:async()=>{const e=prompt("Enter new name:",r.name);if(!e||!a)return;const t="/"===l?"/".concat(e):"".concat(l,"/").concat(e);await n(t,a.content||"",r.type),await i(r.path),await o()}},{label:"Delete",onClick:async()=>{await i(r.path),await o()}},{label:"Properties",onClick:()=>{const e=null!==a&&void 0!==a&&a.content&&"string"===typeof a.content?"".concat(a.content.length," chars"):"Unknown";alert("Name: ".concat(r.name,"\nPath: ").concat(r.path,"\nType: ").concat(r.type,"\nSize: ").concat(e))}}]})})(r,e),x(e)},style:{padding:"12px",borderRadius:"6px",cursor:"pointer",background:r?"#e0f2fe":"white",border:r?"1px solid #3b82f6":"1px solid #e5e7eb",textAlign:"center",transition:"0.2s"},onMouseEnter:e=>{r||(e.currentTarget.style.background="#f3f4f6")},onMouseLeave:e=>{r||(e.currentTarget.style.background="white")},children:["directory"===e.type?(0,ua.jsx)(va,{size:48,color:"#eab308"}):(0,ua.jsx)(Ba,{size:48,color:"#3b82f6"}),(0,ua.jsx)("div",{style:{marginTop:"8px",fontSize:"14px",wordBreak:"break-word"},children:e.name})]},e.path)}),0===u.length&&(0,ua.jsxs)("div",{style:{gridColumn:"1 / -1",textAlign:"center",color:"#9ca3af",paddingTop:"40px"},children:[(0,ua.jsx)(va,{size:64,color:"#d1d5db"}),(0,ua.jsx)("p",{style:{marginTop:"12px",fontSize:"16px"},children:"This folder is empty"})]})]})]}),(0,ua.jsxs)("div",{style:{width:"320px",borderLeft:"1px solid #d1d5db",background:"#f9fafb",padding:"12px",display:"flex",flexDirection:"column",gap:"12px"},children:[(0,ua.jsx)("h3",{style:{fontSize:"14px",fontWeight:"700",color:"#374151",marginBottom:"4px"},children:"Preview"}),!w&&(0,ua.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",textAlign:"center",padding:"12px"},children:"Select a file to see its preview"}),w&&(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:["directory"===w.type?(0,ua.jsx)(va,{size:32,color:"#eab308"}):(0,ua.jsx)(Ba,{size:32,color:"#3b82f6"}),(0,ua.jsxs)("div",{children:[(0,ua.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#111827"},children:w.name}),(0,ua.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",wordBreak:"break-all"},children:w.path})]})]}),(0,ua.jsx)("hr",{style:{border:"none",borderTop:"1px solid #e5e7eb"}}),"directory"===w.type?(0,ua.jsx)("div",{style:{fontSize:"13px",color:"#6b7280"},children:"This is a folder."}):(()=>{const e=w?t[w.path]:null;if(!e)return(0,ua.jsx)("div",{style:{fontSize:"13px",color:"#6b7280"},children:"No content available."});if((e=>(null===e||void 0===e?void 0:e.content)&&"string"===typeof e.content&&e.content.startsWith("data:image"))(e))return(0,ua.jsxs)("div",{children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",color:"#374151",fontSize:"13px"},children:[(0,ua.jsx)(wa,{size:16}),(0,ua.jsx)("span",{children:"Image preview"})]}),(0,ua.jsx)("div",{style:{borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb",background:"white"},children:(0,ua.jsx)("img",{src:e.content,alt:w.name,style:{width:"100%",maxHeight:"200px",objectFit:"contain",display:"block"}})})]});const n=(e=>{if(null===e||void 0===e||!e.content||"string"!==typeof e.content)return null;if(e.content.startsWith("data:"))return null;const t=e.content;return t.length<=800?t:t.slice(0,800)+"\n\u2026"})(e);return n?(0,ua.jsxs)("div",{children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px",color:"#374151",fontSize:"13px"},children:[(0,ua.jsx)(ya,{size:16}),(0,ua.jsx)("span",{children:"Text preview"})]}),(0,ua.jsx)("pre",{style:{fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas",fontSize:"12px",background:"#111827",color:"#e5e7eb",padding:"8px",borderRadius:"6px",maxHeight:"260px",overflow:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:n})]}):(e=>(null===e||void 0===e?void 0:e.content)&&"string"===typeof e.content&&e.content.startsWith("data:")&&!e.content.startsWith("data:text")&&!e.content.startsWith("data:image"))(e)?(0,ua.jsx)("div",{style:{fontSize:"13px",color:"#6b7280"},children:"Binary or unsupported file type. No inline preview available."}):(0,ua.jsx)("div",{style:{fontSize:"13px",color:"#6b7280"},children:"No preview available."})})()]})]})]})]})},$a=y("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),Ga=y("flip-horizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]),Ja=y("flip-vertical",[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]]),Ya=y("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Qa=y("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Xa=y("sliders-vertical",[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]]),Za=y("undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),ei=y("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),ti=e=>{let{label:t,value:n,onChange:r,min:a,max:i,default:o,step:s=1}=e;return(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,ua.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ua.jsx)("label",{style:{color:"white",fontSize:"13px",fontWeight:"500"},children:t}),(0,ua.jsx)("span",{style:{color:"#9ca3af",fontSize:"12px"},children:Math.round(n)})]}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,ua.jsx)("input",{type:"range",min:a,max:i,step:s,value:n,onChange:e=>r(Number(e.target.value)),style:{flex:1,height:"4px",background:"#374151",borderRadius:"2px",outline:"none",cursor:"pointer"}}),(0,ua.jsx)("button",{onClick:()=>r(o),style:{padding:"2px 8px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"4px",color:"white",fontSize:"11px",cursor:"pointer"},children:"Reset"})]})]})},ni={display:"flex",alignItems:"center",gap:"4px",padding:"8px 12px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",color:"white",cursor:"pointer",fontSize:"14px",transition:"all 0.2s"},ri=e=>{let{src:t,saveFile:n,filePath:a}=e;const i=(0,r.useRef)(null),[o,s]=(0,r.useState)(null),[l,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(0),[f,p]=(0,r.useState)(!1),[g,m]=(0,r.useState)(!1),[y,v]=(0,r.useState)(1),[b,w]=(0,r.useState)(100),[x,k]=(0,r.useState)(100),[S,_]=(0,r.useState)(100),[E,j]=(0,r.useState)(0),[C,T]=(0,r.useState)(0),[O,R]=(0,r.useState)(!1),[P,A]=(0,r.useState)([]),[I,z]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(t){const e=new Image;e.onload=()=>{s(e),u(!0),N(e)},e.src=t}},[t]),(0,r.useEffect)(()=>{o&&l&&(N(o),z(!1))},[d,f,g,y,b,x,S,E,C]);const N=e=>{const t=i.current;if(!t)return;const n=t.getContext("2d");t.width=e.width,t.height=e.height,n.clearRect(0,0,t.width,t.height),n.save(),n.translate(t.width/2,t.height/2),n.rotate(d*Math.PI/180),n.scale(f?-1:1,g?-1:1),n.scale(y,y),n.filter="\n      brightness(".concat(b,"%) \n      contrast(").concat(x,"%) \n      saturate(").concat(S,"%)\n      blur(").concat(E,"px)\n      grayscale(").concat(C,"%)\n    "),n.drawImage(e,-e.width/2,-e.height/2),n.restore()},L=()=>{A([...P,{rotation:d,flipH:f,flipV:g,zoom:y,brightness:b,contrast:x,saturation:S,blur:E,grayscale:C}])};return t?(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"#1f2937",position:"relative"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",background:"rgba(17, 24, 39, 0.95)",borderBottom:"1px solid #374151",gap:"8px",flexWrap:"wrap"},children:[(0,ua.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,ua.jsx)("button",{onClick:()=>{L(),h((d+90)%360)},title:"Rotate 90\xb0",style:ni,children:(0,ua.jsx)($a,{size:18})}),(0,ua.jsx)("button",{onClick:()=>{L(),p(!f)},title:"Flip Horizontal",style:c(c({},ni),{},{background:f?"#3b82f6":"rgba(255,255,255,0.1)"}),children:(0,ua.jsx)(Ga,{size:18})}),(0,ua.jsx)("button",{onClick:()=>{L(),m(!g)},title:"Flip Vertical",style:c(c({},ni),{},{background:g?"#3b82f6":"rgba(255,255,255,0.1)"}),children:(0,ua.jsx)(Ja,{size:18})})]}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[(0,ua.jsx)("button",{onClick:()=>{v(Math.max(y-.1,.5))},title:"Zoom Out",style:ni,children:(0,ua.jsx)(Ya,{size:18})}),(0,ua.jsxs)("span",{style:{color:"white",fontSize:"14px",minWidth:"50px",textAlign:"center"},children:[Math.round(100*y),"%"]}),(0,ua.jsx)("button",{onClick:()=>{v(Math.min(y+.1,3))},title:"Zoom In",style:ni,children:(0,ua.jsx)(Qa,{size:18})})]}),(0,ua.jsx)("button",{onClick:()=>R(!O),title:"Adjustments",style:c(c({},ni),{},{background:O?"#8b5cf6":"rgba(255,255,255,0.1)"}),children:(0,ua.jsx)(Xa,{size:18})}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"4px",marginLeft:"auto"},children:[(0,ua.jsx)("button",{onClick:()=>{if(P.length>0){const e=P[P.length-1];h(e.rotation),p(e.flipH),m(e.flipV),v(e.zoom),w(e.brightness),k(e.contrast),_(e.saturation),j(e.blur),T(e.grayscale),A(P.slice(0,-1))}},disabled:0===P.length,title:"Undo",style:c(c({},ni),{},{opacity:0===P.length?.5:1}),children:(0,ua.jsx)(Za,{size:18})}),(0,ua.jsx)("button",{onClick:()=>{L(),h(0),p(!1),m(!1),v(1),w(100),k(100),_(100),j(0),T(0)},title:"Reset All",style:c(c({},ni),{},{background:"rgba(239, 68, 68, 0.2)",color:"#ef4444"}),children:"Reset"}),(0,ua.jsxs)("button",{onClick:async()=>{if(!n||!a)return void alert("Save function not available");const e=i.current.toDataURL("image/png");await n(a,e,"file"),z(!0),alert("Image saved successfully!")},title:"Save to Cloud",style:c(c({},ni),{},{background:I?"#10b981":"#3b82f6"}),children:[(0,ua.jsx)(Ea,{size:18}),!I&&(0,ua.jsx)("span",{style:{fontSize:"12px",marginLeft:"4px"},children:"*"})]}),(0,ua.jsx)("button",{onClick:()=>{const e=i.current.toDataURL("image/png"),t=document.createElement("a");t.download="edited-image.png",t.href=e,t.click()},title:"Download",style:c(c({},ni),{},{background:"#8b5cf6"}),children:(0,ua.jsx)(ei,{size:18})})]})]}),O&&(0,ua.jsxs)("div",{style:{padding:"16px",background:"rgba(17, 24, 39, 0.98)",borderBottom:"1px solid #374151",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,ua.jsx)(ti,{label:"Brightness",value:b,onChange:w,min:0,max:200,default:100}),(0,ua.jsx)(ti,{label:"Contrast",value:x,onChange:k,min:0,max:200,default:100}),(0,ua.jsx)(ti,{label:"Saturation",value:S,onChange:_,min:0,max:200,default:100}),(0,ua.jsx)(ti,{label:"Blur",value:E,onChange:j,min:0,max:10,default:0,step:.5}),(0,ua.jsx)(ti,{label:"Grayscale",value:C,onChange:T,min:0,max:100,default:0})]}),(0,ua.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto",padding:"20px"},children:(0,ua.jsx)("canvas",{ref:i,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",boxShadow:"0 20px 60px rgba(0,0,0,0.5)"}})}),(0,ua.jsxs)("div",{style:{padding:"8px 16px",background:"rgba(17, 24, 39, 0.95)",borderTop:"1px solid #374151",color:"#9ca3af",fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[(0,ua.jsx)("span",{children:o&&"".concat(o.width," \xd7 ").concat(o.height,"px")}),(0,ua.jsx)("span",{children:I?"All changes saved":"Unsaved changes"})]})]}):(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",background:"#1f2937",color:"#9ca3af"},children:[(0,ua.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\uddbc\ufe0f"}),(0,ua.jsx)("div",{children:"No image loaded"})]})},ai=y("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),ii=y("skip-back",[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]]),oi=y("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]),si=y("skip-forward",[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]]),li=y("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),ci=y("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),ui=y("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),di=y("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),hi=e=>{let{icon:t,onClick:n,title:r,primary:a,active:i}=e;return(0,ua.jsx)("button",{onClick:n,title:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:a?"48px":"40px",height:a?"48px":"40px",background:i?"#3b82f6":a?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.1)",border:a?"2px solid #3b82f6":"none",borderRadius:"50%",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background=i||a?"#3b82f6":"rgba(255, 255, 255, 0.2)",e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:e=>{e.currentTarget.style.background=i?"#3b82f6":a?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.1)",e.currentTarget.style.transform="scale(1)"},children:t})},fi=e=>{let{src:t,title:n}=e;const[a,i]=(0,r.useState)(!1),[o,s]=(0,r.useState)(0),[l,c]=(0,r.useState)(0),[u,d]=(0,r.useState)(1),[h,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[m,y]=(0,r.useState)("video"),v=(0,r.useRef)(null),b=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(t){const e=t.match(/\.(mp3|wav|ogg|m4a|flac|aac)$/i)||t.startsWith("data:audio/");y(e?"audio":"video")}},[t]);const w=()=>{v.current&&s(v.current.currentTime)},x=()=>{v.current&&c(v.current.duration)},k=e=>{v.current&&(v.current.currentTime+=e)},S=e=>{if(isNaN(e))return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))};return t?(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"#000",position:"relative"},children:[(0,ua.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",background:"audio"===m?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#000",position:"relative",overflow:"hidden"},children:"video"===m?(0,ua.jsx)("video",{ref:v,src:t,onTimeUpdate:w,onLoadedMetadata:x,onEnded:()=>i(!1),style:{maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",objectFit:"contain"}}):(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsx)("audio",{ref:v,src:t,onTimeUpdate:w,onLoadedMetadata:x,onEnded:()=>i(!1),style:{display:"none"}}),(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",textAlign:"center",padding:"40px"},children:[(0,ua.jsx)("div",{style:{width:"200px",height:"200px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"32px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",animation:a?"pulse 2s ease-in-out infinite":"none"},children:(0,ua.jsx)(ai,{size:80,color:"white"})}),(0,ua.jsx)("h2",{style:{fontSize:"28px",fontWeight:"700",marginBottom:"8px",textShadow:"0 2px 10px rgba(0, 0, 0, 0.3)"},children:n||"Audio Track"}),(0,ua.jsx)("p",{style:{fontSize:"16px",color:"rgba(255, 255, 255, 0.8)",textShadow:"0 2px 10px rgba(0, 0, 0, 0.3)"},children:a?"Now Playing":"Paused"})]})]})}),(0,ua.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.95)",backdropFilter:"blur(10px)",padding:"16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,ua.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,ua.jsx)("div",{ref:b,onClick:e=>{if(b.current&&v.current){const t=b.current.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;v.current.currentTime=n*l}},style:{width:"100%",height:"6px",background:"rgba(255, 255, 255, 0.2)",borderRadius:"3px",cursor:"pointer",position:"relative",overflow:"hidden"},children:(0,ua.jsx)("div",{style:{width:"".concat(o/l*100,"%"),height:"100%",background:"audio"===m?"linear-gradient(90deg, #667eea 0%, #764ba2 100%)":"#3b82f6",borderRadius:"3px",transition:"width 0.1s linear"}})}),(0,ua.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px",fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:[(0,ua.jsx)("span",{children:S(o)}),(0,ua.jsx)("span",{children:S(l)})]})]}),(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[(0,ua.jsx)(hi,{icon:(0,ua.jsx)(ii,{size:20}),onClick:()=>k(-10),title:"Back 10s"}),(0,ua.jsx)(hi,{icon:a?(0,ua.jsx)(oi,{size:24}):(0,ua.jsx)(xa,{size:24}),onClick:()=>{v.current&&(a?v.current.pause():v.current.play(),i(!a))},title:a?"Pause":"Play",primary:!0}),(0,ua.jsx)(hi,{icon:(0,ua.jsx)(si,{size:20}),onClick:()=>k(10),title:"Forward 10s"}),(0,ua.jsx)(hi,{icon:(0,ua.jsx)(li,{size:18}),onClick:()=>{v.current&&(v.current.loop=!p,g(!p))},title:"Loop",active:p})]}),(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,ua.jsx)(hi,{icon:h?(0,ua.jsx)(ci,{size:20}):(0,ua.jsx)(ui,{size:20}),onClick:()=>{v.current&&(v.current.muted=!h,f(!h))},title:h?"Unmute":"Mute"}),(0,ua.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:h?0:u,onChange:e=>{const t=parseFloat(e.target.value);d(t),v.current&&(v.current.volume=t),0===t?f(!0):h&&f(!1)},style:{width:"100px",cursor:"pointer"}}),"video"===m&&(0,ua.jsx)(hi,{icon:(0,ua.jsx)(di,{size:20}),onClick:()=>{v.current&&"video"===m&&v.current.requestFullscreen&&v.current.requestFullscreen()},title:"Fullscreen"})]})]})]}),(0,ua.jsx)("style",{children:"\n          @keyframes pulse {\n            0%, 100% {\n              transform: scale(1);\n              box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n            }\n            50% {\n              transform: scale(1.05);\n              box-shadow: 0 25px 80px rgba(102, 126, 234, 0.4);\n            }\n          }\n        "})]}):(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",background:"linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%)",color:"#9ca3af"},children:[(0,ua.jsx)("div",{style:{fontSize:"64px",marginBottom:"16px"},children:"audio"===m?"\ud83c\udfb5":"\ud83c\udfac"}),(0,ua.jsx)("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"8px"},children:"No media loaded"}),(0,ua.jsx)("div",{style:{fontSize:"14px"},children:"Launch a video or audio file to play"})]})},pi="os://",gi=e=>{const t=(e=>{const t=e.trim();return t?t.startsWith(pi)?"system":t.startsWith("http://")||t.startsWith("https://")||t.includes(".")?"external":"invalid":"invalid"})(e),n="invalid"===t?e.trim():(e=>{const t=e.trim();return t?t.startsWith(pi)||t.startsWith("http://")||t.startsWith("https://")?t:"https://".concat(t):""})(e);return{raw:e,normalized:n,type:t}},mi="os_browser_history_v1",yi=()=>{var e,t,n;return null!==(e=null===(t=(n=crypto).randomUUID)||void 0===t?void 0:t.call(n))&&void 0!==e?e:"".concat(Date.now(),"-").concat(Math.random())},vi=e=>{try{localStorage.setItem(mi,JSON.stringify(e))}catch(t){}};let bi=null;const wi=()=>(bi||(bi=(()=>{try{const e=localStorage.getItem(mi);return e?JSON.parse(e):[]}catch(e){return[]}})()),bi),xi={add(e,t){const n={id:yi(),url:e,title:t,createdAt:Date.now()},r=wi();return r.unshift(n),vi(r),n},list(e){const t=wi();return"number"===typeof e?t.slice(0,e):t},clear(){bi=[],vi([])}},ki=e=>{let{currentUrl:t,onNavigate:n}=e;const[a,i]=(0,r.useState)(t);(0,r.useEffect)(()=>{i(t)},[t]);const o=()=>{a.trim()&&n(a)};return(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,padding:8,borderBottom:"1px solid #e5e7eb"},children:[(0,ua.jsx)("button",{type:"button",disabled:!0,style:{padding:"4px 8px",opacity:.4},children:"\u2190"}),(0,ua.jsx)("button",{type:"button",disabled:!0,style:{padding:"4px 8px",opacity:.4},children:"\u2192"}),(0,ua.jsx)("button",{type:"button",onClick:()=>n(t),style:{padding:"4px 8px"},children:"\u27f3"}),(0,ua.jsx)("input",{type:"text","aria-label":"Address bar",value:a,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&o()},placeholder:"Enter URL or os:// route...",style:{flex:1,padding:"8px 12px",border:"1px solid #4a774cff",borderRadius:4}}),(0,ua.jsx)("button",{type:"button",onClick:o,style:{padding:"8px 16px",background:"#0d8543ff",color:"white",borderRadius:4,border:"none",cursor:"pointer"},children:"Go"})]})},Si=e=>{let{tabs:t,activeTabId:n,onSelect:r,onNewTab:a,onCloseTab:i}=e;return(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",background:"#f3f4f6",padding:"4px 8px",gap:4},children:[t.map(e=>{var t;const a=e.id===n;return(0,ua.jsxs)("div",{onClick:()=>r(e.id),style:{display:"flex",alignItems:"center",padding:"4px 8px",borderRadius:4,cursor:"pointer",background:a?"white":"transparent",border:a?"1px solid #e5e7eb":"none"},children:[(0,ua.jsx)("span",{style:{marginRight:8,maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:null!==(t=e.title)&&void 0!==t?t:e.url}),(0,ua.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),i(e.id)},style:{border:"none",background:"transparent",cursor:"pointer",fontSize:12},children:"\u2715"})]},e.id)}),(0,ua.jsx)("button",{type:"button",onClick:a,style:{marginLeft:4,padding:"4px 8px",borderRadius:4,border:"none",background:"#e5e7eb",cursor:"pointer"},children:"+"})]})},_i=e=>{let{url:t,onNavigate:n}=e;const a=(0,r.useRef)(null);return(0,r.useEffect)(()=>{const e=a.current;if(!e)return;const r=()=>{const r=e.contentWindow;try{const e=r.location.href;e!==t&&(null===n||void 0===n||n(e))}catch(a){}try{const e=r.document;e.querySelectorAll("a[target]").forEach(e=>{e.removeAttribute("target")})}catch(a){}};return e.addEventListener("load",r),()=>e.removeEventListener("load",r)},[t,n]),(0,ua.jsx)("iframe",{ref:a,src:t,title:"browser-content",style:{flex:1,border:"none",width:"100%",height:"100%"},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"})},Ei=e=>{var t,n,r;return{id:null!==(t=null===(n=(r=crypto).randomUUID)||void 0===n?void 0:n.call(r))&&void 0!==t?t:"".concat(Date.now(),"-").concat(Math.random()),url:e}},ji="https://www.wikipedia.com",Ci=y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ti=(e,t)=>{const[n,a]=(0,r.useState)(new Date),[i,o]=(0,r.useState)({}),[s,l]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(""),[p,g]=(0,r.useState)("#3b82f6");(0,r.useEffect)(()=>{(async()=>{try{const e="/calendar_events.json";if(t[e]){const n=JSON.parse(t[e].content);o(n)}}catch(e){console.error("Error loading calendar events:",e)}})()},[t]);const m=async t=>{try{const n="/calendar_events.json";await e(n,JSON.stringify(t),"file"),o(t)}catch(n){console.error("Error saving calendar events:",n)}},{daysInMonth:y,startingDayOfWeek:v}=(e=>{const t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n,1);return{daysInMonth:new Date(t,n+1,0).getDate(),startingDayOfWeek:r.getDay()}})(n),b=["January","February","March","April","May","June","July","August","September","October","November","December"],w=e=>{const t=n.getFullYear(),r=n.getMonth();return"".concat(t,"-").concat(r+1,"-").concat(e)};return(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"white"},children:[(0,ua.jsxs)("div",{style:{padding:"16px",borderBottom:"2px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,ua.jsxs)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:0},children:[b[n.getMonth()]," ",n.getFullYear()]}),(0,ua.jsx)("button",{onClick:()=>{a(new Date)},style:{padding:"6px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:"Today"})]}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,ua.jsx)("button",{onClick:()=>{a(new Date(n.getFullYear(),n.getMonth()-1))},style:{padding:"8px",background:"#f3f4f6",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex"},children:(0,ua.jsx)(Ma,{size:20})}),(0,ua.jsx)("button",{onClick:()=>{a(new Date(n.getFullYear(),n.getMonth()+1))},style:{padding:"8px",background:"#f3f4f6",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex"},children:(0,ua.jsx)(Fa,{size:20})})]})]}),(0,ua.jsxs)("div",{style:{flex:1,padding:"16px",overflow:"auto"},children:[(0,ua.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"8px"},children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,ua.jsx)("div",{style:{textAlign:"center",fontSize:"13px",fontWeight:"600",color:"#6b7280",padding:"8px"},children:e},e))}),(0,ua.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px"},children:[[...Array(v)].map((e,t)=>(0,ua.jsx)("div",{},"empty-".concat(t))),[...Array(y)].map((e,t)=>{const r=t+1,a=w(r),o=i[a],s=(e=>{const t=new Date;return e===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()})(r);return(0,ua.jsxs)("button",{onClick:()=>(e=>{l(e);const t=w(e);i[t]?(f(i[t].text),g(i[t].color)):(f(""),g("#3b82f6")),d(!0)})(r),style:{aspectRatio:"1",minHeight:"80px",padding:"8px",background:s?"#dbeafe":o?o.color+"20":"#f9fafb",border:s?"2px solid #3b82f6":o?"2px solid ".concat(o.color):"1px solid #e5e7eb",borderRadius:"8px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"flex-start",transition:"all 0.2s",position:"relative"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,ua.jsx)("span",{style:{fontSize:"16px",fontWeight:s?"700":"600",color:s?"#3b82f6":"#1f2937"},children:r}),o&&(0,ua.jsx)("div",{style:{fontSize:"11px",color:o.color,marginTop:"4px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",textAlign:"left",fontWeight:"500",lineHeight:"1.3"},children:o.text})]},r)})]})]}),u&&(0,ua.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,ua.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"400px",maxWidth:"90%",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[(0,ua.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,ua.jsxs)("h3",{style:{fontSize:"18px",fontWeight:"700",margin:0},children:[b[n.getMonth()]," ",s,", ",n.getFullYear()]}),(0,ua.jsx)("button",{onClick:()=>d(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex"},children:(0,ua.jsx)(Ci,{size:20})})]}),(0,ua.jsx)("textarea",{value:h,onChange:e=>f(e.target.value),placeholder:"Add note or appointment...",style:{width:"100%",minHeight:"100px",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",resize:"vertical",fontFamily:"inherit",marginBottom:"16px",boxSizing:"border-box"},autoFocus:!0}),(0,ua.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,ua.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",marginBottom:"8px",color:"#6b7280"},children:"Color"}),(0,ua.jsx)("div",{style:{display:"flex",gap:"8px"},children:[{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Red",value:"#ef4444"},{name:"Purple",value:"#8b5cf6"},{name:"Orange",value:"#f97316"},{name:"Pink",value:"#ec4899"}].map(e=>(0,ua.jsx)("button",{onClick:()=>g(e.value),style:{width:"32px",height:"32px",borderRadius:"50%",background:e.value,border:p===e.value?"3px solid #1f2937":"2px solid #e5e7eb",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",title:e.name},e.value))})]}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[i[w(s)]&&(0,ua.jsxs)("button",{onClick:()=>{const e=w(s),t=c({},i);delete t[e],m(t),d(!1),f(""),l(null)},style:{padding:"10px 16px",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[(0,ua.jsx)(Ci,{size:16}),"Delete"]}),(0,ua.jsxs)("button",{onClick:()=>{const e=w(s),t=c({},i);h.trim()?t[e]={text:h,color:p}:delete t[e],m(t),d(!1),f(""),l(null)},style:{padding:"10px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[(0,ua.jsx)(Ea,{size:16}),"Save"]})]})]})})]})},Oi=e=>{let{fileSystem:t,saveFile:n,createDirectory:a,deleteFile:i,currentUser:o,onOpenFile:s,reloadFileSystem:l,updateTheme:c,updateDesktopLayout:u}=e;const[d,h]=(0,r.useState)([{type:"system",content:"Welcome to AirOS Terminal v2.0"},{type:"system",content:'Type "help" for available commands'}]),[f,p]=(0,r.useState)(""),[g,m]=(0,r.useState)([]),[y,v]=(0,r.useState)(-1),[b,w]=(0,r.useState)("/"),[x,k]=(0,r.useState)(!1),[S,_]=(0,r.useState)(!1),[E,j]=(0,r.useState)(null),[C,T]=(0,r.useState)(0),[O,R]=(0,r.useState)(null),[P,A]=(0,r.useState)(!1),I=(0,r.useRef)(null),z=(0,r.useRef)(null);console.log("Terminal props:",{fileSystem:t,hasSaveFile:"function"===typeof n,hasCreateDirectory:"function"===typeof a,hasDeleteFile:"function"===typeof i,hasReloadFileSystem:"function"===typeof l,currentUser:o}),(0,r.useEffect)(()=>{z.current&&(z.current.scrollTop=z.current.scrollHeight)},[d]),(0,r.useEffect)(()=>{var e;null===(e=I.current)||void 0===e||e.focus()},[]);const N=async(e,t)=>{try{await oa.fs.writeFile(e,null!==t&&void 0!==t?t:"","utf-8")}catch(r){console.warn("WebContainer write failed:",r)}await n(e,null!==t&&void 0!==t?t:"","file")},L=async e=>{const t=e.substring(0,e.lastIndexOf("/"))||"/",n=e.substring(e.lastIndexOf("/")+1);try{await oa.fs.mkdir(e,{recursive:!0})}catch(r){console.warn("WebContainer mkdir failed:",r)}await a(t,n)},D=async e=>{try{await oa.fs.rm(e,{recursive:!0})}catch(t){console.warn("WebContainer rm failed:",t)}await i(e)},M=(e,t)=>{h(n=>[...n,{type:e,content:t}])},U=()=>{var e;const t=(null===o||void 0===o||null===(e=o.email)||void 0===e?void 0:e.split("@")[0])||"user",n=x?"#":"$";return"".concat(t,"@airos:").concat(b).concat(n)},F=e=>{if(!e)return b;if(e.startsWith("/"))return e;if(".."===e){if("/"===b)return"/";const e=b.split("/").filter(Boolean);return e.pop(),"/"+e.join("/")}return"."===e?b:"/"===b?"/".concat(e):"".concat(b,"/").concat(e)},W=async e=>{const t=await(async e=>{try{const t=null===o||void 0===o?void 0:o.email;if(!t)return!1;const{error:n}=await dr.auth.signInWithPassword({email:t,password:e});return!n}catch(t){return console.error("Password verification error:",t),!1}})(e);if(t){if(T(0),"sudo su"===E)k(!0),M("system",'Elevated privileges granted. Type "exit su" to exit sudo mode.');else if(E){M("system","[sudo] password accepted");const e=x;k(!0),await q(E),k(e)}_(!1),j(null)}else{var n;if(T(e=>e+1),C>=2)M("error","sudo: 3 incorrect password attempts"),_(!1),j(null),T(0);else M("error","Sorry, try again."),M("command","[sudo] password for "+((null===o||void 0===o||null===(n=o.email)||void 0===n?void 0:n.split("@")[0])||"user")+":")}},B=async(e,n)=>{const r=t[e];if(!r)return!1;if("directory"===r.type){await a(n.substring(0,n.lastIndexOf("/")),n.substring(n.lastIndexOf("/")+1));const t=r.children||[];for(const r of t){const t="".concat(e,"/").concat(r),a="".concat(n,"/").concat(r);await B(t,a)}}else await N(n,r.content||"");return!0},q=async e=>{const n=e.split(" "),r=n[0].toLowerCase(),a=n.slice(1);switch(r){case"theme":if(x)if(a[0]){["default","sunset","scorpio","dragonfruit","ocean","volcanic","lavender"].includes(a[0])?(c(a[0]),M("system","Theme changed to: ".concat(a[0]))):M("error","theme: unknown theme '".concat(a[0],"'"))}else M("error","theme: missing theme name. Available: default, sunset, scorpio, dragonfruit, ocean, volcanic, lavender");else M("error","Permission denied. Use: sudo theme <name>");break;case"layout":x?a[0]?"wheel"===a[0]||"grid"===a[0]?(u(a[0]),M("system","Desktop layout changed to: ".concat(a[0]))):M("error","layout: unknown layout '".concat(a[0],"'")):M("error","layout: missing layout type. Available: wheel, grid"):M("error","Permission denied. Use: sudo layout <type>");break;case"wc":if(!a[0]){M("error","wc: missing subcommand. Try: wc init");break}if("init"===a[0]){try{await async function(){return oa||(oa=await Zr.boot(),oa)}();M("system","WebContainer initialized successfully.")}catch(d){M("error","WebContainer init failed: ".concat(d.message))}break}M("error","wc: unknown subcommand '".concat(a[0],"'"));break;case"mv":if(a.length<2)M("error","mv: missing operands. Usage: mv <source> <destination>");else{const e=F(a[0]),n=F(a[1]);t[e]?t[n]?M("error","mv: ".concat(a[1],": Destination already exists")):(await B(e,n),await D(e),i(e),M("output","")):M("error","mv: ".concat(a[0],": No such file or directory"))}break;case"cp":if(a.length<2)M("error","cp: missing operands. Usage: cp <source> <destination>");else{const e=F(a[0]),n=F(a[1]);t[e]?t[n]?M("error","cp: ".concat(a[1],": Destination already exists")):(await B(e,n),M("output","")):M("error","cp: ".concat(a[0],": No such file or directory"))}break;case"find":if(a[0]){const e=a[0].toLowerCase(),n=[],r=a=>{const i=t[a];i&&i.children&&i.children.forEach(i=>{var o;const s="/"===a?"/".concat(i):"".concat(a,"/").concat(i);if(i.toLowerCase().includes(e)){var l;const e="directory"===(null===(l=t[s])||void 0===l?void 0:l.type);n.push("".concat(e?"\ud83d\udcc1":"\ud83d\udcc4"," ").concat(s))}"directory"===(null===(o=t[s])||void 0===o?void 0:o.type)&&r(s)})};r("/"),0===n.length?M("output","No results found for '".concat(a[0],"'")):M("output","Found ".concat(n.length," result(s):\n").concat(n.join("\n")))}else M("error","find: missing search term");break;case"grep":if(a.length<2)M("error","grep: missing operands. Usage: grep <pattern> <file>");else{const e=a[0].toLowerCase(),n=F(a[1]);if(t[n])if("directory"===t[n].type)M("error","grep: ".concat(a[1],": Is a directory"));else{const r=t[n].content||"";if(r.startsWith("data:"))M("error","grep: cannot search binary files");else{const t=r.split("\n").map((e,t)=>({line:e,num:t+1})).filter(t=>{let{line:n}=t;return n.toLowerCase().includes(e)});if(0===t.length)M("output","No matches found for '".concat(a[0],"'"));else{const e=t.map(e=>{let{line:t,num:n}=e;return"".concat(n,": ").concat(t)}).join("\n");M("output",e)}}}else M("error","grep: ".concat(a[1],": No such file"))}break;case"ls":{const e=a[0]?F(a[0]):b;if(t[e])if("directory"!==t[e].type)M("error","ls: ".concat(e,": Not a directory"));else{const n=t[e].children||[];if(0===n.length)M("output","(empty directory)");else{const r=n.map(n=>{var r;const a="/"===e?"/".concat(n):"".concat(e,"/").concat(n);return"directory"===(null===(r=t[a])||void 0===r?void 0:r.type)?"\ud83d\udcc1 ".concat(n,"/"):"\ud83d\udcc4 ".concat(n)});M("output",r.join("\n"))}}else M("error","ls: ".concat(e,": No such directory"));break}case"cd":if(a[0]){const e=F(a[0]);t[e]?"directory"!==t[e].type?M("error","cd: ".concat(a[0],": Not a directory")):(w(e),M("output","")):M("error","cd: ".concat(a[0],": No such directory"))}else w("/"),M("output","");break;case"pwd":M("output",b);break;case"cat":if(a[0]){const e=F(a[0]);if(t[e])if("directory"===t[e].type)M("error","cat: ".concat(a[0],": Is a directory"));else{const n=t[e].content||"(empty file)";n.startsWith("data:image")?M("output","[Image file - ".concat(n.length," bytes]")):n.startsWith("data:")?M("output","[Binary file - ".concat(n.length," bytes]")):M("output",n)}else M("error","cat: ".concat(a[0],": No such file"))}else M("error","cat: missing file operand");break;case"mkdir":if(a[0]){const e=F(a[0]);t[e]?M("error","mkdir: ".concat(a[0],": File exists")):(await L(F(a[0])),M("output",""))}else M("error","mkdir: missing directory name");break;case"touch":if(a[0]){const e=F(a[0]);t[e]||await N(e,""),M("output","")}else M("error","touch: missing file name");break;case"rm":if(a[0]){const e=F(a[0]);t[e]?(await D(e),M("output","")):M("error","rm: ".concat(a[0],": No such file or directory"))}else M("error","rm: missing operand");break;case"echo":M("output",a.join(" "));break;case"open":if(a[0]){const e=F(a[0]);t[e]?"directory"===t[e].type?M("error","open: ".concat(a[0],": Is a directory")):(s(a[0],e),M("output","Opening ".concat(a[0],"..."))):M("error","open: ".concat(a[0],": No such file"))}else M("error","open: missing file operand");break;case"tree":{const e=function(n){var r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const i=(null===(r=t[n])||void 0===r?void 0:r.children)||[];let o=[];return i.forEach((r,s)=>{var l;const c=s===i.length-1,u="/"===n?"/".concat(r):"".concat(n,"/").concat(r),d="directory"===(null===(l=t[u])||void 0===l?void 0:l.type),h=c?"\u2514\u2500\u2500 ":"\u251c\u2500\u2500 ",f=d?"\ud83d\udcc1":"\ud83d\udcc4";if(o.push("".concat(a).concat(h).concat(f," ").concat(r)),d){const t=a+(c?"    ":"\u2502   ");o=o.concat(e(u,t,c))}}),o},n=["\ud83d\udcc1 "+b,...e(b)];M("output",n.join("\n"));break}case"whoami":M("output",(null===o||void 0===o?void 0:o.email)||"guest");break;case"date":M("output",(new Date).toString());break;case"calc":if(a[0])try{const e=a.join(" "),t=Function('"use strict"; return ('+e+")")();M("output","".concat(e," = ").concat(t))}catch(f){M("error","calc: invalid expression")}else M("error","calc: missing expression");break;case"clear":h([]);break;case"kill":if(O){try{O.kill(),M("system","Process terminated")}catch(p){M("error","kill: ".concat(p.message||p))}R(null),A(!1)}else M("error","No running process");break;case"npm":if(!a.length){M("error","npm: missing arguments");break}if(!oa){M("error","WebContainer is not initialized");break}try{A(!0);const e=await oa.spawn("npm",a);R(e),(async e=>{try{const t=e.output,n=new WritableStream({write(e){e&&M("output",e)}});await t.pipeTo(n)}catch(p){}})(e);if("run"===a[0]&&a[1]&&(a[1].includes("dev")||a[1].includes("start")))M("system",'(process running \u2014 use "kill" to stop)');else{const t=await e.exit;M("system","npm exited with code ".concat(t)),R(null),A(!1),null===l||void 0===l||l()}}catch(p){M("error","npm error: ".concat(p.message||p)),R(null),A(!1)}break;case"help":M("output","Available commands:\n  \nFile System:\n  ls [path]            - List directory contents\n  cd <path>            - Change directory\n  pwd                  - Print working directory\n  tree                 - Display directory tree\n  \nFile Operations:\n  cat <file>           - Display file contents\n  touch <name>         - Create a new file\n  mkdir <name>         - Create a new directory\n  rm <path>            - Remove file/directory\n  mv <src> <dest>      - Move or rename file/directory\n  cp <src> <dest>      - Copy file/directory\n  find <name>          - Search for files/directories\n  grep <text> <file>   - Search for text in file\n  \nUtilities:\n  echo <text>          - Print text to terminal\n  open <file>          - Open file in app\n  calc <expression>    - Calculate math\n  whoami               - Display current user\n  date                 - Display date and time\n  clear                - Clear the terminal\n  \nSystem Administration:\n  sudo <command>       - Execute command with admin privileges\n  sudo su              - Enter persistent sudo mode\n  exit su              - Exit persistent sudo mode\n  \nSystem Commands (require sudo):\n  theme <name>         - Change desktop theme\n  layout <type>        - Change desktop layout (wheel/grid)\n  \nWebContainer:\n  npm <args>           - Run npm inside WebContainer\n  kill                 - Kill current npm/dev process");break;default:M("error","".concat(r,": command not found. Type 'help' for available commands."))}};return(0,ua.jsxs)("div",{style:{height:"100%",background:"#1a1a1a",color:"#00ff00",fontFamily:'"Courier New", Courier, monospace',fontSize:"14px",display:"flex",flexDirection:"column",overflow:"hidden"},onClick:()=>{var e;return null===(e=I.current)||void 0===e?void 0:e.focus()},children:[(0,ua.jsxs)("div",{style:{padding:"8px 12px",background:x?"#8b0000":"#0d0d0d",borderBottom:"1px solid #333",display:"flex",alignItems:"center",gap:"8px",color:"#888",transition:"background 0.3s"},children:[x?(0,ua.jsx)(fa,{size:16,color:"#ff0000"}):(0,ua.jsx)(_a,{size:16}),(0,ua.jsxs)("span",{style:{fontSize:"13px",color:x?"#ff0000":"#888"},children:["AirOS Terminal ",x&&"(ROOT)"]}),(0,ua.jsx)("span",{style:{marginLeft:"auto",fontSize:"11px"},children:S?"Enter password":P?"Running process...":"Ctrl+L to clear"})]}),(0,ua.jsxs)("div",{ref:z,style:{flex:1,padding:"12px",overflow:"auto",lineHeight:"1.5"},children:[d.map((e,t)=>(0,ua.jsx)("div",{style:{color:"error"===e.type?"#ff5555":"command"===e.type?"#ffff00":"system"===e.type?"#00ffff":"#00ff00",whiteSpace:"pre-wrap",wordBreak:"break-word",marginBottom:"output"===e.type?"8px":"0"},children:e.content},t)),(0,ua.jsxs)("div",{style:{display:"flex",color:x?"#ff0000":"#ffff00"},children:[(0,ua.jsx)("span",{style:{marginRight:"8px"},children:S?"":U()}),(0,ua.jsx)("input",{ref:I,type:S?"password":"text",value:f,onChange:e=>p(e.target.value),onKeyDown:e=>{if("Enter"===e.key)S?(W(f),p("")):(async e=>{const t=e.trim();if(!t)return;m(e=>[...e,t]),v(-1),M("command","".concat(U()," ").concat(t));const n=t.split(" "),r=n[0].toLowerCase(),a=n.slice(1);if("sudo"===r){if(0===a.length)return void M("error","sudo: missing command. Usage: sudo <command> or sudo su");const e=a.join(" ");var i,s;return"su"===e?(M("command","[sudo] password for "+((null===o||void 0===o||null===(i=o.email)||void 0===i?void 0:i.split("@")[0])||"user")+":"),_(!0),void j("sudo su")):(M("command","[sudo] password for "+((null===o||void 0===o||null===(s=o.email)||void 0===s?void 0:s.split("@")[0])||"user")+":"),_(!0),void j(e))}if(x&&"exit su"===t)return k(!1),void M("system","Exited sudo mode");await q(t),p("")})(f);else if("ArrowUp"===e.key){if(e.preventDefault(),!S&&g.length>0){const e=-1===y?g.length-1:Math.max(0,y-1);v(e),p(g[e])}}else if("ArrowDown"===e.key){if(e.preventDefault(),!S&&-1!==y){const e=y+1;e>=g.length?(v(-1),p("")):(v(e),p(g[e]))}}else if("Tab"===e.key){if(e.preventDefault(),!S){const e=f.split(" "),r=e[e.length-1];if(r){var n;const a=((null===(n=t[b])||void 0===n?void 0:n.children)||[]).filter(e=>e.startsWith(r));1===a.length?(e[e.length-1]=a[0],p(e.join(" "))):a.length>1&&M("output",a.join("  "))}}}else"l"===e.key&&e.ctrlKey?(e.preventDefault(),h([])):"c"===e.key&&e.ctrlKey&&(S?(e.preventDefault(),M("system","^C"),_(!1),j(null),T(0),p("")):O&&(e.preventDefault(),O.kill(),M("system","^C (process terminated)"),R(null),A(!1)))},style:{flex:1,background:"transparent",border:"none",outline:"none",color:S?"#ffff00":"#00ff00",fontFamily:"inherit",fontSize:"inherit",caretColor:x?"#ff0000":"#00ff00"},spellCheck:!1,autoComplete:"off",placeholder:S?"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022":""})]})]})]})},Ri=y("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]),Pi=y("split",[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]]),Ai=y("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),Ii=y("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),zi=e=>{let{label:t,active:n,onClick:r,color:a}=e;return(0,ua.jsx)("button",{onClick:r,style:{padding:"10px 20px",background:n?"#1e1e1e":"transparent",border:"none",borderBottom:n?"2px solid ".concat(a):"2px solid transparent",color:n?"white":"#888",fontSize:"13px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:t})},Ni=e=>{let{icon:t,active:n,onClick:r,title:a}=e;return(0,ua.jsx)("button",{onClick:r,title:a,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"6px",background:n?"#007acc":"transparent",color:n?"white":"#888",border:"none",borderRadius:"3px",cursor:"pointer",transition:"all 0.2s"},children:t})},Li=e=>{let{value:t,onChange:n,language:a}=e;const i=(0,r.useRef)(null),[o,s]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=t.split("\n");s(e.map((e,t)=>t+1))},[t]);return(0,ua.jsxs)("div",{style:{flex:1,display:"flex",overflow:"hidden",background:"#1e1e1e"},children:[(0,ua.jsx)("div",{style:{padding:"16px 8px",background:"#1e1e1e",borderRight:"1px solid #3e3e3e",color:"#858585",fontSize:"13px",fontFamily:'Consolas, Monaco, "Courier New", monospace',lineHeight:"1.5",textAlign:"right",userSelect:"none",minWidth:"40px"},children:o.map(e=>(0,ua.jsx)("div",{children:e},e))}),(0,ua.jsx)("textarea",{ref:i,value:t,onChange:e=>n(e.target.value),onKeyDown:e=>{if("Tab"===e.key){e.preventDefault();const r=e.target.selectionStart,a=e.target.selectionEnd,i=t.substring(0,r)+"  "+t.substring(a);n(i),setTimeout(()=>{e.target.selectionStart=e.target.selectionEnd=r+2},0)}},spellCheck:!1,style:{flex:1,padding:"16px",background:"#1e1e1e",color:"#d4d4d4",border:"none",outline:"none",fontSize:"13px",fontFamily:'Consolas, Monaco, "Courier New", monospace',lineHeight:"1.5",resize:"none",overflow:"auto"}})]})},Di=e=>{let{saveFile:t,currentPath:n,filePath:a,fileSystem:i}=e;const[o,s]=(0,r.useState)("<!DOCTYPE html>\n<html>\n<head>\n  <title>My Page</title>\n</head>\n<body>\n  <h1>Hello World!</h1>\n</body>\n</html>"),[l,c]=(0,r.useState)("body {\n  font-family: Arial, sans-serif;\n  margin: 20px;\n}\n\nh1 {\n  color: #3b82f6;\n}"),[u,d]=(0,r.useState)('// JavaScript code here\nconsole.log("Hello from AirOS IDE!");'),[h,f]=(0,r.useState)("html"),[p,g]=(0,r.useState)(!0),[m,y]=(0,r.useState)(0),[v,b]=(0,r.useState)("index.html"),[w,x]=(0,r.useState)(!0),[k,S]=(0,r.useState)("split"),_=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(a&&i[a]){const e=i[a],t=a.split(".").pop().toLowerCase();"html"===t?(s(e.content||""),f("html")):"css"===t?(c(e.content||""),f("css")):"js"===t&&(d(e.content||""),f("js")),b(a.split("/").pop())}},[a,i]);const E=()=>"html"===h?o:"css"===h?l:"js"===h?u:"";return(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"#1e1e1e"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"#2d2d2d",borderBottom:"1px solid #3e3e3e",gap:"12px"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:1},children:[(0,ua.jsx)(Ri,{size:18,color:"#60a5fa"}),(0,ua.jsx)("input",{type:"text",value:v,onChange:e=>{b(e.target.value),x(!1)},style:{padding:"6px 10px",background:"#1e1e1e",border:"1px solid #3e3e3e",borderRadius:"4px",color:"white",fontSize:"13px",width:"400px"}}),(0,ua.jsxs)("button",{onClick:async()=>{const e=a||("/"===n?"/".concat(v):"".concat(n,"/").concat(v));let r="";v.endsWith(".html")?r=o:v.endsWith(".css")?r=l:v.endsWith(".js")&&(r=u),t&&(await t(e,r),x(!0))},style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:w?"#10b981":"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:[(0,ua.jsx)(Ea,{size:14}),w?"Saved":"Save"]})]}),(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,ua.jsxs)("div",{style:{display:"flex",gap:"2px",padding:"2px",background:"#1e1e1e",borderRadius:"4px",border:"1px solid #3e3e3e"},children:[(0,ua.jsx)(Ni,{icon:(0,ua.jsx)(Pi,{size:16}),active:"split"===k,onClick:()=>S("split"),title:"Split View"}),(0,ua.jsx)(Ni,{icon:(0,ua.jsx)(Ai,{size:16}),active:"code"===k,onClick:()=>S("code"),title:"Code Only"}),(0,ua.jsx)(Ni,{icon:(0,ua.jsx)(Ii,{size:16}),active:"preview"===k,onClick:()=>S("preview"),title:"Preview Only"})]}),(0,ua.jsxs)("button",{onClick:()=>{y(e=>e+1)},style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:"#10b981",color:"white",border:"none",borderRadius:"4px",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:[(0,ua.jsx)(xa,{size:14}),"Run"]})]})]}),(0,ua.jsxs)("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:[("split"===k||"code"===k)&&(0,ua.jsxs)("div",{style:{flex:"split"===k?1:"auto",display:"flex",flexDirection:"column",borderRight:"split"===k?"1px solid #3e3e3e":"none",width:"code"===k?"100%":"auto"},children:[(0,ua.jsxs)("div",{style:{display:"flex",background:"#2d2d2d",borderBottom:"1px solid #3e3e3e"},children:[(0,ua.jsx)(zi,{label:"HTML",active:"html"===h,onClick:()=>f("html"),color:"#e34c26"}),(0,ua.jsx)(zi,{label:"CSS",active:"css"===h,onClick:()=>f("css"),color:"#264de4"}),(0,ua.jsx)(zi,{label:"JavaScript",active:"js"===h,onClick:()=>f("js"),color:"#f0db4f"})]}),(0,ua.jsx)(Li,{value:E(),onChange:e=>{x(!1),"html"===h?s(e):"css"===h?c(e):"js"===h&&d(e)},language:h})]}),("split"===k||"preview"===k)&&(0,ua.jsxs)("div",{style:{flex:"split"===k?1:"auto",display:"flex",flexDirection:"column",background:"white",width:"preview"===k?"100%":"auto"},children:[(0,ua.jsxs)("div",{style:{padding:"8px 12px",background:"#f3f4f6",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"8px"},children:[(0,ua.jsx)(Ii,{size:16,color:"#6b7280"}),(0,ua.jsx)("span",{style:{fontSize:"13px",fontWeight:"600",color:"#374151"},children:"Preview"})]}),(0,ua.jsx)("iframe",{ref:_,srcDoc:(()=>{let e=o;if(l.trim()){const t="<style>".concat(l,"</style>");e=e.includes("</head>")?e.replace("</head>","".concat(t,"\n</head>")):"<head>".concat(t,"</head>\n").concat(e)}if(u.trim()){const t="<script>".concat(u,"<\/script>");e=e.includes("</body>")?e.replace("</body>","".concat(t,"\n</body>")):"".concat(e,"\n").concat(t)}return e})(),style:{flex:1,border:"none",width:"100%",background:"white"},title:"preview",sandbox:"allow-scripts allow-same-origin"},m)]})]}),(0,ua.jsxs)("div",{style:{padding:"6px 12px",background:"#007acc",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px",color:"white"},children:[(0,ua.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,ua.jsxs)("span",{children:["Language: ",h.toUpperCase()]}),(0,ua.jsxs)("span",{children:["Lines: ",E().split("\n").length]})]}),(0,ua.jsx)("div",{children:"AirOS Code Editor"})]})]})},Mi=y("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ui=y("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Fi=e=>{let{saveFile:t,currentPath:n}=e;const[a,i]=(0,r.useState)(null),[o,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),[m,y]=(0,r.useState)(""),v=(0,r.useRef)(null),b=(0,r.useRef)(null),w=[{value:"png",label:"PNG",mime:"image/png"},{value:"jpeg",label:"JPEG",mime:"image/jpeg"},{value:"webp",label:"WebP",mime:"image/webp"},{value:"bmp",label:"BMP",mime:"image/bmp"}],x=e=>{const t=e.length*e.numberOfChannels*2+44,n=new ArrayBuffer(t),r=new DataView(n),a=[];let i=0,o=0;const s=e=>{r.setUint16(o,e,!0),o+=2},l=e=>{r.setUint32(o,e,!0),o+=4};l(1179011410),l(t-8),l(1163280727),l(544501094),l(16),s(1),s(e.numberOfChannels),l(e.sampleRate),l(2*e.sampleRate*e.numberOfChannels),s(2*e.numberOfChannels),s(16),l(1635017060),l(t-o-4);for(let c=0;c<e.numberOfChannels;c++)a.push(e.getChannelData(c));for(;o<t;){for(let t=0;t<e.numberOfChannels;t++){let e=Math.max(-1,Math.min(1,a[t][i]));e=e<0?32768*e:32767*e,r.setInt16(o,e,!0),o+=2}i++}return n},k=()=>{i(null),s(null),c(""),f(!1),g(null),y(""),v.current&&(v.current.value="")};return(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[(0,ua.jsxs)("div",{style:{padding:"24px",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,ua.jsx)(ba,{size:32,color:"white"}),(0,ua.jsx)("h1",{style:{fontSize:"32px",fontWeight:"700",color:"white",margin:0},children:"SwapMeIfYouCan"})]}),(0,ua.jsx)("p",{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.8)",margin:0},children:"Convert images and audio files to different formats"})]}),(0,ua.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:"32px"},children:(0,ua.jsxs)("div",{style:{width:"100%",maxWidth:"600px",background:"white",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",overflow:"hidden"},children:[!a&&(0,ua.jsxs)("div",{style:{padding:"48px 32px",textAlign:"center"},children:[(0,ua.jsx)("input",{ref:v,type:"file",onChange:e=>{const t=e.target.files[0];t&&(y(""),f(!1),g(null),t.type.startsWith("image/")?(s("image"),i(t),c("png")):t.type.startsWith("audio/")?(s("audio"),i(t),c("mp3")):(y("Unsupported file type. Please select an image or audio file."),i(null),s(null)))},accept:"image/*,audio/*",style:{display:"none"}}),(0,ua.jsxs)("div",{onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},style:{border:"3px dashed #d1d5db",borderRadius:"12px",padding:"48px",cursor:"pointer",transition:"all 0.3s",background:"#f9fafb"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#667eea",e.currentTarget.style.background="#f3f4f6"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#d1d5db",e.currentTarget.style.background="#f9fafb"},children:[(0,ua.jsx)(Wa,{size:48,color:"#667eea",style:{marginBottom:"16px"}}),(0,ua.jsx)("h3",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"Choose a file to convert"}),(0,ua.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:"Drag and drop or click to browse"}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"16px",justifyContent:"center",marginTop:"24px"},children:[(0,ua.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,ua.jsx)(wa,{size:20,color:"#667eea",style:{marginBottom:"4px"}}),(0,ua.jsx)("div",{style:{fontSize:"12px",color:"#6b7280"},children:"Images"})]}),(0,ua.jsxs)("div",{style:{padding:"12px 16px",background:"white",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[(0,ua.jsx)(ai,{size:20,color:"#764ba2",style:{marginBottom:"4px"}}),(0,ua.jsx)("div",{style:{fontSize:"12px",color:"#6b7280"},children:"Audio"})]})]})]})]}),a&&!h&&(0,ua.jsxs)("div",{style:{padding:"32px"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px",padding:"16px",background:"#f3f4f6",borderRadius:"8px"},children:["image"===o?(0,ua.jsx)(wa,{size:24,color:"#667eea"}):(0,ua.jsx)(ai,{size:24,color:"#764ba2"}),(0,ua.jsxs)("div",{style:{flex:1},children:[(0,ua.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937",marginBottom:"2px"},children:a.name}),(0,ua.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280"},children:[(a.size/1024).toFixed(2)," KB"]})]}),(0,ua.jsx)("button",{onClick:k,style:{padding:"6px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",cursor:"pointer"},children:"Remove"})]}),(0,ua.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,ua.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Convert to:"}),(0,ua.jsx)("select",{value:l,onChange:e=>c(e.target.value),style:{width:"100%",padding:"12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",background:"white"},children:("image"===o?w:[{value:"mp3",label:"MP3",mime:"audio/mpeg"},{value:"wav",label:"WAV",mime:"audio/wav"},{value:"ogg",label:"OGG",mime:"audio/ogg"},{value:"webm",label:"WebM Audio",mime:"audio/webm"}]).map(e=>(0,ua.jsx)("option",{value:e.value,children:e.label},e.value))})]}),m&&(0,ua.jsxs)("div",{style:{padding:"12px 16px",background:"#fee2e2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"14px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"8px"},children:[(0,ua.jsx)(Mi,{size:16}),m]}),(0,ua.jsx)("button",{onClick:()=>{"image"===o?(async()=>{if(a){d(!0),y("");try{const e=new Image,t=new FileReader;t.onload=t=>{e.onload=()=>{const t=b.current||document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0);const n=w.find(e=>e.value===l);t.toBlob(e=>{const t=new FileReader;t.onloadend=()=>{g(t.result),f(!0),d(!1)},t.readAsDataURL(e)},n.mime,.95)},e.onerror=()=>{y("Failed to load image"),d(!1)},e.src=t.target.result},t.readAsDataURL(a)}catch(e){y("Conversion failed: "+e.message),d(!1)}}})():"audio"===o&&(async()=>{if(a){d(!0),y("");try{const e=new(window.AudioContext||window.webkitAudioContext),t=new FileReader;t.onload=async t=>{try{const n=t.target.result,r=await e.decodeAudioData(n),a=new OfflineAudioContext(r.numberOfChannels,r.length,r.sampleRate),i=a.createBufferSource();i.buffer=r,i.connect(a.destination),i.start(0);const o=await a.startRendering(),s=x(o),l=new Blob([s],{type:"audio/wav"}),c=new FileReader;c.onloadend=()=>{g(c.result),f(!0),d(!1)},c.readAsDataURL(l)}catch(n){y("Audio conversion failed. The browser may not support this audio format."),d(!1)}},t.onerror=()=>{y("Failed to read audio file"),d(!1)},t.readAsArrayBuffer(a)}catch(e){y("Conversion failed: "+e.message),d(!1)}}})()},disabled:u,style:{width:"100%",padding:"14px",background:u?"#9ca3af":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:u?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:u?(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsx)(ba,{size:20,className:"spinning"}),"Converting..."]}):(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsx)(ba,{size:20}),"Convert File"]})})]}),h&&(0,ua.jsxs)("div",{style:{padding:"32px",textAlign:"center"},children:[(0,ua.jsx)(Ui,{size:64,color:"#10b981",style:{marginBottom:"16px"}}),(0,ua.jsx)("h3",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",marginBottom:"8px"},children:"Conversion Complete!"}),(0,ua.jsxs)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px"},children:["Your file has been converted to ",l.toUpperCase()]}),"image"===o&&p&&(0,ua.jsx)("div",{style:{marginBottom:"24px",padding:"16px",background:"#f9fafb",borderRadius:"8px"},children:(0,ua.jsx)("img",{src:p,alt:"Converted",style:{maxWidth:"100%",maxHeight:"300px",borderRadius:"8px"}})}),(0,ua.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,ua.jsxs)("button",{onClick:()=>{if(!p)return;const e=document.createElement("a");e.href=p;const t=a.name.split(".")[0];e.download="".concat(t,"_converted.").concat(l),e.click()},style:{flex:1,padding:"12px",background:"#10b981",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[(0,ua.jsx)(ei,{size:16}),"Download"]}),(0,ua.jsx)("button",{onClick:async()=>{if(!p||!t)return;const e=a.name.split(".")[0],r="".concat(e,"_converted.").concat(l),i="/"===n?"/".concat(r):"".concat(n,"/").concat(r);await t(i,p,"file"),alert("File saved to ".concat(i))},style:{flex:1,padding:"12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Save to Files"})]}),(0,ua.jsx)("button",{onClick:k,style:{width:"100%",marginTop:"12px",padding:"12px",background:"transparent",color:"#6b7280",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Convert Another File"})]})]})}),(0,ua.jsx)("canvas",{ref:b,style:{display:"none"}}),(0,ua.jsx)("style",{children:"\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n          .spinning {\n            animation: spin 1s linear infinite;\n          }\n        "})]})},Wi=e=>{let{color:t,size:n,tool:r,onColorChange:a,onSizeChange:i,onToolChange:o,onUndo:s,onAddLayer:l,layers:c,onCopy:u,onPaste:d,canvasRefs:h}=e;return(0,ua.jsxs)("div",{style:{display:"flex",gap:12,padding:8,background:"#eee",borderBottom:"1px solid #ccc",alignItems:"center"},children:[(0,ua.jsx)("input",{type:"color",value:t,onChange:e=>a(e.target.value)}),(0,ua.jsx)("input",{type:"range",min:"1",max:"40",value:n,onChange:e=>i(Number(e.target.value))}),(0,ua.jsx)("button",{onClick:()=>o("brush"),style:{padding:"6px 12px",background:"brush"===r?"#ddd":"#fff"},children:"Brush"}),(0,ua.jsx)("button",{onClick:()=>o("select"),style:{padding:"6px 12px",background:"select"===r?"#ddd":"#fff"},children:"Select"}),(0,ua.jsx)("button",{onClick:u,children:"Copy"}),(0,ua.jsx)("button",{onClick:d,children:"Paste"}),(0,ua.jsx)("button",{onClick:()=>o("eraser"),style:{padding:"6px 12px",background:"eraser"===r?"#ddd":"#fff"},children:"Eraser"}),(0,ua.jsx)("button",{onClick:s,children:"Undo"}),(0,ua.jsx)("button",{onClick:l,children:"New Layer"}),(0,ua.jsx)("button",{onClick:()=>{const e=document.createElement("canvas"),t=e.getContext("2d"),n=h.current[c[0].id];e.width=n.width,e.height=n.height,c.forEach(e=>{if(!e.visible)return;const n=h.current[e.id];t.drawImage(n,0,0)});const r=document.createElement("a");r.download="sketch.png",r.href=e.toDataURL(),r.click()},children:"Save"})]})},Bi=e=>{let{layers:t,activeLayerId:n,undoStacks:a,canvasRefs:i,color:o,size:s,tool:l,selection:u,setSelection:d,pasted:h,setPasted:f,clipboard:p}=e;const g=(0,r.useRef)({}),m=(0,r.useRef)({}),y=(0,r.useRef)(!1),v=(0,r.useRef)({x:0,y:0}),b=(0,r.useRef)(null),w=(0,r.useRef)(!1),x=(0,r.useRef)({x:0,y:0}),k=(e,t)=>{if("select"===l){y.current=!0;const n=i.current[t].getBoundingClientRect();return v.current={x:e.clientX-n.left,y:e.clientY-n.top},void d(null)}h&&"select"!==l?E(t):((e,t)=>{if("brush"!==l&&"eraser"!==l)return;const n=i.current[t],r=n.getBoundingClientRect();g.current[t]=!0,m.current[t]={x:e.clientX-r.left,y:e.clientY-r.top},a.current[t]||(a.current[t]=[]),a.current[t].push(n.toDataURL())})(e,t)},S=(e,t)=>{if("select"===l&&y.current){const n=i.current[t].getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top;return void d({x:Math.min(v.current.x,r),y:Math.min(v.current.y,a),w:Math.abs(r-v.current.x),h:Math.abs(a-v.current.y)})}h&&w.current?f(t=>c(c({},t),{},{x:e.clientX-x.current.x,y:e.clientY-x.current.y})):t===n&&((e,t)=>{if(!g.current[t])return;const n=i.current[t],r=n.getContext("2d"),a=n.getBoundingClientRect(),c=e.clientX-a.left,u=e.clientY-a.top;r.lineJoin="round",r.lineCap="round",r.lineWidth=s,r.strokeStyle="eraser"===l?"#ffffff":o,r.beginPath(),r.moveTo(m.current[t].x,m.current[t].y),r.lineTo(c,u),r.stroke(),m.current[t]={x:c,y:u}})(e,t)},_=e=>{y.current=!1,(e=>{g.current[e]=!1})(e),w.current=!1},E=e=>{if(!h)return;i.current[e].getContext("2d").drawImage(h.img,h.x,h.y),f(null)};return(0,r.useEffect)(()=>{const e=document.createElement("canvas"),t=e.getContext("2d"),n=2*s;e.width=n,e.height=n,t.beginPath(),t.arc(s,s,s,0,2*Math.PI),t.fillStyle="eraser"===l?"#ffffff":o,t.fill();const r=e.toDataURL();Object.values(i.current).forEach(e=>{e&&(e.style.cursor="url(".concat(r,") ").concat(s," ").concat(s,", crosshair"))})},[o,s,l]),(0,r.useEffect)(()=>{const e=()=>{t.forEach(e=>{const t=i.current[e.id];if(!t)return;const n=t.parentElement,r=t.toDataURL();t.width=n.clientWidth,t.height=n.clientHeight;const a=t.getContext("2d"),o=new Image;o.src=r,o.onload=()=>a.drawImage(o,0,0)})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),(0,ua.jsxs)("div",{style:{position:"relative",flex:1},children:[t.map(e=>(0,ua.jsx)("canvas",{ref:t=>i.current[e.id]=t,style:{position:"absolute",inset:0,display:e.visible?"block":"none"},onMouseDown:t=>k(t,e.id),onMouseUp:()=>_(e.id),onMouseOut:()=>_(e.id),onMouseMove:t=>S(t,e.id)},e.id)),u&&(0,ua.jsx)("div",{style:{position:"absolute",border:"1px dashed #00f",left:u.x,top:u.y,width:u.w,height:u.h,pointerEvents:"none"}}),h&&(0,ua.jsx)("canvas",{ref:b,width:h.img.width,height:h.img.height,style:{position:"absolute",left:h.x,top:h.y,cursor:"move"},onMouseDown:e=>{h&&(w.current=!0,x.current={x:e.clientX-h.x,y:e.clientY-h.y})}})]})},qi=e=>{let{layers:t,activeLayerId:n,onSelect:a,onAdd:i,onDelete:o,onRename:s,onToggleVisibility:l}=e;const[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)("");return(0,ua.jsxs)("div",{style:{width:180,background:"#f4f4f4",borderRight:"1px solid #ccc",padding:8,display:"flex",flexDirection:"column",gap:8},children:[(0,ua.jsx)("button",{onClick:i,children:"+ Add Layer"}),t.map(e=>(0,ua.jsx)("div",{onClick:()=>a(e.id),style:{padding:8,background:e.id===n?"#ddd":"#fff",border:"1px solid #ccc",cursor:"pointer"},children:(0,ua.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,ua.jsx)("span",{onClick:t=>{t.stopPropagation(),l(e.id)},children:e.visible?"\ud83d\udc41":"\ud83d\udeab"}),c===e.id?(0,ua.jsx)("input",{value:d,onChange:e=>h(e.target.value),onBlur:()=>{s(e.id,d),u(null)},autoFocus:!0}):(0,ua.jsx)("span",{onDoubleClick:()=>{u(e.id),h(e.name)},children:e.name}),(0,ua.jsx)("span",{onClick:t=>{t.stopPropagation(),o(e.id)},children:"\ud83d\uddd1"})]})},e.id))]})};async function Hi(e){const{data:t,error:n}=await dr.from("profiles").select("*").eq("id",e).single();if(n)throw n;return t}async function Vi(e){const{data:t,error:n}=await dr.from("friends").select("id, requester_id, addressee_id, status, created_at").or("requester_id.eq.".concat(e,",addressee_id.eq.").concat(e));if(n)throw n;return t||[]}const Ki=e=>{let{currentUser:t}=e;const[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)({}),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)(""),[g,m]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(""),[x,k]=(0,r.useState)([]),[S,_]=(0,r.useState)(!1),E=!b.trim()||!t,j=(0,r.useMemo)(()=>[...n].sort((e,t)=>"accepted"===e.status&&"accepted"!==t.status?-1:"accepted"!==e.status&&"accepted"===t.status?1:(e.created_at||"").localeCompare(t.created_at||"")),[n]),C=(0,r.useMemo)(()=>t?n.map(e=>e.requester_id===t.id?e.addressee_id:e.requester_id):[],[n,t]);(0,r.useEffect)(()=>{t&&(m(!0),Vi(t.id).then(a).catch(console.error).finally(()=>m(!1)))},[t]),(0,r.useEffect)(()=>{C.length>0?async function(){const e={};for(const t of C){if(!t)continue;const n=await Hi(t);e[t]=n}o(e)}():o({})},[C]),(0,r.useEffect)(()=>{if(!s)return;v(!0),h([]);let e=()=>{};return(async()=>{try{const t=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;const{data:r,error:a}=await dr.from("messages").select("*").eq("channel_type",e).eq("channel_id",t).order("created_at",{ascending:!0}).limit(n);if(a)throw a;return r}(s.type,s.id,200);h(t),e=function(e,t,n){const r=dr.channel("messages-".concat(e,"-").concat(t)).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:"channel_type=eq.".concat(e,",channel_id=eq.").concat(t)},e=>{n(e.new)}).subscribe();return()=>{dr.removeChannel(r)}}(s.type,s.id,e=>h(t=>[...t,e]))}catch(t){console.error(t)}finally{v(!1)}})(),()=>e()},[s]);const T=async e=>{if(!t)return;const n=e.requester_id===t.id?e.addressee_id:e.requester_id;try{const e=await async function(e,t){const[n,r]=[e,t].sort(),{data:a,error:i}=await dr.from("dm_channels").select("*").or("and(user_a.eq.".concat(n,",user_b.eq.").concat(r,"),and(user_a.eq.").concat(r,",user_b.eq.").concat(n,")")).maybeSingle();if(i)throw i;if(a)return a;const{data:o,error:s}=await dr.from("dm_channels").insert({user_a:n,user_b:r}).select().single();if(s)throw s;return o}(t.id,n);l({type:"dm",id:e.id,peerId:n});const r=i[n]||await Hi(n);u(r)}catch(r){console.error(r)}},O=async()=>{if(!t||!s||!f.trim())return;const e=f.trim();p("");try{await async function(e){let{senderId:t,channelType:n,channelId:r,content:a}=e;const{data:i,error:o}=await dr.from("messages").insert({sender_id:t,channel_type:n,channel_id:r,content:a}).select().single();if(o)throw o;return i}({senderId:t.id,channelType:s.type,channelId:s.id,content:e})}catch(n){console.error(n)}},R=async e=>{if(t)try{await async function(e,t){const{data:n,error:r}=await dr.from("friends").update({status:"accepted"}).eq("id",e).eq("addressee_id",t).select().single();if(r)throw r;return n}(e,t.id);const n=await Vi(t.id);a(n)}catch(n){console.error(n)}},P=async e=>{if(t){_(!0);try{await async function(e,t){const{data:n,error:r}=await dr.from("friends").insert({requester_id:e,addressee_id:t,status:"pending"}).select().single();if(r)throw r;return n}(t.id,e);const n=await Vi(t.id);a(n),k([]),w("")}catch(n){console.error(n)}finally{_(!1)}}};return(0,ua.jsxs)("div",{style:{display:"flex",height:"100%",background:"#303047a8",color:"#e5e7eb",fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"18px"},children:[(0,ua.jsxs)("div",{style:{width:220,borderRight:"2px double #1f2933",display:"flex",flexDirection:"column"},children:[(0,ua.jsx)("div",{style:{padding:"6px 8px",borderBottom:"1px solid #1f2933",fontWeight:600,fontSize:"14px"},children:"Friends & DMs"}),(0,ua.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b.trim())try{const e=await async function(e){const{data:t,error:n}=await dr.from("profiles").select("*").ilike("username","%".concat(e,"%")).limit(20);if(n)throw n;return t}(b.trim());k(e)}catch(e){console.error(e)}},style:{padding:"8px 12px"},children:[(0,ua.jsx)("div",{style:{fontSize:"11px",marginBottom:4,opacity:.7},children:"Search by username"}),(0,ua.jsxs)("div",{style:{display:"flex",gap:6},children:[(0,ua.jsx)("input",{value:b,onChange:e=>w(e.target.value),placeholder:"Search username...",style:{flex:1,background:"#020617",borderRadius:4,border:"1px solid #1f2933",padding:"4px 6px",color:"#e5e7eb",fontSize:"12px",outline:"none"}}),(0,ua.jsx)("button",{type:"submit",disabled:E,style:{padding:"4px 8px",borderRadius:4,border:"none",background:E?"#1f2937":"#2563eb",color:"#e5e7eb",fontSize:"12px",cursor:E?"default":"pointer"},children:"Go"})]}),x.length>0&&(0,ua.jsx)("div",{style:{marginTop:8},children:x.map(e=>(0,ua.jsxs)("div",{style:{padding:"6px 8px",background:"#0a0a12",borderRadius:4,marginBottom:4},children:[(0,ua.jsx)("div",{style:{fontWeight:600},children:e.display_name||e.username}),(0,ua.jsxs)("div",{style:{opacity:.6,fontSize:"12px"},children:["@",e.username]}),(0,ua.jsx)("button",{onClick:()=>P(e.id),disabled:S,style:{marginTop:4,padding:"3px 6px",borderRadius:3,border:"none",background:"#2563eb",color:"#fff",fontSize:"11px",cursor:S?"default":"pointer",opacity:S?.7:1},children:S?"Sending\u2026":"Add Friend"})]},e.id))})]}),(0,ua.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"6px 8px",display:"flex",flexDirection:"column",gap:4},children:[g&&(0,ua.jsx)("div",{style:{fontSize:"11px",opacity:.6,padding:"4px 2px"},children:"Loading friends\u2026"}),!g&&0===j.length&&(0,ua.jsx)("div",{style:{fontSize:"11px",opacity:.6,padding:"4px 2px"},children:"No friends yet. Search and add one above to start a DM."}),j.map(e=>{const n=e.requester_id===t.id?e.addressee_id:e.requester_id,r=i[n],a="accepted"===e.status,o="pending"===e.status&&e.addressee_id===t.id;return(0,ua.jsxs)("div",{style:{padding:"6px 8px",borderRadius:4,background:"#020617",border:"1px solid #111827",display:"flex",flexDirection:"column",gap:2},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ua.jsx)("span",{style:{fontSize:"12px"},children:r?r.display_name||r.username:"Loading\u2026"}),(0,ua.jsx)("span",{style:{fontSize:"11px",textTransform:"uppercase",opacity:.7},children:e.status})]}),(0,ua.jsxs)("div",{style:{display:"flex",gap:4,marginTop:4},children:[a&&(0,ua.jsx)("button",{onClick:()=>T(e),style:{flex:1,padding:"3px 6px",borderRadius:3,border:"none",background:"#111827",color:"#e5e7eb",fontSize:"11px",cursor:"pointer"},children:"Open DM"}),o&&(0,ua.jsx)("button",{onClick:()=>R(e.id),style:{flex:1,padding:"3px 6px",borderRadius:3,border:"none",background:"#16a34a",color:"#e5e7eb",fontSize:"11px",cursor:"pointer"},children:"Accept"}),!a&&!o&&(0,ua.jsx)("span",{style:{fontSize:"11px",opacity:.6},children:"Waiting\u2026"})]})]},e.id)})]})]}),(0,ua.jsxs)("div",{style:{flex:1,display:"fill",flexDirection:"column"},children:[(0,ua.jsx)("div",{style:{padding:"10px 12px",borderBottom:"1px solid #1f2933",fontSize:"13px"},children:c?"".concat(c.display_name||c.username," (@").concat(c.username,")"):"Select a friend to start chatting"}),(0,ua.jsxs)("div",{style:{flex:1,padding:"8px 12px",overflowY:"auto"},children:[y&&s&&(0,ua.jsx)("div",{style:{fontSize:"12px",opacity:.6,marginBottom:8},children:"Loading messages\u2026"}),!s&&(0,ua.jsx)("div",{style:{fontSize:"12px",opacity:.6},children:"Open a friend from the left to begin chatting."}),d.map(e=>{const n=e.sender_id===t.id,r=n?t:i[e.sender_id]||c;return(0,ua.jsx)("div",{style:{display:"flex",justifyContent:n?"flex-end":"flex-start",marginBottom:4},children:(0,ua.jsxs)("div",{style:{maxWidth:"60%",padding:"6px 8px",borderRadius:6,background:n?"#1d4ed8":"#111827",color:"#e5e7eb",fontSize:"12px"},children:[(0,ua.jsx)("div",{style:{fontSize:"10px",opacity:.7,marginBottom:2},children:n?"You":r&&(r.display_name||r.username)||e.sender_id.slice(0,8)}),e.content]})},e.id)})]}),s&&(0,ua.jsxs)("div",{style:{borderTop:"1px solid #1f2933",padding:"8px 12px",display:"flex",gap:8},children:[(0,ua.jsx)("input",{value:f,onChange:e=>p(e.target.value),onKeyDown:e=>"Enter"===e.key&&O(),placeholder:"Type a message...",style:{flex:1,background:"#020617",borderRadius:4,border:"1px solid #1f2933",padding:"6px 8px",color:"#e5e7eb",fontSize:"13px"}}),(0,ua.jsx)("button",{onClick:O,disabled:!f.trim(),style:{padding:"6px 12px",borderRadius:4,border:"none",background:f.trim()?"#2563eb":"#1f2937",color:"#e5e7eb",fontSize:"13px",cursor:f.trim()?"pointer":"default"},children:"Send"})]})]})]})},$i={code:{Component:Di,icon:ga,title:"Codex | IDE",name:"Codex",defaultSize:{minwidth:1800,minheight:1600},resizable:!0},canvas:{Component:()=>{const[e,t]=(0,r.useState)([{id:crypto.randomUUID(),name:"Layer 1",visible:!0}]),[n,a]=(0,r.useState)(e[0].id),[i,o]=(0,r.useState)("#000000"),[s,l]=(0,r.useState)(4),[u,d]=(0,r.useState)("brush"),h=(0,r.useRef)(null),[f,p]=(0,r.useState)(null),[g,m]=(0,r.useState)(null),y=(0,r.useRef)({}),v=(0,r.useRef)({}),b=()=>{const n={id:crypto.randomUUID(),name:"Layer ".concat(e.length+1),visible:!0};t(e=>[...e,n]),a(n.id)};return(0,ua.jsxs)("div",{style:{display:"flex",height:"100%"},children:[(0,ua.jsx)(qi,{layers:e,activeLayerId:n,onSelect:a,onAdd:b,onDelete:r=>{if(1!==e.length&&(t(e=>e.filter(e=>e.id!==r)),n===r)){const t=e.filter(e=>e.id!==r);a(t[t.length-1].id)}},onRename:(e,n)=>{t(t=>t.map(t=>t.id===e?c(c({},t),{},{name:n}):t))},onToggleVisibility:e=>{t(t=>t.map(t=>t.id===e?c(c({},t),{},{visible:!t.visible}):t))}}),(0,ua.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,ua.jsx)(Wi,{onCopy:()=>(()=>{if(!f)return;const e=v.current[n].getContext("2d").getImageData(f.x,f.y,f.w,f.h);h.current=e})(),onPaste:()=>(()=>{if(!h.current)return;const e=document.createElement("canvas");e.width=h.current.width,e.height=h.current.height,e.getContext("2d").putImageData(h.current,0,0),m({img:e,x:50,y:50})})(),color:i,size:s,tool:u,onColorChange:o,onSizeChange:l,onToolChange:d,onUndo:()=>{const e=y.current[n];if(e&&e.length>0){const t=e.pop(),r=v.current[n].getContext("2d"),a=new Image;a.src=t,a.onload=()=>{r.clearRect(0,0,r.canvas.width,r.canvas.height),r.drawImage(a,0,0)}}},onAddLayer:b,layers:e,canvasRefs:v}),(0,ua.jsx)(Bi,{layers:e,activeLayerId:n,undoStacks:y,canvasRefs:v,color:i,size:s,tool:u,clipboard:h,selection:f,setSelection:p,pasted:g,setPasted:m})]})]})},icon:ma,title:"Sketchy | Creator Core",name:"Sketchy",defaultSize:{minwidth:1800,minheight:1600},resizable:!0,singleton:!1},text:{Component:Da,icon:ya,title:"AirWrite | Rich Text Editing",name:"AirWrite"},chat:{Component:Ki,icon:v,title:"AirChat | Messaging and Circles",name:"AirChat"},files:{Component:Ka,icon:va,title:"File Manager",name:"File Manager"},fileswap:{Component:Fi,icon:ba,title:"AnySwap | File Conversion Tool",name:"AnySwap"},image:{Component:ri,icon:wa,title:"AfterImage | Photo App & Editor",name:"AfterImage"},video:{Component:fi,icon:xa,title:"AirStream Media Player",name:"Airstream Player"},browser:{Component:()=>{var e;const[t,n]=(0,r.useState)([Ei(ji)]),[a,i]=(0,r.useState)(t[0].id),o=null!==(e=t.find(e=>e.id===a))&&void 0!==e?e:t[0];return o?(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",background:"white"},children:[(0,ua.jsx)(Si,{tabs:t,activeTabId:a,onSelect:i,onNewTab:()=>{const e=Ei(ji);n(t=>[...t,e]),i(e.id)},onCloseTab:e=>{n(t=>{const n=t.filter(t=>t.id!==e);if(0===n.length){const e=Ei(ji);return i(e.id),[e]}return e===a&&i(n[n.length-1].id),n})}}),(0,ua.jsx)(ki,{currentUrl:o.url,onNavigate:e=>((e,t)=>{const r=gi(t);if("invalid"===r.type)return;const a=r.normalized;n(t=>t.map(t=>t.id===e?c(c({},t),{},{url:a}):t)),xi.add(a)})(o.id,e)}),(0,ua.jsx)(_i,{url:o.url})]}):null},icon:ka,title:"KruxBrowser",name:"KruxBrowser"},calendar:{Component:Ti,icon:Sa,title:"Calendar",name:"Calendar"},terminal:{Component:Oi,icon:_a,title:"Terminal",name:"Terminal"}},Gi={productivity:{name:"Productivity",icon:"\ud83d\udcbc",apps:["text","files","fileswap","calendar","terminal","chat"]},creativity:{name:"Creativity",icon:"\ud83c\udfa8",apps:["image","canvas"]},developertools:{name:"Developer Tools",icon:"###",apps:["code","terminal"]},entertainment:{name:"Entertainment",icon:"\ud83c\udfae",apps:["video","browser"]}},Ji=[{name:"Sketchy",icon:ma,app:"canvas"},{name:"File Manager",icon:va,app:"files"},{name:"AirChat",icon:v,app:"chat"},{name:"KruxBrowser",icon:ka,app:"browser"},{name:"Terminal",icon:_a,app:"terminal"},{name:"Codex",icon:ga,app:"code"},{name:"AnySwap",icon:ba,app:"fileswap"}];function Yi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Qi="-ms-",Xi="-moz-",Zi="-webkit-",eo="comm",to="rule",no="decl",ro="@keyframes",ao=Math.abs,io=String.fromCharCode,oo=Object.assign;function so(e){return e.trim()}function lo(e,t){return(e=t.exec(e))?e[0]:e}function co(e,t,n){return e.replace(t,n)}function uo(e,t,n){return e.indexOf(t,n)}function ho(e,t){return 0|e.charCodeAt(t)}function fo(e,t,n){return e.slice(t,n)}function po(e){return e.length}function go(e){return e.length}function mo(e,t){return t.push(e),e}function yo(e,t){return e.filter(function(e){return!lo(e,t)})}var vo=1,bo=1,wo=0,xo=0,ko=0,So="";function _o(e,t,n,r,a,i,o,s){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:vo,column:bo,length:o,return:"",siblings:s}}function Eo(e,t){return oo(_o("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function jo(e){for(;e.root;)e=Eo(e.root,{children:[e]});mo(e,e.siblings)}function Co(){return ko=xo>0?ho(So,--xo):0,bo--,10===ko&&(bo=1,vo--),ko}function To(){return ko=xo<wo?ho(So,xo++):0,bo++,10===ko&&(bo=1,vo++),ko}function Oo(){return ho(So,xo)}function Ro(){return xo}function Po(e,t){return fo(So,e,t)}function Ao(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Io(e){return vo=bo=1,wo=po(So=e),xo=0,[]}function zo(e){return So="",e}function No(e){return so(Po(xo-1,Mo(91===e?e+2:40===e?e+1:e)))}function Lo(e){for(;(ko=Oo())&&ko<33;)To();return Ao(e)>2||Ao(ko)>3?"":" "}function Do(e,t){for(;--t&&To()&&!(ko<48||ko>102||ko>57&&ko<65||ko>70&&ko<97););return Po(e,Ro()+(t<6&&32==Oo()&&32==To()))}function Mo(e){for(;To();)switch(ko){case e:return xo;case 34:case 39:34!==e&&39!==e&&Mo(ko);break;case 40:41===e&&Mo(e);break;case 92:To()}return xo}function Uo(e,t){for(;To()&&e+ko!==57&&(e+ko!==84||47!==Oo()););return"/*"+Po(t,xo-1)+"*"+io(47===e?e:To())}function Fo(e){for(;!Ao(Oo());)To();return Po(e,xo)}function Wo(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Bo(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case no:return e.return=e.return||e.value;case eo:return"";case ro:return e.return=e.value+"{"+Wo(e.children,r)+"}";case to:if(!po(e.value=e.props.join(",")))return""}return po(n=Wo(e.children,r))?e.return=e.value+"{"+n+"}":""}function qo(e,t,n){switch(function(e,t){return 45^ho(e,0)?(((t<<2^ho(e,0))<<2^ho(e,1))<<2^ho(e,2))<<2^ho(e,3):0}(e,t)){case 5103:return Zi+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return Zi+e+e;case 4855:return Zi+e.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+e;case 4789:return Xi+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Zi+e+Xi+e+Qi+e+e;case 5936:switch(ho(e,t+11)){case 114:return Zi+e+Qi+co(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Zi+e+Qi+co(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Zi+e+Qi+co(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Zi+e+Qi+e+e;case 6165:return Zi+e+Qi+"flex-"+e+e;case 5187:return Zi+e+co(e,/(\w+).+(:[^]+)/,Zi+"box-$1$2"+Qi+"flex-$1$2")+e;case 5443:return Zi+e+Qi+"flex-item-"+co(e,/flex-|-self/g,"")+(lo(e,/flex-|baseline/)?"":Qi+"grid-row-"+co(e,/flex-|-self/g,""))+e;case 4675:return Zi+e+Qi+"flex-line-pack"+co(e,/align-content|flex-|-self/g,"")+e;case 5548:return Zi+e+Qi+co(e,"shrink","negative")+e;case 5292:return Zi+e+Qi+co(e,"basis","preferred-size")+e;case 6060:return Zi+"box-"+co(e,"-grow","")+Zi+e+Qi+co(e,"grow","positive")+e;case 4554:return Zi+co(e,/([^-])(transform)/g,"$1"+Zi+"$2")+e;case 6187:return co(co(co(e,/(zoom-|grab)/,Zi+"$1"),/(image-set)/,Zi+"$1"),e,"")+e;case 5495:case 3959:return co(e,/(image-set\([^]*)/,Zi+"$1$`$1");case 4968:return co(co(e,/(.+:)(flex-)?(.*)/,Zi+"box-pack:$3"+Qi+"flex-pack:$3"),/space-between/,"justify")+Zi+e+e;case 4200:if(!lo(e,/flex-|baseline/))return Qi+"grid-column-align"+fo(e,t)+e;break;case 2592:case 3360:return Qi+co(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(e,n){return t=n,lo(e.props,/grid-\w+-end/)})?~uo(e+(n=n[t].value),"span",0)?e:Qi+co(e,"-start","")+e+Qi+"grid-row-span:"+(~uo(n,"span",0)?lo(n,/\d+/):+lo(n,/\d+/)-+lo(e,/\d+/))+";":Qi+co(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(e){return lo(e.props,/grid-\w+-start/)})?e:Qi+co(co(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return co(e,/(.+)-inline(.+)/,Zi+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(po(e)-1-t>6)switch(ho(e,t+1)){case 109:if(45!==ho(e,t+4))break;case 102:return co(e,/(.+:)(.+)-([^]+)/,"$1"+Zi+"$2-$3$1"+Xi+(108==ho(e,t+3)?"$3":"$2-$3"))+e;case 115:return~uo(e,"stretch",0)?qo(co(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return co(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(t,n,r,a,i,o,s){return Qi+n+":"+r+s+(a?Qi+n+"-span:"+(i?o:+o-+r)+s:"")+e});case 4949:if(121===ho(e,t+6))return co(e,":",":"+Zi)+e;break;case 6444:switch(ho(e,45===ho(e,14)?18:11)){case 120:return co(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Zi+(45===ho(e,14)?"inline-":"")+"box$3$1"+Zi+"$2$3$1"+Qi+"$2box$3")+e;case 100:return co(e,":",":"+Qi)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return co(e,"scroll-","scroll-snap-")+e}return e}function Ho(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case no:return void(e.return=qo(e.value,e.length,n));case ro:return Wo([Eo(e,{value:co(e.value,"@","@"+Zi)})],r);case to:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,function(t){switch(lo(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":jo(Eo(e,{props:[co(t,/:(read-\w+)/,":-moz-$1")]})),jo(Eo(e,{props:[t]})),oo(e,{props:yo(n,r)});break;case"::placeholder":jo(Eo(e,{props:[co(t,/:(plac\w+)/,":"+Zi+"input-$1")]})),jo(Eo(e,{props:[co(t,/:(plac\w+)/,":-moz-$1")]})),jo(Eo(e,{props:[co(t,/:(plac\w+)/,Qi+"input-$1")]})),jo(Eo(e,{props:[t]})),oo(e,{props:yo(n,r)})}return""})}}function Vo(e){return zo(Ko("",null,null,null,[""],e=Io(e),0,[0],e))}function Ko(e,t,n,r,a,i,o,s,l){for(var c=0,u=0,d=o,h=0,f=0,p=0,g=1,m=1,y=1,v=0,b="",w=a,x=i,k=r,S=b;m;)switch(p=v,v=To()){case 40:if(108!=p&&58==ho(S,d-1)){-1!=uo(S+=co(No(v),"&","&\f"),"&\f",ao(c?s[c-1]:0))&&(y=-1);break}case 34:case 39:case 91:S+=No(v);break;case 9:case 10:case 13:case 32:S+=Lo(p);break;case 92:S+=Do(Ro()-1,7);continue;case 47:switch(Oo()){case 42:case 47:mo(Go(Uo(To(),Ro()),t,n,l),l),5!=Ao(p||1)&&5!=Ao(Oo()||1)||!po(S)||" "===fo(S,-1,void 0)||(S+=" ");break;default:S+="/"}break;case 123*g:s[c++]=po(S)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+u:-1==y&&(S=co(S,/\f/g,"")),f>0&&(po(S)-d||0===g&&47===p)&&mo(f>32?Jo(S+";",r,n,d-1,l):Jo(co(S," ","")+";",r,n,d-2,l),l);break;case 59:S+=";";default:if(mo(k=$o(S,t,n,c,u,a,s,b,w=[],x=[],d,i),i),123===v)if(0===u)Ko(S,t,k,k,w,i,d,s,x);else{switch(h){case 99:if(110===ho(S,3))break;case 108:if(97===ho(S,2))break;default:u=0;case 100:case 109:case 115:}u?Ko(e,k,k,r&&mo($o(e,k,k,0,0,a,s,b,a,w=[],d,x),x),a,x,d,s,r?w:x):Ko(S,k,k,k,[""],x,0,s,x)}}c=u=f=0,g=y=1,b=S="",d=o;break;case 58:d=1+po(S),f=p;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==Co())continue;switch(S+=io(v),v*g){case 38:y=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(po(S)-1)*y,y=1;break;case 64:45===Oo()&&(S+=No(To())),h=Oo(),u=d=po(b=S+=Fo(Ro())),v++;break;case 45:45===p&&2==po(S)&&(g=0)}}return i}function $o(e,t,n,r,a,i,o,s,l,c,u,d){for(var h=a-1,f=0===a?i:[""],p=go(f),g=0,m=0,y=0;g<r;++g)for(var v=0,b=fo(e,h+1,h=ao(m=o[g])),w=e;v<p;++v)(w=so(m>0?f[v]+" "+b:co(b,/&\f/g,f[v])))&&(l[y++]=w);return _o(e,t,n,0===a?to:s,l,c,u,d)}function Go(e,t,n,r){return _o(e,t,n,eo,io(ko),fo(e,2,-2),0,r)}function Jo(e,t,n,r,a){return _o(e,t,n,no,fo(e,0,r),fo(e,r+1,-1),r,a)}var Yo={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qo="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Xo="active",Zo="data-styled-version",es="6.3.5",ts="/*!sc*/\n",ns="undefined"!=typeof window&&"undefined"!=typeof document,rs=void 0===r.createContext,as=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),is=(new Set,Object.freeze([])),os=Object.freeze({});function ss(e,t,n){return void 0===n&&(n=os),e.theme!==n.theme&&e.theme||t||n.theme}var ls=new Set(["a","abbr","address","area","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","slot","small","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tspan","use"]),cs=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,us=/(^-|-$)/g;function ds(e){return e.replace(cs,"-").replace(us,"")}var hs=/(a)(d)/gi,fs=function(e){return String.fromCharCode(e+(e>25?39:97))};function ps(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=fs(t%52)+n;return(fs(t%52)+n).replace(hs,"$1-$2")}var gs,ms=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},ys=function(e){return ms(5381,e)};function vs(e){return ps(ys(e)>>>0)}function bs(e){return e.displayName||e.name||"Component"}function ws(e){return"string"==typeof e&&!0}var xs="function"==typeof Symbol&&Symbol.for,ks=xs?Symbol.for("react.memo"):60115,Ss=xs?Symbol.for("react.forward_ref"):60112,_s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Es={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},js={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Cs=((gs={})[Ss]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gs[ks]=js,gs);function Ts(e){return("type"in(t=e)&&t.type.$$typeof)===ks?js:"$$typeof"in e?Cs[e.$$typeof]:_s;var t}var Os=Object.defineProperty,Rs=Object.getOwnPropertyNames,Ps=Object.getOwnPropertySymbols,As=Object.getOwnPropertyDescriptor,Is=Object.getPrototypeOf,zs=Object.prototype;function Ns(e,t,n){if("string"!=typeof t){if(zs){var r=Is(t);r&&r!==zs&&Ns(e,r,n)}var a=Rs(t);Ps&&(a=a.concat(Ps(t)));for(var i=Ts(e),o=Ts(t),s=0;s<a.length;++s){var l=a[s];if(!(l in Es||n&&n[l]||o&&l in o||i&&l in i)){var c=As(t,l);try{Os(e,l,c)}catch(e){}}}}return e}function Ls(e){return"function"==typeof e}function Ds(e){return"object"==typeof e&&"styledComponentId"in e}function Ms(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Us(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Fs(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function Ws(e,t,n){if(void 0===n&&(n=!1),!n&&!Fs(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=Ws(e[r],t[r]);else if(Fs(t))for(var r in t)e[r]=Ws(e[r],t[r]);return e}function Bs(e,t){Object.defineProperty(e,"toString",{value:t})}function qs(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Hs=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,a=r;e>=a;)if((a<<=1)<0)throw qs(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var i=r;i<a;i++)this.groupSizes[i]=0}for(var o=this.indexOfGroup(e+1),s=(i=0,t.length);i<s;i++)this.tag.insertRule(o,t[i])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var a=n;a<r;a++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),a=r+n,i=r;i<a;i++)t+="".concat(this.tag.getRule(i)).concat(ts);return t},e}(),Vs=new Map,Ks=new Map,$s=1,Gs=function(e){if(Vs.has(e))return Vs.get(e);for(;Ks.has($s);)$s++;var t=$s++;return Vs.set(e,t),Ks.set(t,e),t},Js=function(e,t){$s=t+1,Vs.set(e,t),Ks.set(t,e)},Ys="style[".concat(Qo,"][").concat(Zo,'="').concat(es,'"]'),Qs=new RegExp("^".concat(Qo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Xs=function(e,t,n){for(var r,a=n.split(","),i=0,o=a.length;i<o;i++)(r=a[i])&&e.registerName(t,r)},Zs=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(ts),a=[],i=0,o=r.length;i<o;i++){var s=r[i].trim();if(s){var l=s.match(Qs);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(Js(u,c),Xs(e,u,l[3]),e.getTag().insertRules(c,a)),a.length=0}else a.push(s)}}},el=function(e){for(var t=document.querySelectorAll(Ys),n=0,r=t.length;n<r;n++){var a=t[n];a&&a.getAttribute(Qo)!==Xo&&(Zs(e,a),a.parentNode&&a.parentNode.removeChild(a))}};function tl(){return n.nc}var nl=function(e){var t=document.head,n=e||t,r=document.createElement("style"),a=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Qo,"]")));return t[t.length-1]}(n),i=void 0!==a?a.nextSibling:null;r.setAttribute(Qo,Xo),r.setAttribute(Zo,es);var o=tl();return o&&r.setAttribute("nonce",o),n.insertBefore(r,i),r},rl=function(){function e(e){this.element=nl(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var a=t[n];if(a.ownerNode===e)return a}throw qs(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),al=function(){function e(e){this.element=nl(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),il=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),ol=ns,sl={isServer:!ns,useCSSOMInjection:!as},ll=function(){function e(e,t,n){void 0===e&&(e=os),void 0===t&&(t={});var r=this;this.options=b(b({},sl),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&ns&&ol&&(ol=!1,el(this)),Bs(this,function(){return function(e){for(var t=e.getTag(),n=t.length,r="",a=function(n){var a=function(e){return Ks.get(e)}(n);if(void 0===a)return"continue";var i=e.names.get(a),o=t.getGroup(n);if(void 0===i||!i.size||0===o.length)return"continue";var s="".concat(Qo,".g").concat(n,'[id="').concat(a,'"]'),l="";void 0!==i&&i.forEach(function(e){e.length>0&&(l+="".concat(e,","))}),r+="".concat(o).concat(s,'{content:"').concat(l,'"}').concat(ts)},i=0;i<n;i++)a(i);return r}(r)})}return e.registerId=function(e){return Gs(e)},e.prototype.rehydrate=function(){!this.server&&ns&&el(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(b(b({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new il(n):t?new rl(n):new al(n)}(this.options),new Hs(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Gs(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Gs(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Gs(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),cl=/&/g,ul=47;function dl(e){if(-1===e.indexOf("}"))return!1;for(var t=e.length,n=0,r=0,a=!1,i=0;i<t;i++){var o=e.charCodeAt(i);if(0!==r||a||o!==ul||42!==e.charCodeAt(i+1))if(a)42===o&&e.charCodeAt(i+1)===ul&&(a=!1,i++);else if(34!==o&&39!==o||0!==i&&92===e.charCodeAt(i-1)){if(0===r)if(123===o)n++;else if(125===o&&--n<0)return!0}else 0===r?r=o:r===o&&(r=0);else a=!0,i++}return 0!==n||0!==r}function hl(e,t){return e.map(function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(e){return"".concat(t," ").concat(e)})),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=hl(e.children,t)),e})}function fl(e){var t,n,r,a=void 0===e?os:e,i=a.options,o=void 0===i?os:i,s=a.plugins,l=void 0===s?is:s,c=function(e,r,a){return a.startsWith(n)&&a.endsWith(n)&&a.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push(function(e){e.type===to&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(cl,n).replace(r,c))}),o.prefix&&u.push(Ho),u.push(Bo);var d=function(e,a,i,s){void 0===a&&(a=""),void 0===i&&(i=""),void 0===s&&(s="&"),t=s,n=a,r=new RegExp("\\".concat(n,"\\b"),"g");var l=function(e){if(!dl(e))return e;for(var t=e.length,n="",r=0,a=0,i=0,o=!1,s=0;s<t;s++){var l=e.charCodeAt(s);if(0!==i||o||l!==ul||42!==e.charCodeAt(s+1))if(o)42===l&&e.charCodeAt(s+1)===ul&&(o=!1,s++);else if(34!==l&&39!==l||0!==s&&92===e.charCodeAt(s-1)){if(0===i)if(123===l)a++;else if(125===l){if(--a<0){for(var c=s+1;c<t;){var u=e.charCodeAt(c);if(59===u||10===u)break;c++}c<t&&59===e.charCodeAt(c)&&c++,a=0,s=c-1,r=c;continue}0===a&&(n+=e.substring(r,s+1),r=s+1)}else 59===l&&0===a&&(n+=e.substring(r,s+1),r=s+1)}else 0===i?i=l:i===l&&(i=0);else o=!0,s++}if(r<t){var d=e.substring(r);dl(d)||(n+=d)}return n}(function(e){if(-1===e.indexOf("//"))return e;for(var t=e.length,n=[],r=0,a=0,i=0;a<t;){var o=e.charCodeAt(a);if(34!==o&&39!==o||0!==a&&92===e.charCodeAt(a-1))if(0===i)if(o!==ul||e.charCodeAt(a+1)!==ul)a++;else{for(a>r&&n.push(e.substring(r,a));a<t&&10!==e.charCodeAt(a);)a++;r=a}else a++;else 0===i?i=o:i===o&&(i=0),a++}return 0===r?e:(r<t&&n.push(e.substring(r)),n.join(""))}(e)),c=Vo(i||a?"".concat(i," ").concat(a," { ").concat(l," }"):l);o.namespace&&(c=hl(c,o.namespace));var d,h=[];return Wo(c,function(e){var t=go(e);return function(n,r,a,i){for(var o="",s=0;s<t;s++)o+=e[s](n,r,a,i)||"";return o}}(u.concat((d=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),h};return d.hash=l.length?l.reduce(function(e,t){return t.name||qs(15),ms(e,t.name)},5381).toString():"",d}var pl=new ll,gl=fl(),ml={shouldForwardProp:void 0,styleSheet:pl,stylis:gl},yl=rs?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(ml)}}:r.createContext(ml),vl=(yl.Consumer,rs?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(void 0)}}:r.createContext(void 0));function bl(){return!rs&&r.useContext?r.useContext(yl):ml}function wl(e){if(rs||!r.useMemo)return e.children;var t=bl().styleSheet,n=r.useMemo(function(){var n=t;return e.sheet?n=e.sheet:e.target&&(n=n.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(n=n.reconstructWithOptions({useCSSOMInjection:!1})),n},[e.disableCSSOMInjection,e.sheet,e.target,t]),a=r.useMemo(function(){return fl({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:e.stylisPlugins})},[e.enableVendorPrefixes,e.namespace,e.stylisPlugins]),i=r.useMemo(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:n,stylis:a}},[e.shouldForwardProp,n,a]);return r.createElement(yl.Provider,{value:i},r.createElement(vl.Provider,{value:a},e.children))}var xl=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=gl);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Bs(this,function(){throw qs(12,String(n.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=gl),this.name+e.hash},e}();function kl(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||e in Yo||e.startsWith("--")?String(t).trim():"".concat(t,"px")}var Sl=function(e){return e>="A"&&e<="Z"};function _l(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;Sl(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var El=function(e){return null==e||!1===e||""===e},jl=function(e){var t=[];for(var n in e){var r=e[n];e.hasOwnProperty(n)&&!El(r)&&(Array.isArray(r)&&r.isCss||Ls(r)?t.push("".concat(_l(n),":"),r,";"):Fs(r)?t.push.apply(t,k(k(["".concat(n," {")],jl(r),!1),["}"],!1)):t.push("".concat(_l(n),": ").concat(kl(n,r),";")))}return t};function Cl(e,t,n,r){return El(e)?[]:Ds(e)?[".".concat(e.styledComponentId)]:Ls(e)?!Ls(a=e)||a.prototype&&a.prototype.isReactComponent||!t?[e]:Cl(e(t),t,n,r):e instanceof xl?n?(e.inject(n,r),[e.getName(r)]):[e]:Fs(e)?jl(e):Array.isArray(e)?Array.prototype.concat.apply(is,e.map(function(e){return Cl(e,t,n,r)})):[e.toString()];var a}function Tl(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Ls(n)&&!Ds(n))return!1}return!0}var Ol=ys(es),Rl=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Tl(e),this.componentId=t,this.baseHash=ms(Ol,t),this.baseStyle=n,ll.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n).className:"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=Ms(r,this.staticRulesId);else{var a=Us(Cl(this.rules,e,t,n)),i=ps(ms(this.baseHash,a)>>>0);if(!t.hasNameForId(this.componentId,i)){var o=n(a,".".concat(i),void 0,this.componentId);t.insertRules(this.componentId,i,o)}r=Ms(r,i),this.staticRulesId=i}else{for(var s=ms(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var d=Us(Cl(u,e,t,n));s=ms(s,d+c),l+=d}}if(l){var h=ps(s>>>0);if(!t.hasNameForId(this.componentId,h)){var f=n(l,".".concat(h),void 0,this.componentId);t.insertRules(this.componentId,h,f)}r=Ms(r,h)}}return{className:r,css:"undefined"==typeof window?t.getTag().getGroup(Gs(this.componentId)):""}},e}(),Pl=rs?{Provider:function(e){return e.children},Consumer:function(e){return(0,e.children)(void 0)}}:r.createContext(void 0);Pl.Consumer;var Al={};new Set;function Il(e,t,n){var a=Ds(e),i=e,o=!ws(e),s=t.attrs,l=void 0===s?is:s,c=t.componentId,u=void 0===c?function(e,t){var n="string"!=typeof e?"sc":ds(e);Al[n]=(Al[n]||0)+1;var r="".concat(n,"-").concat(vs(es+n+Al[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,d=t.displayName,h=void 0===d?function(e){return ws(e)?"styled.".concat(e):"Styled(".concat(bs(e),")")}(e):d,f=t.displayName&&t.componentId?"".concat(ds(t.displayName),"-").concat(t.componentId):t.componentId||u,p=a&&i.attrs?i.attrs.concat(l).filter(Boolean):l,g=t.shouldForwardProp;if(a&&i.shouldForwardProp){var m=i.shouldForwardProp;if(t.shouldForwardProp){var y=t.shouldForwardProp;g=function(e,t){return m(e,t)&&y(e,t)}}else g=m}var v=new Rl(n,f,a?i.componentStyle:void 0);function w(e,t){return function(e,t,n){var a=e.attrs,i=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=r.useContext?r.useContext(Pl):void 0,d=bl(),h=e.shouldForwardProp||d.shouldForwardProp,f=ss(t,u,o)||os,p=function(e,t,n){for(var r,a=b(b({},t),{className:void 0,theme:n}),i=0;i<e.length;i+=1){var o=Ls(r=e[i])?r(a):r;for(var s in o)"className"===s?a.className=Ms(a.className,o[s]):"style"===s?a.style=b(b({},a.style),o[s]):a[s]=o[s]}return"className"in t&&"string"==typeof t.className&&(a.className=Ms(a.className,t.className)),a}(a,t,f),g=p.as||c,m={};for(var y in p)void 0===p[y]||"$"===y[0]||"as"===y||"theme"===y&&p.theme===f||("forwardedAs"===y?m.as=p.forwardedAs:h&&!h(y,g)||(m[y]=p[y]));var v=function(e,t){var n=bl();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(i,p),w=v.className,x=v.css,k=Ms(s,l);w&&(k+=" "+w),p.className&&(k+=" "+p.className),m[ws(g)&&!ls.has(g)?"class":"className"]=k,n&&(m.ref=n);var S=(0,r.createElement)(g,m);return rs&&x?r.createElement(r.Fragment,null,r.createElement("style",{precedence:"styled-components",href:"sc-".concat(l,"-").concat(w),children:x}),S):S}(x,e,t)}w.displayName=h;var x=r.forwardRef(w);return x.attrs=p,x.componentStyle=v,x.displayName=h,x.shouldForwardProp=g,x.foldedComponentIds=a?Ms(i.foldedComponentIds,i.styledComponentId):"",x.styledComponentId=f,x.target=a?i.target:e,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=a?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,a=t;r<a.length;r++)Ws(e,a[r],!0);return e}({},i.defaultProps,e):e}}),Bs(x,function(){return".".concat(x.styledComponentId)}),o&&Ns(x,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function zl(e,t){for(var n=[e[0]],r=0,a=t.length;r<a;r+=1)n.push(t[r],e[r+1]);return n}var Nl=function(e){return Object.assign(e,{isCss:!0})};function Ll(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ls(e)||Fs(e))return Nl(Cl(zl(is,k([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Cl(r):Nl(Cl(zl(r,t)))}function Dl(e,t,n){if(void 0===n&&(n=os),!t)throw qs(1,t);var r=function(r){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];return e(t,n,Ll.apply(void 0,k([r],a,!1)))};return r.attrs=function(r){return Dl(e,t,b(b({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return Dl(e,t,b(b({},n),r))},r}var Ml=function(e){return Dl(Il,e)},Ul=Ml;ls.forEach(function(e){Ul[e]=Ml(e)});!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Tl(e),ll.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,r){var a=r(Us(Cl(this.rules,t,n,r)),""),i=this.componentId+e;n.insertRules(i,i,a)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&ll.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();var Fl,Wl,Bl,ql,Hl,Vl,Kl;(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=tl(),r=Us([n&&'nonce="'.concat(n,'"'),"".concat(Qo,'="true"'),"".concat(Zo,'="').concat(es,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw qs(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw qs(2);var n=e.instance.toString();if(!n)return[];var a=((t={})[Qo]="",t[Zo]=es,t.dangerouslySetInnerHTML={__html:n},t),i=tl();return i&&(a.nonce=i),[r.createElement("style",b({},a,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new ll({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw qs(2);return r.createElement(wl,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw qs(3)}})(),"__sc-".concat(Qo,"__");const $l=Ul.div(Fl||(Fl=Yi(["\n  min-width: 220px;\n  padding: 12px 16px;\n  border-radius: 12px;\n  background: rgba(25, 25, 25, 0.85);\n  backdrop-filter: blur(12px);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  color: white;\n  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.5);\n  cursor: default;\n  user-select: none;\n"]))),Gl=Ul.div(Wl||(Wl=Yi(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 4px;\n"]))),Jl=Ul.div(Bl||(Bl=Yi(["\n  font-size: 24px;\n  font-weight: 600;\n"]))),Yl=Ul.div(ql||(ql=Yi(["\n  font-size: 12px;\n  color: #9ca3af;\n"]))),Ql=Ul.div(Hl||(Hl=Yi(["\n  margin-top: 8px;\n  font-size: 11px;\n  color: #9ca3af;\n  display: flex;\n  justify-content: space-between;\n"]))),Xl=Ul.span(Vl||(Vl=Yi(["\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n"]))),Zl=Ul.span(Kl||(Kl=Yi(["\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n"]))),ec=e=>{let{now:t}=e;const n=null!==t&&void 0!==t?t:new Date,r=n.getHours(),a=n.getMinutes().toString().padStart(2,"0"),i=(r+11)%12+1,o=r>=12?"PM":"AM",s=n.getDate(),l=n.toLocaleDateString(void 0,{weekday:"long"}),c=n.toLocaleDateString(void 0,{month:"long"}),u=n.getFullYear();return(0,ua.jsxs)($l,{children:[(0,ua.jsx)(Gl,{children:(0,ua.jsxs)(Jl,{children:[i,":",a," ",(0,ua.jsx)("span",{style:{fontSize:12},children:o})]})}),(0,ua.jsxs)(Yl,{children:[l,", ",c," ",s,", ",u]}),(0,ua.jsxs)(Ql,{children:[(0,ua.jsx)(Xl,{children:c.toUpperCase()}),(0,ua.jsx)(Zl,{children:l.toUpperCase()})]})]})};var tc;const nc=Ul.div(tc||(tc=Yi(["\n  position: absolute;\n  left: ","px;\n  top: ","px;\n  cursor: ",";\n  z-index: 100;\n\n  /* Critical: allows dragging even though WidgetsLayer has pointer-events: none */\n  pointer-events: auto;\n"])),e=>{let{x:t}=e;return t},e=>{let{y:t}=e;return t},e=>{let{locked:t}=e;return t?"default":"grab"}),rc="desktopClockWidgetPos",ac=e=>{let{visible:t=!0,locked:n=!1}=e;const[a,i]=(0,r.useState)({x:40,y:40}),[o,s]=(0,r.useState)(!1),l=(0,r.useRef)({mouseX:0,mouseY:0,x:0,y:0});(0,r.useEffect)(()=>{if("undefined"===typeof window)return;const e=localStorage.getItem(rc);if(e)try{const t=JSON.parse(e);"number"===typeof t.x&&"number"===typeof t.y&&i(t)}catch(t){}},[]),(0,r.useEffect)(()=>{"undefined"!==typeof window&&localStorage.setItem(rc,JSON.stringify(a))},[a]);const[c,u]=(0,r.useState)(new Date);(0,r.useEffect)(()=>{const e=setInterval(()=>u(new Date),3e4);return()=>clearInterval(e)},[]);const d=e=>{if(!o||n)return;const t=e.clientX-l.current.mouseX,r=e.clientY-l.current.mouseY;i({x:l.current.x+t,y:l.current.y+r})},h=()=>s(!1);return(0,r.useEffect)(()=>{if(o)return window.addEventListener("mousemove",d),window.addEventListener("mouseup",h),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",h)}},[o]),t?(0,ua.jsx)(nc,{x:a.x,y:a.y,locked:n,onMouseDown:e=>{n||(s(!0),l.current={mouseX:e.clientX,mouseY:e.clientY,x:a.x,y:a.y})},children:(0,ua.jsx)(ec,{now:c})}):null},ic=e=>{let{onLaunchApp:t,settings:n}=e;const[a,i]=(0,r.useState)(null),{openContextMenu:o}=Va(),s=(e,n)=>{e.preventDefault(),o(e,{payload:n,actions:[{label:"Open",onClick:()=>t(n.app)},{label:"Open in New Window",onClick:()=>t(n.app)},{label:"Pin to Taskbar",onClick:()=>console.log("Pin to Taskbar:",n)},{label:"Add to Favorites",onClick:()=>console.log("Add to Favorites:",n)},{label:"Remove from Desktop",onClick:()=>console.log("Remove from Desktop:",n)},{label:"Properties",onClick:()=>console.log("Properties:",n)}]})};return(0,ua.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",userSelect:"none"},children:[(0,ua.jsx)(ac,{visible:null===n||void 0===n?void 0:n.showClockWidget,locked:null===n||void 0===n?void 0:n.lockClockWidget}),(0,ua.jsx)("div",{style:{position:"absolute",width:"80px",height:"80px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",zIndex:0},children:(0,ua.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 100%)",boxShadow:"inset 0 2px 8px rgba(0, 0, 0, 0.1)"}})}),Ji.map((e,n)=>{const r=((e,t)=>{const n=(360*e/t-90)*Math.PI/180;return{x:200*Math.cos(n),y:200*Math.sin(n)}})(n,Ji.length),o=a===n,l=o?1.4:1,c=o?56:40,u=o?120:90;return(0,ua.jsxs)("div",{onClick:n=>{n.shiftKey?s(n,e):t(e.app)},onContextMenu:t=>s(t,e),onMouseEnter:()=>i(n),onMouseLeave:()=>i(null),style:{position:"absolute",left:"calc(50% + ".concat(r.x,"px)"),top:"calc(50% + ".concat(r.y,"px)"),transform:"translate(-50%, -50%) scale(".concat(l,")"),width:"".concat(u,"px"),height:"".concat(u,"px"),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",cursor:"pointer",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",zIndex:o?10:1},children:[(0,ua.jsxs)("div",{style:{position:"relative",width:"".concat(c+32,"px"),height:"".concat(c+32,"px"),display:"flex",alignItems:"center",justifyContent:"center"},children:[o&&(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",borderRadius:"50%",background:"rgba(255, 255, 255, 0.4)",filter:"blur(20px)",animation:"pulse 2s ease-in-out infinite"}}),(0,ua.jsx)("div",{style:{position:"absolute",width:"120%",height:"120%",borderRadius:"50%",background:"radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%)",animation:"rotate 8s linear infinite"}})]}),(0,ua.jsx)("div",{style:{position:"relative",padding:"16px",background:o?"linear-gradient(135deg, rgba(128, 240, 188, 0.91) 0%, rgba(71, 240, 183, 0.73) 100%)":"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",borderRadius:"20px",border:o?"2px solid rgba(255, 255, 255, 0.5)":"2px solid rgba(255, 255, 255, 0.3)",boxShadow:o?"0 12px 40px rgba(0, 0, 0, 0.3), inset 0 1px 2px rgba(255, 255, 255, 0.5)":"0 8px 24px rgba(0, 0, 0, 0.15)",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:(0,ua.jsx)(e.icon,{size:c,color:"white",strokeWidth:o?2.5:2,style:{filter:o?"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3))":"none",transition:"all 0.4s ease"}})})]}),(0,ua.jsx)("span",{style:{color:"white",fontSize:o?"16px":"14px",fontWeight:o?"700":"600",textAlign:"center",textShadow:o?"0 4px 12px rgba(0, 0, 0, 0.5), 0 2px 4px rgba(0, 0, 0, 0.3)":"0 2px 8px rgba(0, 0, 0, 0.3)",letterSpacing:o?"0.5px":"0px",transition:"all 0.4s ease",whiteSpace:"nowrap",opacity:o?1:.95},children:e.name}),o&&(0,ua.jsx)("div",{style:{position:"absolute",width:"2px",height:"".concat(Math.sqrt(r.x*r.x+r.y*r.y),"px"),background:"linear-gradient(to bottom, rgba(255, 255, 255, 0.6), transparent)",transformOrigin:"top center",transform:"rotate(".concat(180*Math.atan2(r.y,r.x)/Math.PI+90,"deg)"),top:"50%",left:"50%",marginLeft:"-1px",animation:"fadeIn 0.3s ease-in-out",pointerEvents:"none"}})]},e.name)}),null!==a&&(0,ua.jsx)("div",{style:{position:"absolute",textAlign:"center",color:"white",fontSize:"24px",fontWeight:"700",textShadow:"0 4px 16px rgba(0, 0, 0, 0.5)",letterSpacing:"1px",animation:"fadeInScale 0.3s ease-out",pointerEvents:"none",zIndex:5},children:Ji[a].name}),(0,ua.jsx)("style",{children:"\n          @keyframes pulse {\n            0%, 100% {\n              opacity: 0.6;\n              transform: scale(1);\n            }\n            50% {\n              opacity: 1;\n              transform: scale(1.1);\n            }\n          }\n\n          @keyframes rotate {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n\n          @keyframes fadeInScale {\n            from {\n              opacity: 0;\n              transform: scale(0.8);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1);\n            }\n          }\n        "})]})},oc=e=>{let{onLaunchApp:t}=e;const{openContextMenu:n}=Va(),r=(e,r)=>{e.preventDefault(),n(e,{payload:r,actions:[{label:"Open",onClick:()=>t(r.app)},{label:"Open in New Window",onClick:()=>t(r.app)},{label:"Pin to Taskbar",onClick:()=>console.log("Pin to Taskbar:",r)},{label:"Add to Favorites",onClick:()=>console.log("Add to Favorites:",r)},{label:"Remove from Desktop",onClick:()=>console.log("Remove from Desktop:",r)},{label:"Properties",onClick:()=>console.log("Properties:",r)}]})};return(0,ua.jsx)("div",{style:{padding:"32px",display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"24px",alignContent:"start"},children:Ji.map(e=>(0,ua.jsxs)("div",{onClick:n=>{n.shiftKey?r(n,e):t(e.app)},onContextMenu:t=>r(t,e),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:[(0,ua.jsx)("div",{style:{padding:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",borderRadius:"12px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.3)",e.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.2)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)",e.currentTarget.style.boxShadow="none"},children:(0,ua.jsx)(e.icon,{size:48,color:"white"})}),(0,ua.jsx)("span",{style:{color:"white",fontSize:"14px",fontWeight:"500",textAlign:"center",textShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e.name})]},e.name))})},sc=y("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),lc=y("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),cc=e=>{let{window:t,activeWindow:n,setActiveWindow:a,onMinimize:i,onMaximize:o,onClose:s,onUpdatePosition:l,fileSystem:u,saveFile:d,createDirectory:h,deleteFile:f,reloadFileSystem:p,userId:g,currentPath:m,onOpenFile:y,createWindow:v,currentUser:b,updateTheme:w,updateDesktopLayout:x}=e;const[k,S]=(0,r.useState)({x:t.x,y:t.y}),[_,E]=(0,r.useState)(!1),j=(0,r.useRef)({x:0,y:0}),C=$i[t.app],T=C.Component;if((0,r.useEffect)(()=>{const e=e=>{if(_){const n={x:e.clientX-j.current.x,y:e.clientY-j.current.y};S(n),l(t.id,n.x,n.y)}},n=()=>E(!1);return _&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n)}},[_,t.id,l]),t.minimized)return null;const O=t.maximized?{left:0,top:0,width:"100%",height:"calc(100% - 48px)",position:"absolute"}:{left:k.x,top:k.y,width:t.width,height:t.height,position:"absolute"},R=c({windowId:t.id,fileSystem:u,saveFile:d,createDirectory:h,deleteFile:f,reloadFileSystem:p,userId:g,currentPath:m,onOpenFile:y,createWindow:v,currentUser:b,updateTheme:w,updateDesktopLayout:x},t);return(0,ua.jsxs)("div",{style:c(c({},O),{},{background:"white",borderRadius:"8px",boxShadow:"0 20px 60px rgba(0,0,0,0.2)",display:"flex",minWidth:"1280",minHeight:"1080",flexDirection:"column",overflow:"hidden",zIndex:n===t.id?10:0}),onMouseDown:()=>a(t.id),children:[(0,ua.jsxs)("div",{onMouseDown:e=>{e.target.closest(".window-content")||e.target.closest("button")||(E(!0),j.current={x:e.clientX-k.x,y:e.clientY-k.y},a(t.id))},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",cursor:"move",userSelect:"none",background:n===t.id?"#879b93d8":"#000000",color:n===t.id?"white":"#374151"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,ua.jsx)(C.icon,{size:16}),(0,ua.jsx)("span",{style:{fontWeight:"600",fontSize:"18px"},children:t.title||C.title})]}),(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,ua.jsx)("button",{onClick:()=>i(t.id),style:{padding:"4px",background:"92bc98",border:"none",borderRadius:"12px",cursor:"pointer"},children:(0,ua.jsx)(sc,{size:16})}),(0,ua.jsx)("button",{onClick:()=>o(t.id),style:{padding:"4px",background:"92bc98",border:"none",borderRadius:"12px",cursor:"pointer"},children:(0,ua.jsx)(lc,{size:16})}),(0,ua.jsx)("button",{onClick:()=>s(t.id),style:{padding:"4px",background:"92bc98",border:"none",borderRadius:"12px",cursor:"pointer"},children:(0,ua.jsx)(Ci,{size:16})})]})]}),(0,ua.jsx)("div",{className:"window-content",style:{flex:1,overflow:"hidden"},children:(0,ua.jsx)(T,c({},R))})]})},uc=y("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),dc=n.p+"static/media/AOSLogo.4091930689dd75d464d2.png",hc=e=>{let{windows:t,activeWindow:n,currentUser:a,onRestoreWindow:i,onToggleAppMenu:o,onLogout:s,onLaunchApp:l,AppWindow:c}=e;const[u,d]=(0,r.useState)(new Date),h=la(),f=h?{position:"absolute",bottom:"12px",left:"50%",transform:"translateX(-50%)",width:"92%",height:"52px",background:"rgba(59, 58, 58, 0.73)",backdropFilter:"blur(22px) saturate(50%)",WebkitBackdropFilter:"blur(22px) saturate(50%)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.25)",boxShadow:"0 8px 24px rgba(0,0,0,0.35)",display:"flex",alignItems:"center",justifyContent:"space-around",padding:"0 12px",zIndex:9999}:{height:"52px",width:"100%",background:"rgba(59, 58, 58, 0.73)",backdropFilter:"blur(18px) saturate(180%)",WebkitBackdropFilter:"blur(18px) saturate(180%)",borderTop:"1px solid rgba(255, 255, 255, 0.25)",boxShadow:"0 -4px 16px rgba(0,0,0,0.35)",display:"flex",alignItems:"center",padding:"0 12px",gap:"8px",zIndex:9999},p={width:"48px",height:"48px",borderRadius:"16px",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"};return(0,ua.jsxs)("div",{style:f,children:[(0,ua.jsx)("button",{onClick:o,style:h?p:{background:"rgba(255, 255, 255, 0.25)",border:"0px",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",transition:"all 0.2s"},children:(0,ua.jsx)("img",{src:dc,alt:"AirOS Logo",style:{width:h?40:64,height:h?40:64,imageRendering:"crisp-edges"}})}),!h&&(0,ua.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px",flex:"0 1 auto"},children:t.filter(e=>!e.minimized).map(e=>{var t;const r=null===(t=$i[e.app])||void 0===t?void 0:t.icon;return(0,ua.jsxs)("button",{onClick:()=>i(e.id),style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 12px",borderRadius:"4px",background:n===e.id?"rgba(59,130,246,0.8)":"rgba(55,65,81,0.6)",color:n===e.id?"white":"#d1d5db",border:"none",cursor:"pointer",transition:"all 0.2s",maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap"},children:[r&&(0,ua.jsx)(r,{size:16}),(0,ua.jsx)("span",{style:{fontSize:"14px"},children:e.title||e.app})]},e.id)})}),!h&&(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginLeft:"auto"},children:[(0,ua.jsx)("button",{onClick:()=>l("chat"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(100, 100, 70, 0.8)",color:"white",borderRadius:"6px",fontSize:"16px",border:"none",cursor:"pointer",transition:"all 0.2s"},children:(0,ua.jsx)(v,{size:24,color:"white"})}),(0,ua.jsxs)("div",{style:{color:"white",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"6px"},children:[(0,ua.jsx)(ha,{size:16}),(0,ua.jsx)("span",{children:null===a||void 0===a?void 0:a.email})]}),(0,ua.jsxs)("button",{onClick:s,style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(100, 100, 70, 0.8)",color:"white",borderRadius:"6px",fontSize:"16px",border:"none",cursor:"pointer",transition:"all 0.2s"},children:[(0,ua.jsx)(uc,{size:18}),"Logout"]})]}),h&&(0,ua.jsx)("div",{style:p,onClick:s,children:(0,ua.jsx)(uc,{size:28,color:"white"})})]})},fc=y("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),pc=e=>{let{isOpen:t,onClose:n,onLaunchApp:a,onOpenSettings:i}=e;const[o,s]=(0,r.useState)(""),[l,u]=(0,r.useState)(null),d=(0,r.useRef)(null),h=(()=>{const e={};return Object.entries(Gi).forEach(t=>{let[n,r]=t;e[n]=c(c({},r),{},{apps:r.apps.map(e=>c({key:e},$i[e]))})}),e})();(0,r.useEffect)(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&n()};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,n]);const f=e=>{a(e),n(),s(""),u(null)},p=(()=>{if(!o)return null;const e=[];return Object.values(h).forEach(t=>{t.apps.forEach(t=>{t.name.toLowerCase().includes(o.toLowerCase())&&e.push(t)})}),e})();return t?(0,ua.jsxs)("div",{ref:d,style:{position:"fixed",bottom:"60px",left:"16px",width:"400px",maxHeight:"600px",background:"transparent",backdropFilter:"blur(20px)",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",zIndex:1e3,animation:"slideUp 0.2s ease-out"},children:[(0,ua.jsxs)("div",{style:{padding:"16px",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"transparent",backdropFilter:"blur(22px) saturate(150%)"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[(0,ua.jsx)("h2",{style:{color:"white",fontSize:"18px",fontWeight:"600",margin:0},children:l?h[l].name:"Applications"}),(0,ua.jsx)("button",{onClick:n,style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center"},children:(0,ua.jsx)(Ci,{size:20,color:"white"})})]}),(0,ua.jsxs)("div",{style:{position:"relative"},children:[(0,ua.jsx)(fc,{size:18,color:"#ffffff",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),(0,ua.jsx)("input",{type:"text",value:o,onChange:e=>s(e.target.value),placeholder:"Search apps...",autoFocus:!0,style:{width:"100%",padding:"10px 12px 10px 40px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",fontSize:"14px",outline:"none",boxSizing:"border-box"}})]})]}),(0,ua.jsx)("div",{style:{flex:1,overflow:"auto",padding:"16px"},children:o&&p?p.length>0?(0,ua.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:p.map(e=>(0,ua.jsxs)("button",{onClick:()=>f(e.key),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",padding:"16px 8px",background:"transparent",backdropFilter:"blur(22px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",color:"white"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.51)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.transform="translateY(0)"},children:[(0,ua.jsx)(e.icon,{size:32,color:"white"}),(0,ua.jsx)("span",{style:{fontSize:"12px",textAlign:"center",fontWeight:"500"},children:e.name})]},e.key))}):(0,ua.jsxs)("div",{style:{textAlign:"center",padding:"32px",color:"#9ca3af"},children:['No apps found matching "',o,'"']}):l?(0,ua.jsxs)(ua.Fragment,{children:[(0,ua.jsx)("button",{onClick:()=>{u(null)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",background:"transparent",backdropFilter:"blur(26px) saturate(150%)",borderRadius:"8px",color:"#9ca3af",cursor:"pointer",marginBottom:"16px",fontSize:"14px"},children:"\u2190 Back to categories"}),(0,ua.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:h[l].apps.map(e=>(0,ua.jsxs)("button",{onClick:()=>f(e.key),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",padding:"16px 8px",background:"transparent",backdropFilter:"blur(22px)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s",color:"white"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.73)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.41)",e.currentTarget.style.transform="translateY(0)"},children:[(0,ua.jsx)(e.icon,{size:32,color:"white"}),(0,ua.jsx)("span",{style:{fontSize:"12px",textAlign:"center",fontWeight:"500"},children:e.name})]},e.key))})]}):(0,ua.jsx)(ua.Fragment,{children:(0,ua.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Object.entries(h).map(e=>{let[t,n]=e;return(0,ua.jsxs)("button",{onClick:()=>u(t),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px",background:"rgba(156, 160, 156, 0.57)",backdropFilter:"blur(22px)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease",color:"white"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(156, 160, 156, 0.87)",e.currentTarget.style.transform="translateX(4px)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(156, 160, 156, 0.57)",e.currentTarget.style.transform="translateX(0)"},children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,ua.jsx)("span",{style:{fontSize:"28px"},children:n.icon}),(0,ua.jsxs)("div",{style:{textAlign:"left"},children:[(0,ua.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"2px"},children:n.name}),(0,ua.jsxs)("div",{style:{fontSize:"12px",color:"#9ca3af"},children:[n.apps.length," apps"]})]})]}),(0,ua.jsx)(Fa,{size:20,color:"#9ca3af"})]},t)})})})}),(0,ua.jsxs)("div",{style:{padding:"12px 16px",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",gap:"8px"},children:[(0,ua.jsx)("button",{onClick:()=>{i(),n()},style:{flex:1,padding:"8px",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",cursor:"pointer",fontWeight:"500",transition:"all 0.2s ease"},children:"Settings"}),(0,ua.jsx)("button",{style:{flex:1,padding:"8px",background:"rgba(255, 255, 255, 0.05)",backdropFilter:"blur(20px)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#ffffff",fontSize:"12px",cursor:"pointer",fontWeight:"500",transition:"all 0.2s ease"},children:"About"})]}),(0,ua.jsx)("style",{children:"\n          @keyframes slideUp {\n            from {\n              opacity: 0;\n              transform: translateY(20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n        "})]}):null},gc=y("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),mc=y("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),yc=y("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),vc=y("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),bc=y("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var wc,xc,kc,Sc,_c,Ec,jc,Cc,Tc,Oc,Rc,Pc,Ac,Ic,zc,Nc,Lc,Dc,Mc;const Uc=Ul.div(wc||(wc=Yi(["\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.05);   /* subtle dimming */\n  backdrop-filter: blur(16px);       /* pure blur */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  animation: fadeIn 0.2s ease-out;\n"]))),Fc=Ul.div(xc||(xc=Yi(["\n  width: 90%;\n  max-width: 900px;\n  max-height: 85vh;\n  background: rgba(30, 30, 30, 0.85); /* darker, more grounded */\n  border-radius: 16px;\n  box-shadow: 0 25px 80px rgba(0, 0, 0, 0.55);\n  border: 1px solid rgba(255, 255, 255, 0.08);\n  display: flex;\n  overflow: hidden;\n  animation: slideUp 0.3s ease-out;\n"]))),Wc=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"],Bc=Ul.div(kc||(kc=Yi(["\n  width: 240px;\n  background: rgba(20, 20, 20, 0.65); /* darker to match main panel */\n  border-right: 1px solid rgba(255, 255, 255, 0.08);\n  padding: 24px 0;\n  display: flex;\n  flex-direction: column;\n"]))),qc=Ul.h2(Sc||(Sc=Yi(["\n  color: white;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0 0 24px 24px;\n"]))),Hc=Ul.button(_c||(_c=Yi(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 12px 24px;\n  border: none;\n  cursor: pointer;\n  font-size: 14px;\n  text-align: left;\n  transition: all 0.2s;\n\n  background: ",";\n\n  border-left: ",";\n\n  color: ",";\n  font-weight: ",";\n\n  &:hover {\n    background: ",";\n  }\n"])),e=>{let{active:t}=e;return t?"rgba(59, 130, 246, 0.25)":"rgba(255, 255, 255, 0.04)"},e=>{let{active:t}=e;return t?"3px solid #3b82f6":"3px solid transparent"},e=>{let{active:t}=e;return t?"#60a5fa":"#d1d5db"},e=>{let{active:t}=e;return t?"600":"400"},e=>{let{active:t}=e;return t?"rgba(59, 130, 246, 0.25)":"rgba(255, 255, 255, 0.08)"}),Vc=Ul.div(Ec||(Ec=Yi(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: rgba(50, 50, 50, 0.55); /* tuned grey */\n  backdrop-filter: blur(10px);\n"]))),Kc=Ul.div(jc||(jc=Yi(["\n  padding: 20px 24px;\n  background: rgba(255, 255, 255, 0.10); /* reduced opacity */\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),$c=Ul.h3(Cc||(Cc=Yi(["\n  color: white;\n  font-size: 18px;\n  font-weight: 600;\n  margin: 0;\n"]))),Gc=Ul.button(Tc||(Tc=Yi(["\n  background: rgba(255, 255, 255, 0.15);\n  border: none;\n  border-radius: 8px;\n  padding: 8px;\n  cursor: pointer;\n  display: flex;\n"]))),Jc=Ul.div(Oc||(Oc=Yi(["\n  flex: 1;\n  overflow: auto;\n  padding: 24px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),Yc=(Ul.div(Rc||(Rc=Yi(["\n  background: rgba(255, 255, 255, 0.10); /* tuned down */\n  border-radius: 12px;\n  padding: 16px;\n"]))),Ul.div(Pc||(Pc=Yi(["\n  padding: 16px 24px;\n  border-top: 1px solid rgba(255, 255, 255, 0.08);\n  background: rgba(255, 255, 255, 0.06);\n  display: flex;\n  justify-content: flex-end;\n"])))),Qc=Ul.button(Ac||(Ac=Yi(["\n  padding: 10px 24px;\n  background: #3b82f6;\n  border: none;\n  border-radius: 8px;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n"]))),Xc=Ul.div(Ic||(Ic=Yi(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px;\n  background: rgba(255, 255, 255, 0.10);\n  border-radius: 12px;\n"]))),Zc=Ul.div(zc||(zc=Yi(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  flex: 1;\n"]))),eu=Ul.div(Nc||(Nc=Yi(["\n  color: white;\n  font-weight: 600;\n  font-size: 14px;\n"]))),tu=Ul.div(Lc||(Lc=Yi(["\n  color: #9ca3af;\n  font-size: 12px;\n  margin-top: 2px;\n"]))),nu=Ul.button(Dc||(Dc=Yi(["\n  width: 48px;\n  height: 28px;\n  border-radius: 14px;\n  background: ",";\n  border: none;\n  cursor: pointer;\n  position: relative;\n  transition: background 0.3s;\n"])),e=>{let{checked:t}=e;return t?"#3b82f6":"rgba(255, 255, 255, 0.18)"}),ru=Ul.div(Mc||(Mc=Yi(["\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: white;\n  position: absolute;\n  top: 4px;\n  left: ",";\n  transition: left 0.3s;\n"])),e=>{let{checked:t}=e;return t?"24px":"4px"}),au=e=>{let{icon:t,title:n,description:r,checked:a,onChange:i}=e;return(0,ua.jsxs)(Xc,{children:[(0,ua.jsxs)(Zc,{children:[t,(0,ua.jsxs)("div",{children:[(0,ua.jsx)(eu,{children:n}),(0,ua.jsx)(tu,{children:r})]})]}),(0,ua.jsx)(nu,{checked:a,onClick:()=>i(!a),children:(0,ua.jsx)(ru,{checked:a})})]})},iu=e=>{var t,n,a;let{isOpen:i,onClose:o,settings:s,onUpdateSetting:l}=e;const[c,u]=(0,r.useState)("appearance");if(!i)return null;const d=[{id:"appearance",name:"Appearance",icon:ma},{id:"profile",name:"Profile",icon:ha},{id:"preferences",name:"Preferences",icon:gc},{id:"accessibility",name:"Accessibility",icon:Ii}];return(0,ua.jsx)(Uc,{children:(0,ua.jsxs)(Fc,{children:[(0,ua.jsxs)(Bc,{children:[(0,ua.jsx)(qc,{children:"Settings"}),d.map(e=>(0,ua.jsxs)(Hc,{active:c===e.id,onClick:()=>u(e.id),children:[(0,ua.jsx)(e.icon,{size:18}),e.name]},e.id))]}),(0,ua.jsxs)(Vc,{children:[(0,ua.jsxs)(Kc,{children:[(0,ua.jsx)($c,{children:null===(t=d.find(e=>e.id===c))||void 0===t?void 0:t.name}),(0,ua.jsx)(Gc,{onClick:o,children:(0,ua.jsx)(Ci,{size:20,color:"white"})})]}),(0,ua.jsx)(Jc,{children:(0,ua.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[(0,ua.jsxs)("div",{style:{padding:"20px 24px",background:"rgba(255, 255, 255, 0.31)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ua.jsx)("h3",{style:{color:"white",fontSize:"18px",fontWeight:"600",margin:0},children:null===(n=d.find(e=>e.id===c))||void 0===n?void 0:n.name}),(0,ua.jsx)("button",{onClick:o,style:{background:"rgba(255, 255, 255, 0.74)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",display:"flex"},children:(0,ua.jsx)(Ci,{size:20,color:"white"})})]}),(0,ua.jsxs)("div",{style:{flex:1,overflow:"auto",padding:"24px"},children:["appearance"===c&&(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[(0,ua.jsxs)("div",{children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,ua.jsx)(mc,{size:20,color:"#60a5fa"}),(0,ua.jsx)("h4",{style:{color:"white",fontSize:"16px",fontWeight:"600",margin:0},children:"Desktop Layout"})]}),(0,ua.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:["wheel","grid"].map(e=>(0,ua.jsxs)("button",{onClick:()=>l("desktopLayout",e),style:{padding:"16px",background:s.desktopLayout===e?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.05)",border:s.desktopLayout===e?"2px solid #3b82f6":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",cursor:"pointer",position:"relative"},children:[s.desktopLayout===e&&(0,ua.jsx)("div",{style:{position:"absolute",top:"8px",right:"8px",background:"#3b82f6",borderRadius:"50%",padding:"4px",display:"flex"},children:(0,ua.jsx)(yc,{size:16,color:"white"})}),(0,ua.jsx)("div",{style:{textAlign:"center",color:"white",fontWeight:"600"},children:"wheel"===e?"Wheel Layout":"Grid Layout"})]},e))})]}),(0,ua.jsxs)("div",{children:[(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[(0,ua.jsx)(ma,{size:20,color:"#a855f7"}),(0,ua.jsx)("h4",{style:{color:"white",fontSize:"16px",fontWeight:"600",margin:0},children:"Color Theme"})]}),(0,ua.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"12px"},children:Object.entries(ca).map(e=>{let[t,n]=e;return(0,ua.jsxs)("button",{onClick:()=>l("theme",t),style:{padding:"12px",background:"rgba(197, 189, 189, 0.53)",border:s.theme===t?"2px solid #3b82f6":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",cursor:"pointer",position:"relative"},children:[s.theme===t&&(0,ua.jsx)("div",{style:{position:"absolute",top:"8px",right:"8px",background:"#3b82f6",borderRadius:"50%",padding:"4px",display:"flex",zIndex:1},children:(0,ua.jsx)(yc,{size:14,color:"white"})}),(0,ua.jsx)("div",{style:{width:"100%",height:"60px",background:n.gradient,borderRadius:"8px",marginBottom:"8px"}}),(0,ua.jsx)("div",{style:{color:"white",fontSize:"13px",fontWeight:"500",textAlign:"center"},children:n.name})]},t)})})]})]}),"profile"===c&&(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,ua.jsxs)("div",{children:[(0,ua.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Display Name"}),(0,ua.jsx)("input",{type:"text",value:s.displayName,onChange:e=>l("displayName",e.target.value),placeholder:"Enter your display name",style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.51)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",fontSize:"14px",boxSizing:"border-box"}}),(0,ua.jsx)("p",{style:{color:"#9ca3af",fontSize:"12px",marginTop:"4px"},children:"This name will be displayed in the taskbar and terminal"})]}),(0,ua.jsxs)("div",{children:[(0,ua.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Avatar Color"}),(0,ua.jsx)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:Wc.map(e=>(0,ua.jsx)("button",{onClick:()=>l("avatarColor",e),style:{width:"48px",height:"48px",borderRadius:"50%",background:e,border:s.avatarColor===e?"3px solid white":"2px solid rgba(255, 255, 255, 0.36)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:s.avatarColor===e&&(0,ua.jsx)(yc,{size:24,color:"white"})},e))})]}),(0,ua.jsxs)("div",{children:[(0,ua.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Preview"}),(0,ua.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"16px",background:"rgba(255, 255, 255, 0.49)",borderRadius:"12px"},children:[(0,ua.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:s.avatarColor,display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"20px",fontWeight:"700"},children:(s.displayName||"U")[0].toUpperCase()}),(0,ua.jsxs)("div",{children:[(0,ua.jsx)("div",{style:{color:"white",fontWeight:"600",fontSize:"16px"},children:s.displayName||"User"}),(0,ua.jsxs)("div",{style:{color:"#9ca3af",fontSize:"14px"},children:["@",(null===(a=s.displayName)||void 0===a?void 0:a.toLowerCase().replace(/\s+/g,""))||"user"]})]})]})]})]}),"preferences"===c&&(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,ua.jsxs)("div",{children:[(0,ua.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Terminal Theme"}),(0,ua.jsxs)("select",{value:s.terminalTheme,onChange:e=>l("terminalTheme",e.target.value),style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.47)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",fontSize:"14px"},children:[(0,ua.jsx)("option",{value:"classic",children:"Classic Green"}),(0,ua.jsx)("option",{value:"dark",children:"Dark Mode"}),(0,ua.jsx)("option",{value:"light",children:"Light Mode"})]})]}),(0,ua.jsxs)("div",{children:[(0,ua.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Default File View"}),(0,ua.jsxs)("select",{value:s.defaultFileView,onChange:e=>l("defaultFileView",e.target.value),style:{width:"100%",padding:"12px",background:"rgba(255, 255, 255, 0.37)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"white",fontSize:"14px"},children:[(0,ua.jsx)("option",{value:"grid",children:"Grid View"}),(0,ua.jsx)("option",{value:"list",children:"List View"})]})]}),(0,ua.jsx)(au,{icon:(0,ua.jsx)(vc,{size:18,color:"#60a5fa"}),title:"Notifications",description:"Show system notifications",checked:s.notifications,onChange:e=>l("notifications",e)}),(0,ua.jsx)(au,{icon:(0,ua.jsx)(bc,{size:18,color:"#f59e0b"}),title:"Auto-save",description:"Automatically save file changes",checked:s.autoSave,onChange:e=>l("autoSave",e)}),(0,ua.jsx)(au,{icon:(0,ua.jsx)(Ii,{size:18,color:"#8b5cf6"}),title:"Show Welcome Screen",description:"Display welcome message on login",checked:s.showWelcome,onChange:e=>l("showWelcome",e)})]}),"accessibility"===c&&(0,ua.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,ua.jsxs)("div",{children:[(0,ua.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Font Size"}),(0,ua.jsx)("div",{style:{display:"flex",gap:"12px"},children:["small","medium","large"].map(e=>(0,ua.jsx)("button",{onClick:()=>l("fontSize",e),style:{flex:1,padding:"12px",background:s.fontSize===e?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.05)",border:s.fontSize===e?"2px solid #3b82f6":"2px solid rgba(255, 255, 255, 0.33)",borderRadius:"8px",color:"white",cursor:"pointer",fontSize:"small"===e?"12px":"large"===e?"16px":"14px",fontWeight:"600",textTransform:"capitalize"},children:e},e))})]}),(0,ua.jsx)(au,{icon:(0,ua.jsx)(bc,{size:18,color:"#10b981"}),title:"Enable Animations",description:"Show smooth transitions and effects",checked:s.animationsEnabled,onChange:e=>l("animationsEnabled",e)}),(0,ua.jsxs)("div",{children:[(0,ua.jsx)("label",{style:{display:"block",color:"white",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Preview"}),(0,ua.jsxs)("div",{style:{padding:"16px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"12px",fontSize:"small"===s.fontSize?"12px":"large"===s.fontSize?"16px":"14px"},children:[(0,ua.jsx)("p",{style:{color:"white",margin:0},children:"The quick brown fox jumps over the lazy dog."}),(0,ua.jsx)("p",{style:{color:"#9ca3af",margin:"8px 0 0 0"},children:"This is how text will appear throughout the system."})]})]})]})]})]})}),(0,ua.jsx)(Yc,{children:(0,ua.jsx)(Qc,{onClick:o,children:"Done"})})]})]})})},ou=()=>{const{menu:e,closeContextMenu:t}=Va();return e.visible?(0,ua.jsx)("div",{style:{position:"fixed",top:e.y,left:e.x,background:"#111827",border:"1px solid #374151",borderRadius:6,padding:6,zIndex:9999,minWidth:160,color:"white",boxShadow:"0 4px 20px rgba(0,0,0,0.4)"},onMouseLeave:t,children:e.actions.map((n,r)=>(0,ua.jsx)("div",{onClick:()=>{n.onClick(e.payload),t()},style:{padding:"6px 10px",cursor:"pointer",borderRadius:4,fontSize:13,opacity:.9},onMouseEnter:e=>e.currentTarget.style.background="#1f2937",onMouseLeave:e=>e.currentTarget.style.background="transparent",children:n.label},r))}):null},su=()=>{const[e,t]=(0,r.useState)("login"),[n]=(0,r.useState)("/"),[a,i]=(0,r.useState)(!1),[o,s]=(0,r.useState)(!1),l=la(),{currentUser:u,isLoading:d,login:h,register:f,logout:p}=(()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{console.log("Starting session check...");const e=setTimeout(()=>{console.log("Safety timeout triggered - showing login screen"),a(!1)},3e3);try{const{data:e,error:n}=await dr.auth.getSession();console.log("Session check response:",{data:e,error:n}),n&&console.error("Supabase connection error:",n),null!==e&&void 0!==e&&e.session?(console.log("User session found:",e.session.user.email),t(e.session.user)):console.log("No active session found - showing login")}catch(n){console.error("Error during session check:",n)}finally{clearTimeout(e),console.log("Setting isLoading to false"),a(!1)}})();const{data:{subscription:e}}=dr.auth.onAuthStateChange(async(e,n)=>{t(n?n.user:null)});return()=>e.unsubscribe()},[]),{currentUser:e,isLoading:n,login:async(e,t)=>{try{const{error:n}=await dr.auth.signInWithPassword({email:e,password:t});if(n)throw n;return{success:!0}}catch(n){return{success:!1,error:n.message}}},register:async(e,t)=>{try{const{data:n,error:r}=await dr.auth.signUp({email:e,password:t});if(r)throw r;if(n.user)return{success:!0,message:"Account created! Check your email to confirm."}}catch(n){return{success:!1,error:n.message}}},logout:async()=>{await dr.auth.signOut(),t(null)}}})(),{fileSystem:g,saveFile:m,createDirectory:y,deleteFile:b,reloadFileSystem:w}=(e=>{const[t,n]=(0,r.useState)({});(0,r.useEffect)(()=>{e&&a()},[e]);const a=async()=>{await o(),await s()},i=async()=>{const t={"/":{type:"directory",children:[]}},{data:n,error:r}=await dr.from("files").select("*").eq("user_id",e);return r?(console.error("Supabase FS load error:",r),t):n&&0!==n.length?(n.forEach(e=>{t[e.path]={type:e.type,content:e.content,children:"directory"===e.type?[]:void 0}}),n.forEach(e=>{e.parent_path&&t[e.parent_path]&&(t[e.parent_path].children.includes(e.name)||t[e.parent_path].children.push(e.name))}),t):(await l(e),i())},o=async()=>{if(!e)return;const t=await i();t["/"]||(t["/"]={type:"directory",children:[]}),n(t)},s=async()=>{if(!e)return;const t=await i();for(const e in t){const a=t[e];if("/"!==e&&sa.some(t=>e.startsWith(t)))if("directory"===a.type)try{await oa.fs.mkdir(e,{recursive:!0})}catch(n){}else try{await oa.fs.writeFile(e,a.content||"","utf-8")}catch(r){}}},l=async e=>{const t=[{path:"/",name:"root",type:"directory",parent_path:null},{path:"/Documents",name:"Documents",type:"directory",parent_path:"/"},{path:"/Pictures",name:"Pictures",type:"directory",parent_path:"/"},{path:"/Videos",name:"Videos",type:"directory",parent_path:"/"},{path:"/Desktop",name:"Desktop",type:"directory",parent_path:"/"},{path:"/Projects",name:"Projects",type:"directory",parent_path:"/"},{path:"/Dev",name:"Dev",type:"directory",parent_path:"/"}].map(t=>c(c({},t),{},{user_id:e}));await dr.from("files").insert(t)};return{fileSystem:t,saveFile:async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file";if(!e)return;const a=t.substring(0,t.lastIndexOf("/"))||"/",i=t.substring(t.lastIndexOf("/")+1);try{const{data:l}=await dr.from("files").select("id").eq("user_id",e).eq("path",t).single();if(l?await dr.from("files").update({content:n,type:r,updated_at:(new Date).toISOString()}).eq("id",l.id):await dr.from("files").insert({user_id:e,path:t,name:i,type:r,content:n,parent_path:a}),await o(),sa.some(e=>t.startsWith(e)))try{await oa.fs.writeFile(t,null!==n&&void 0!==n?n:"","utf-8")}catch(s){console.warn("WebContainer mirror write failed:",s)}}catch(l){console.error("Error saving file:",l)}},createDirectory:async(t,n)=>{if(!e)return;const r="/"===t?"/".concat(n):"".concat(t,"/").concat(n);try{if(await dr.from("files").insert({user_id:e,path:r,name:n,type:"directory",parent_path:t}),await o(),sa.some(e=>r.startsWith(e)))try{await oa.fs.mkdir(r,{recursive:!0})}catch(a){console.warn("WebContainer mirror mkdir failed:",a)}}catch(i){console.error("Error creating directory:",i)}},deleteFile:async t=>{if(e)try{if(await dr.from("files").delete().eq("user_id",e).eq("path",t),await o(),sa.some(e=>t.startsWith(e)))try{await oa.fs.rm(t,{recursive:!0})}catch(n){console.warn("WebContainer mirror rm failed:",n)}}catch(r){console.error("Error deleting file:",r)}},reloadFileSystem:o,syncSupabaseIntoWebContainer:s}})(null===u||void 0===u?void 0:u.id),x=(e=>{const[t,n]=(0,r.useState)("default"),[a,i]=(0,r.useState)("wheel"),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)("#3b82f6"),[u,d]=(0,r.useState)("medium"),[h,f]=(0,r.useState)("classic"),[p,g]=(0,r.useState)(!0),[m,y]=(0,r.useState)(!0),[v,b]=(0,r.useState)(!0),[w,x]=(0,r.useState)(!0),[k,S]=(0,r.useState)("grid"),[_,E]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{if(e){const r=localStorage.getItem("settings_".concat(e));if(r)try{const e=JSON.parse(r);n(e.theme||"default"),i(e.desktopLayout||"wheel"),s(e.displayName||""),c(e.avatarColor||"#3b82f6"),d(e.fontSize||"medium"),f(e.terminalTheme||"classic"),g(!1!==e.showWelcome),y(!1!==e.autoSave),b(!1!==e.notifications),x(!1!==e.animationsEnabled),S(e.defaultFileView||"grid")}catch(t){console.error("Error loading settings:",t)}E(!1)}},[e]),(0,r.useEffect)(()=>{if(e&&!_){const n={theme:t,desktopLayout:a,displayName:o,avatarColor:l,fontSize:u,terminalTheme:h,showWelcome:p,autoSave:m,notifications:v,animationsEnabled:w,defaultFileView:k};localStorage.setItem("settings_".concat(e),JSON.stringify(n))}},[t,a,o,l,u,h,p,m,v,w,k,e,_]),{theme:t,desktopLayout:a,displayName:o,avatarColor:l,fontSize:u,terminalTheme:h,showWelcome:p,autoSave:m,notifications:v,animationsEnabled:w,defaultFileView:k,updateTheme:e=>{n(e)},updateDesktopLayout:e=>{i(e)},updateDisplayName:e=>{s(e)},updateAvatarColor:e=>{c(e)},updateFontSize:e=>{d(e)},updateTerminalTheme:e=>{f(e)},updateShowWelcome:e=>{g(e)},updateAutoSave:e=>{y(e)},updateNotifications:e=>{b(e)},updateAnimationsEnabled:e=>{x(e)},updateDefaultFileView:e=>{S(e)},isLoading:_}})(null===u||void 0===u?void 0:u.id),{windows:k,activeWindow:S,setActiveWindow:_,createWindow:E,closeWindow:j,minimizeWindow:C,restoreWindow:T,maximizeWindow:O,updateWindowPosition:R}=(()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(0),[i,o]=(0,r.useState)(null);return{windows:e,activeWindow:i,setActiveWindow:o,createWindow:function(r){const i=c({id:n,app:r,x:100+30*n%400,y:100+30*n%300,width:800,height:600,minimized:!1,maximized:!1},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});t([...e,i]),o(n),a(n+1)},closeWindow:n=>{t(e.filter(e=>e.id!==n)),i===n&&o(e.length>1?e[e.length-2].id:null)},minimizeWindow:n=>{t(e.map(e=>e.id===n?c(c({},e),{},{minimized:!0}):e))},restoreWindow:n=>{t(e.map(e=>e.id===n?c(c({},e),{},{minimized:!1,maximized:!1}):e)),o(n)},maximizeWindow:n=>{t(e.map(e=>e.id===n?c(c({},e),{},{maximized:!e.maximized}):e))},updateWindowPosition:(n,r,a)=>{t(e.map(e=>e.id===n?c(c({},e),{},{x:r,y:a}):e))}}})(),{pinnedApps:P,pinToTaskbar:A,unpinFromTaskbar:I,isPinned:z}=(()=>{const e="airos_pinned_apps",[t,n]=(0,r.useState)([]);return(0,r.useEffect)(()=>{try{const t=localStorage.getItem(e);if(t){const e=JSON.parse(t);Array.isArray(e)&&n(e)}}catch(t){console.warn("Failed to load pinned apps from storage:",t)}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("Failed to save pinned apps to storage:",n)}},[t]),{pinnedApps:t,pinToTaskbar:e=>{n(t=>t.includes(e)?t:[...t,e])},unpinFromTaskbar:e=>{n(t=>t.filter(t=>t!==e))},togglePin:e=>{n(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},isPinned:e=>t.includes(e)}})();(0,r.useEffect)(()=>{var e,t,n,r;if(!u)return;const a=document.documentElement;null===(e=a.requestFullscreen)||void 0===e||e.call(a),null===(t=a.webkitRequestFullscreen)||void 0===t||t.call(a),null===(n=a.mozRequestFullScreen)||void 0===n||n.call(a),null===(r=a.msRequestFullscreen)||void 0===r||r.call(a)},[u]);const N=(0,r.useMemo)(()=>{return e=x.theme,ca[e]||ca.default;var e},[x.theme]),L=(0,r.useCallback)((e,t)=>{const n=g[t];if(!n)return console.warn("File not found:",t);const r=t.toLowerCase(),a=()=>{if("string"===typeof n.content&&n.content.startsWith("data:"))return n.content;const e=r.split(".").pop();return"data:".concat({mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",mov:"video/quicktime",mp3:"audio/mpeg",wav:"audio/wav",flac:"audio/flac",m4a:"audio/mp4",aac:"audio/aac"}[e]||"application/octet-stream",";base64,").concat(n.content||"")};/\.(jpg|jpeg|png|gif|svg|webp)$/i.test(r)?E("image",{title:e,src:a(),filePath:t}):/\.(mp4|webm|ogg|mov|mp3|wav|flac|m4a|aac)$/i.test(r)?E("video",{title:e,src:a(),width:1280,height:940}):E("text",{title:e,filePath:t,width:1800,height:1280})},[g,E]),D=(0,r.useCallback)(e=>{"airchat"!==e?"files"!==e?E(e,{title:e}):E("files",{title:"File Manager"}):E("airchat",{title:"AirChat",width:900,height:650,icon:v,component:Ki,props:{currentUser:u}})},[E,u]),M=(0,r.useCallback)(()=>i(e=>!e),[]),U=(0,r.useCallback)(()=>s(!0),[]),F=(0,r.useCallback)(()=>{const e=k.find(e=>"calendar"===e.app);e?(_(e.id),e.minimized&&T(e.id)):E("calendar",{title:"Calendar",width:900,height:650})},[k,_,T,E]);return d?(0,ua.jsx)(da,{onSkip:()=>{}}):u?(0,ua.jsx)(Ha,{children:(0,ua.jsxs)("div",{style:{width:"100%",height:"98.7vh",display:"flex",flexDirection:"column",background:N.gradient,overflow:"hidden",transition:"background 0.5s ease"},children:[(0,ua.jsxs)("div",{style:{flex:2,position:"relative"},children:["wheel"===x.desktopLayout?(0,ua.jsx)(ic,{onLaunchApp:D,pinToTaskbar:A,settings:x,isPinned:z,unpinFromTaskbar:I,mobile:l}):(0,ua.jsx)(oc,{onLaunchApp:D,pinToTaskbar:A,isPinned:z,mobile:l}),k.map(e=>(0,ua.jsx)(cc,{window:e,activeWindow:S,setActiveWindow:_,onMinimize:C,onMaximize:O,onClose:j,onUpdatePosition:R,fileSystem:g,saveFile:m,createDirectory:y,deleteFile:b,reloadFileSystem:w,userId:null===u||void 0===u?void 0:u.id,currentPath:n,onOpenFile:L,createWindow:E,currentUser:u,updateTheme:x.updateTheme,updateDesktopLayout:x.updateDesktopLayout,mobile:l},e.id)),(0,ua.jsx)(pc,{isOpen:a,onClose:()=>i(!1),onLaunchApp:D,onOpenSettings:U}),(0,ua.jsx)(iu,{isOpen:o,onClose:()=>s(!1),settings:x,onUpdateSetting:(e,t)=>{const n=x["update".concat(e.charAt(0).toUpperCase()+e.slice(1))];n&&n(t)}}),(0,ua.jsx)(ou,{})]}),(0,ua.jsx)(hc,{windows:k,activeWindow:S,pinnedApps:P,currentUser:u,onRestoreWindow:T,onToggleAppMenu:M,onOpenCalendar:F,onLogout:p,onLaunchApp:D,mobile:l})]})}):(0,ua.jsx)(pa,{onLogin:h,onRegister:f,loginMode:e,setLoginMode:t})},lu=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:o}=t;n(e),r(e),a(e),i(e),o(e)})};a.createRoot(document.getElementById("root")).render((0,ua.jsx)(su,{})),lu()})();
//# sourceMappingURL=main.6596454c.js.map